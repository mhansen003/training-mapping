<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Attestation - NMLS Process Workflow</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0f1a;
            --bg-secondary: #111827;
            --bg-card: #1a2234;
            --accent-blue: #3b82f6;
            --accent-teal: #14b8a6;
            --accent-amber: #f59e0b;
            --accent-rose: #f43f5e;
            --accent-green: #22c55e;
            --accent-purple: #8b5cf6;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --border-subtle: rgba(255,255,255,0.08);
            --sidebar-width: 280px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body { font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, sans-serif; background: var(--bg-primary); color: var(--text-primary); min-height: 100vh; }

        .breadcrumb { background: linear-gradient(90deg, #0d1525 0%, #1a2234 100%); padding: 14px 25px; display: flex; align-items: center; gap: 12px; font-size: 0.95rem; position: fixed; top: 0; left: 0; right: 0; z-index: 1001; border-bottom: 1px solid var(--border-subtle); }
        .breadcrumb a { color: var(--text-secondary); text-decoration: none; font-weight: 600; padding: 8px 16px; background: rgba(255,255,255,0.05); border-radius: 8px; transition: all 0.2s; border: 1px solid var(--border-subtle); }
        .breadcrumb a:hover { background: rgba(59, 130, 246, 0.15); color: var(--accent-blue); border-color: rgba(59, 130, 246, 0.3); }
        .breadcrumb .separator { color: var(--text-muted); font-size: 1.2rem; }
        .breadcrumb .current { color: var(--accent-amber); font-weight: 600; padding: 8px 16px; }

        .sidebar { position: fixed; top: 54px; left: 0; width: var(--sidebar-width); height: calc(100vh - 54px); background: var(--bg-secondary); overflow-y: auto; z-index: 1000; border-right: 1px solid var(--border-subtle); display: flex; flex-direction: column; }
        .sidebar-header { padding: 25px 20px; background: rgba(0,0,0,0.3); border-bottom: 1px solid var(--border-subtle); }
        .sidebar-header h2 { color: var(--text-primary); font-size: 1.2rem; font-weight: 700; margin-bottom: 5px; }
        .sidebar-header p { color: var(--text-muted); font-size: 0.85rem; }

        .sidebar-tabs { display: flex; border-bottom: 1px solid var(--border-subtle); }
        .sidebar-tab { flex: 1; padding: 14px 10px; text-align: center; font-size: 0.8rem; font-weight: 700; color: var(--text-muted); cursor: pointer; transition: all 0.2s; border-bottom: 3px solid transparent; background: none; border-left: none; border-right: none; border-top: none; }
        .sidebar-tab:hover { background: rgba(255,255,255,0.03); color: var(--text-secondary); }
        .sidebar-tab.active { color: var(--accent-blue); border-bottom-color: var(--accent-blue); background: rgba(59, 130, 246, 0.08); }
        .sidebar-tab.agent-tab.active { color: var(--accent-purple); border-bottom-color: var(--accent-purple); background: rgba(139, 92, 246, 0.08); }

        .sidebar-nav { padding: 15px 0; flex: 1; overflow-y: auto; }
        .nav-item { display: flex; align-items: center; gap: 12px; padding: 14px 20px; color: var(--text-secondary); text-decoration: none; border-left: 3px solid transparent; transition: all 0.2s ease; cursor: pointer; }
        .nav-item:hover { background: rgba(255,255,255,0.03); color: var(--text-primary); }
        .nav-item.active { background: rgba(59, 130, 246, 0.1); border-left-color: var(--accent-blue); color: var(--text-primary); }
        .nav-number { background: rgba(255,255,255,0.1); color: var(--text-secondary); width: 28px; height: 28px; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.85rem; flex-shrink: 0; }
        .nav-item.active .nav-number { background: var(--accent-blue); color: white; }
        .nav-label { font-size: 0.95rem; font-weight: 500; }

        .sidebar-footer { padding: 20px; border-top: 1px solid var(--border-subtle); background: rgba(0,0,0,0.2); }
        .doc-btn { display: flex; align-items: center; justify-content: center; gap: 8px; width: 100%; padding: 14px 20px; background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%); color: white; border: none; border-radius: 10px; font-weight: 600; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; text-decoration: none; font-size: 0.95rem; }
        .doc-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3); }

        .main-content { margin-left: var(--sidebar-width); padding: 80px 40px 40px 40px; }
        .tab-panel { display: none; }
        .tab-panel.active { display: block; }

        .header { background: var(--bg-card); border: 1px solid var(--border-subtle); padding: 35px; border-radius: 16px; margin-bottom: 30px; position: relative; overflow: hidden; }
        .header::before { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: radial-gradient(ellipse at 20% 20%, rgba(59, 130, 246, 0.1) 0%, transparent 50%), radial-gradient(ellipse at 80% 80%, rgba(20, 184, 166, 0.08) 0%, transparent 50%); pointer-events: none; }
        .header h1 { font-size: 2.2rem; font-weight: 800; margin-bottom: 10px; position: relative; background: linear-gradient(135deg, var(--text-primary) 0%, var(--accent-blue) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .header .subtitle { color: var(--text-secondary); font-size: 1.1rem; position: relative; }
        .header .meta { display: flex; gap: 15px; margin-top: 20px; flex-wrap: wrap; position: relative; }
        .header .meta-item { background: rgba(255,255,255,0.05); border: 1px solid var(--border-subtle); padding: 8px 16px; border-radius: 8px; font-size: 0.9rem; color: var(--text-secondary); }

        .legend { display: flex; flex-wrap: wrap; gap: 15px; padding: 18px 22px; background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 12px; margin-bottom: 25px; }
        .legend-item { display: flex; align-items: center; gap: 8px; font-size: 0.85rem; color: var(--text-secondary); }
        .legend-color { width: 18px; height: 18px; border-radius: 4px; }

        .section { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 16px; margin-bottom: 25px; overflow: hidden; scroll-margin-top: 75px; }
        .section-header { background: linear-gradient(135deg, var(--bg-secondary) 0%, rgba(59, 130, 246, 0.1) 100%); border-bottom: 1px solid var(--border-subtle); padding: 22px 25px; display: flex; align-items: center; gap: 18px; }
        .section-number { background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%); color: white; width: 48px; height: 48px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-weight: 800; font-size: 1.3rem; flex-shrink: 0; }
        .section-title h2 { font-size: 1.35rem; font-weight: 700; margin-bottom: 4px; color: var(--text-primary); }
        .section-title span { font-size: 0.9rem; color: var(--text-muted); }
        .section-content { padding: 28px; }

        .workflow-diagram { background: rgba(0,0,0,0.3); border: 1px solid var(--border-subtle); border-radius: 12px; padding: 28px; margin-bottom: 22px; }
        .flow-row { display: flex; align-items: center; justify-content: center; flex-wrap: wrap; gap: 12px; margin: 15px 0; }
        .flow-node { padding: 14px 22px; border-radius: 10px; text-align: center; font-size: 0.9rem; font-weight: 600; min-width: 150px; border: 1px solid var(--border-subtle); }
        .flow-node.start { background: linear-gradient(135deg, var(--accent-green) 0%, #16a34a 100%); color: white; border-radius: 25px; border: none; }
        .flow-node.action { background: linear-gradient(135deg, var(--accent-blue) 0%, #2563eb 100%); color: white; border: none; }
        .flow-node.decision { background: linear-gradient(135deg, var(--accent-amber) 0%, #d97706 100%); color: var(--bg-primary); border: none; }
        .flow-node.input { background: var(--bg-secondary); border: 2px solid var(--accent-blue); color: var(--text-primary); }
        .flow-node.output { background: linear-gradient(135deg, var(--accent-teal) 0%, #0d9488 100%); color: white; border: none; }
        .flow-node.end { background: linear-gradient(135deg, var(--accent-green) 0%, #16a34a 100%); color: white; border-radius: 25px; border: none; }
        .flow-arrow { color: var(--accent-blue); font-size: 1.5rem; }
        .flow-arrow.down { transform: rotate(90deg); }

        .decision-branch { display: flex; gap: 40px; justify-content: center; margin: 20px 0; flex-wrap: wrap; }
        .branch { display: flex; flex-direction: column; align-items: center; gap: 10px; }
        .branch-label { background: var(--bg-secondary); border: 1px solid var(--border-subtle); padding: 6px 16px; border-radius: 20px; font-size: 0.8rem; font-weight: 700; color: var(--text-secondary); }

        .exception-box, .tip-box, .info-box, .warning-box { padding: 18px 22px; margin: 18px 0; border-radius: 0 10px 10px 0; }
        .exception-box { background: rgba(244, 63, 94, 0.08); border: 1px solid rgba(244, 63, 94, 0.2); border-left: 4px solid var(--accent-rose); }
        .exception-box h4 { color: var(--accent-rose); margin-bottom: 10px; font-size: 1rem; }
        .exception-box p, .exception-box li { color: var(--text-secondary); }
        .tip-box { background: rgba(34, 197, 94, 0.08); border: 1px solid rgba(34, 197, 94, 0.2); border-left: 4px solid var(--accent-green); }
        .tip-box h4 { color: var(--accent-green); margin-bottom: 10px; font-size: 1rem; }
        .tip-box p, .tip-box li { color: var(--text-secondary); }
        .info-box { background: rgba(59, 130, 246, 0.08); border: 1px solid rgba(59, 130, 246, 0.2); border-left: 4px solid var(--accent-blue); }
        .info-box h4 { color: var(--accent-blue); margin-bottom: 10px; font-size: 1rem; }
        .info-box p, .info-box li { color: var(--text-secondary); }
        .warning-box { background: rgba(245, 158, 11, 0.08); border: 1px solid rgba(245, 158, 11, 0.2); border-left: 4px solid var(--accent-amber); }
        .warning-box h4 { color: var(--accent-amber); margin-bottom: 10px; font-size: 1rem; }
        .warning-box p, .warning-box li { color: var(--text-secondary); }

        .quick-ref { background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-card) 100%); border: 1px solid var(--border-subtle); padding: 28px; border-radius: 16px; margin-top: 30px; font-family: 'JetBrains Mono', monospace; scroll-margin-top: 75px; }
        .quick-ref h3 { color: var(--accent-blue); margin-bottom: 18px; font-family: 'Plus Jakarta Sans', sans-serif; }
        .quick-ref pre { background: rgba(0,0,0,0.4); border: 1px solid var(--border-subtle); padding: 20px; border-radius: 10px; overflow-x: auto; font-size: 0.85rem; line-height: 1.7; color: var(--text-secondary); }

        .highlight-card { background: linear-gradient(135deg, rgba(59, 130, 246, 0.15) 0%, rgba(20, 184, 166, 0.1) 100%); border: 1px solid rgba(59, 130, 246, 0.3); border-radius: 12px; padding: 25px; margin: 20px 0; text-align: center; }
        .highlight-card h3 { color: var(--accent-blue); font-size: 1.2rem; margin-bottom: 10px; }
        .highlight-card p { color: var(--text-secondary); }

        /* Agent Styles */
        .agent-header { background: var(--bg-card); border: 1px solid var(--border-subtle); padding: 35px; border-radius: 16px; margin-bottom: 30px; position: relative; overflow: hidden; }
        .agent-header::before { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: radial-gradient(ellipse at 20% 20%, rgba(139, 92, 246, 0.12) 0%, transparent 50%), radial-gradient(ellipse at 80% 80%, rgba(245, 158, 11, 0.1) 0%, transparent 50%); pointer-events: none; }
        .agent-header h1 { font-size: 2.2rem; font-weight: 800; margin-bottom: 10px; position: relative; background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .agent-header .subtitle { color: var(--text-secondary); font-size: 1.1rem; position: relative; }

        .agent-summary { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 35px; }
        .agent-summary-card { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 14px; padding: 25px; text-align: center; }
        .agent-summary-value { font-size: 2.5rem; font-weight: 800; background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .agent-summary-label { font-size: 0.9rem; color: var(--text-muted); margin-top: 8px; }

        .heat-legend { display: flex; gap: 25px; padding: 18px 22px; background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 12px; margin-bottom: 25px; flex-wrap: wrap; }
        .heat-legend-item { display: flex; align-items: center; gap: 10px; font-size: 0.9rem; color: var(--text-secondary); }
        .heat-legend-color { width: 24px; height: 24px; border-radius: 6px; }

        .heat-map-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; }
        .heat-item { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 12px; padding: 20px; position: relative; overflow: hidden; transition: transform 0.2s, box-shadow 0.2s; cursor: pointer; }
        .heat-item:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .heat-item::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 4px; }
        .heat-item.critical::before { background: linear-gradient(90deg, #ef4444, #f97316); }
        .heat-item.high::before { background: linear-gradient(90deg, #f97316, #eab308); }
        .heat-item.medium::before { background: linear-gradient(90deg, #eab308, #22c55e); }
        .heat-item.low::before { background: linear-gradient(90deg, #22c55e, #14b8a6); }
        .heat-score { position: absolute; top: 15px; right: 15px; font-size: 1.8rem; font-weight: 800; }
        .heat-item.critical .heat-score { color: #ef4444; }
        .heat-item.high .heat-score { color: #f97316; }
        .heat-item.medium .heat-score { color: #eab308; }
        .heat-item.low .heat-score { color: #22c55e; }
        .heat-name { font-size: 1rem; font-weight: 700; color: var(--text-primary); margin-bottom: 6px; padding-right: 50px; }
        .heat-desc { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px; }
        .heat-metrics { display: flex; gap: 15px; margin-top: 12px; }
        .heat-metric { font-size: 0.75rem; color: var(--text-muted); }
        .heat-metric span { color: var(--text-secondary); font-weight: 600; }

        .agent-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)); gap: 25px; margin-bottom: 35px; }
        .agent-card { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 16px; overflow: hidden; transition: transform 0.2s, box-shadow 0.2s; }
        .agent-card:hover { transform: translateY(-5px); box-shadow: 0 15px 50px rgba(0,0,0,0.3); }
        .agent-card-header { padding: 22px; display: flex; align-items: flex-start; gap: 18px; border-bottom: 1px solid var(--border-subtle); }
        .agent-icon { width: 55px; height: 55px; background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%); border-radius: 14px; display: flex; align-items: center; justify-content: center; font-size: 1.4rem; flex-shrink: 0; color: white; font-weight: 700; }
        .agent-info { flex: 1; }
        .agent-name { font-size: 1.15rem; font-weight: 700; color: var(--text-primary); margin-bottom: 5px; }
        .agent-type { font-size: 0.8rem; color: var(--accent-purple); font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }
        .agent-priority { padding: 6px 12px; border-radius: 20px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; }
        .agent-priority.critical { background: rgba(239, 68, 68, 0.15); color: #ef4444; }
        .agent-priority.high { background: rgba(249, 115, 22, 0.15); color: #f97316; }
        .agent-priority.medium { background: rgba(234, 179, 8, 0.15); color: #eab308; }
        .agent-priority.low { background: rgba(34, 197, 94, 0.15); color: #22c55e; }
        .agent-card-body { padding: 22px; }
        .agent-description { font-size: 0.95rem; color: var(--text-secondary); line-height: 1.6; margin-bottom: 20px; }
        .agent-flow { background: rgba(0,0,0,0.3); border: 1px solid var(--border-subtle); border-radius: 10px; padding: 18px; margin-bottom: 20px; }
        .agent-flow-title { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }
        .agent-flow-diagram { display: flex; align-items: center; flex-wrap: wrap; gap: 8px; justify-content: center; }
        .agent-step { background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%); color: white; padding: 8px 14px; border-radius: 6px; font-size: 0.8rem; font-weight: 600; white-space: nowrap; }
        .agent-arrow { color: var(--accent-purple); font-size: 1.2rem; }
        .agent-stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
        .agent-stat { background: rgba(0,0,0,0.2); border-radius: 8px; padding: 12px; text-align: center; }
        .agent-stat-value { font-size: 1.3rem; font-weight: 800; background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .agent-stat-label { font-size: 0.7rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.05em; margin-top: 4px; }
        .agent-prompt-btn { width: 100%; margin-top: 18px; padding: 14px 20px; background: linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(59, 130, 246, 0.2) 100%); border: 1px solid rgba(139, 92, 246, 0.4); border-radius: 10px; color: var(--accent-purple); font-weight: 700; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; justify-content: center; gap: 10px; font-size: 0.9rem; }
        .agent-prompt-btn:hover { background: linear-gradient(135deg, rgba(139, 92, 246, 0.3) 0%, rgba(59, 130, 246, 0.3) 100%); border-color: var(--accent-purple); transform: translateY(-2px); box-shadow: 0 8px 25px rgba(139, 92, 246, 0.25); }

        .modal-overlay { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(10, 15, 26, 0.9); z-index: 2000; justify-content: center; align-items: center; padding: 20px; backdrop-filter: blur(5px); }
        .modal-overlay.show { display: flex; }
        .modal { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 16px; width: 100%; max-width: 800px; max-height: 90vh; display: flex; flex-direction: column; box-shadow: 0 25px 80px rgba(0,0,0,0.5); }
        .modal-header { background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%); color: white; padding: 22px 28px; display: flex; justify-content: space-between; align-items: center; border-radius: 16px 16px 0 0; }
        .modal-header h3 { font-size: 1.25rem; font-weight: 700; }
        .modal-actions { display: flex; gap: 12px; }
        .modal-btn { padding: 10px 18px; border: none; border-radius: 8px; cursor: pointer; font-weight: 700; transition: transform 0.2s; font-size: 0.9rem; }
        .modal-btn:hover { transform: scale(1.05); }
        .modal-btn.copy { background: white; color: var(--accent-blue); }
        .modal-btn.close { background: rgba(255,255,255,0.2); color: white; }
        .modal-body { padding: 28px; overflow-y: auto; flex: 1; }
        .prompt-section { margin-bottom: 25px; }
        .prompt-section h4 { color: var(--accent-purple); font-size: 1rem; margin-bottom: 12px; }
        .prompt-box { background: rgba(0,0,0,0.4); border: 1px solid var(--border-subtle); border-radius: 10px; padding: 20px; font-family: 'JetBrains Mono', monospace; font-size: 0.85rem; line-height: 1.7; color: var(--text-secondary); white-space: pre-wrap; word-wrap: break-word; }
        .prompt-tags { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 20px; }
        .prompt-tag { background: rgba(139, 92, 246, 0.15); color: var(--accent-purple); padding: 6px 14px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; }
        .copy-success { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: var(--accent-green); color: white; padding: 18px 35px; border-radius: 10px; font-weight: 700; z-index: 3000; display: none; }
        .agent-card.highlight { animation: highlightPulse 2s ease; box-shadow: 0 0 0 3px var(--accent-purple), 0 15px 50px rgba(139, 92, 246, 0.4); }
        @keyframes highlightPulse { 0% { box-shadow: 0 0 0 3px var(--accent-purple), 0 15px 50px rgba(139, 92, 246, 0.6); } 50% { box-shadow: 0 0 0 6px rgba(139, 92, 246, 0.5), 0 15px 50px rgba(139, 92, 246, 0.3); } 100% { box-shadow: 0 0 0 0px transparent, 0 15px 50px rgba(0,0,0,0.3); } }

        @media (max-width: 900px) { .sidebar { display: none; } .main-content { margin-left: 0; padding: 75px 20px 30px 20px; } .agent-grid { grid-template-columns: 1fr; } }
            .breadcrumb-logo-link { display: flex; align-items: center; padding: 4px 8px; background: rgba(255,255,255,0.08); border-radius: 8px; border: 1px solid rgba(255,255,255,0.12); transition: all 0.2s; }
        .breadcrumb-logo-link:hover { background: rgba(255,255,255,0.15); }
        .breadcrumb-logo { height: 28px; width: auto; }
    </style>
</head>
<body>
    <nav class="breadcrumb">
        <a href="../../index.html" class="breadcrumb-logo-link"><img src="../../images/clear-ai-logo.png" alt="Clear AI" class="breadcrumb-logo"></a>
        <a href="../../index.html">Portal Home</a>
        <span class="separator">></span>
        <a href="./index.html">NMLS</a>
        <span class="separator">></span>
        <span class="current">Attestation</span>
    </nav>

    <aside class="sidebar">
        <div class="sidebar-header">
            <h2>Attestation</h2>
            <p>MU4 Filing Confirmation</p>
        </div>
        <div class="sidebar-tabs">
            <button class="sidebar-tab active" onclick="switchTab('workflow')">Workflow</button>
            <button class="sidebar-tab agent-tab" onclick="switchTab('agents')">AI Agents</button>
        </div>
        <nav class="sidebar-nav" id="workflowNav">
            <a href="#section-1" class="nav-item active"><span class="nav-number">1</span><span class="nav-label">Receive Notification</span></a>
            <a href="#section-2" class="nav-item"><span class="nav-number">2</span><span class="nav-label">Navigate to Filing</span></a>
            <a href="#section-3" class="nav-item"><span class="nav-number">3</span><span class="nav-label">Review Filing</span></a>
            <a href="#section-4" class="nav-item"><span class="nav-number">4</span><span class="nav-label">Attest & Submit</span></a>
            <a href="#quick-ref" class="nav-item"><span class="nav-number">R</span><span class="nav-label">Quick Reference</span></a>
        </nav>
        <nav class="sidebar-nav" id="agentsNav" style="display: none;">
            <a href="#agent-summary" class="nav-item active"><span class="nav-number">S</span><span class="nav-label">Summary</span></a>
            <a href="#agent-heatmap" class="nav-item"><span class="nav-number">H</span><span class="nav-label">Heat Map</span></a>
            <a href="#agent-details" class="nav-item"><span class="nav-number">A</span><span class="nav-label">Agent Details</span></a>
        </nav>
        <div class="sidebar-footer"><a href="./index.html" class="doc-btn">Back to NMLS Portal</a></div>
    </aside>

    <main class="main-content">
        <div id="workflow-panel" class="tab-panel active">
            <div class="header">
                <h1>Attestation Workflow</h1>
                <p class="subtitle">Review and confirm MU4 filings created by CMG on your behalf</p>
                <div class="meta">
                    <span class="meta-item">System: NMLS</span>
                    <span class="meta-item">Role: MLO</span>
                    <span class="meta-item">Updated: March 2022</span>
                    <span class="meta-item">Duration: 5-10 min</span>
                </div>
            </div>

            <div class="legend">
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #22c55e, #16a34a);"></div><span>Start/End</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #3b82f6, #2563eb);"></div><span>Action Step</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #f59e0b, #d97706);"></div><span>Decision Point</span></div>
                <div class="legend-item"><div class="legend-color" style="background: #111827; border: 2px solid #3b82f6;"></div><span>User Input</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #14b8a6, #0d9488);"></div><span>Output</span></div>
            </div>

            <div class="warning-box">
                <h4>Action Required</h4>
                <p>When CMG initiates an Individual (MU4) Form filing on your behalf, you <strong>must</strong> log in to NMLS to review and confirm that your information is true and accurate. CMG cannot submit the filing until you attest.</p>
            </div>

            <!-- Section 1: Notification -->
            <section id="section-1" class="section">
                <div class="section-header">
                    <div class="section-number">1</div>
                    <div class="section-title"><h2>Receive Attestation Notification</h2><span>Email alerts indicating action is required</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node start">CMG Creates Filing</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">NMLS Sends Email</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Licensing Team Notifies You</div>
                        </div>
                    </div>
                    <div class="info-box">
                        <h4>Email Sources</h4>
                        <p>You will receive notifications from two sources:</p>
                        <ul style="margin-top: 10px; margin-left: 20px; color: var(--text-secondary);">
                            <li><strong>NMLS_Notifications@nmlsnotifications.com</strong> - Official NMLS system notification</li>
                            <li><strong>CMG Licensing Team</strong> - Internal notification with instructions</li>
                        </ul>
                    </div>
                    <div class="tip-box">
                        <h4>Check Spam Folder</h4>
                        <p>If you don't see the NMLS notification, check your spam/junk folder. Consider adding NMLS_Notifications@nmlsnotifications.com to your safe senders list.</p>
                    </div>
                </div>
            </section>

            <!-- Section 2: Navigate -->
            <section id="section-2" class="section">
                <div class="section-header">
                    <div class="section-number">2</div>
                    <div class="section-title"><h2>Navigate to Filing</h2><span>Access the pending attestation</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Log Into NMLS</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Go to Filing Tab</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Click Individual</div>
                        </div>
                    </div>
                    <div class="highlight-card">
                        <h3>Look for "To Attest" Section</h3>
                        <p>On the Individual Filing page, you will see a "TO ATTEST" section showing filings that require your attestation. Click the <strong>Review and Attest</strong> button next to the CMG Mortgage, Inc. (1820) entry.</p>
                    </div>
                </div>
            </section>

            <!-- Section 3: Review -->
            <section id="section-3" class="section">
                <div class="section-header">
                    <div class="section-number">3</div>
                    <div class="section-title"><h2>Review Filing Details</h2><span>Verify information accuracy</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Click "Review and Attest"</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node decision">Review Each Section</div>
                        </div>
                        <div class="decision-branch">
                            <div class="branch">
                                <span class="branch-label">Outstanding Items?</span>
                                <span class="flow-arrow down">|</span>
                                <div class="flow-node exception">Satisfy Each Item First</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">All Clear</span>
                                <span class="flow-arrow down">|</span>
                                <div class="flow-node output">Proceed to Attest</div>
                            </div>
                        </div>
                    </div>
                    <div class="info-box">
                        <h4>Left Navigation Panel Sections</h4>
                        <p>Review the following sections in the left navigation:</p>
                        <ul style="margin-top: 10px; margin-left: 20px; color: var(--text-secondary);">
                            <li>Criminal Background Check</li>
                            <li>Credit Report Request</li>
                            <li>Document Uploads</li>
                            <li><strong>Attest and Submit</strong></li>
                        </ul>
                    </div>
                    <div class="exception-box">
                        <h4>Outstanding Items</h4>
                        <p>If there are any outstanding items (shown with warnings), you must satisfy each item before you can attest to the form. Contact the Licensing Team if you need help resolving any items.</p>
                    </div>
                </div>
            </section>

            <!-- Section 4: Attest -->
            <section id="section-4" class="section">
                <div class="section-header">
                    <div class="section-number">4</div>
                    <div class="section-title"><h2>Attest and Submit</h2><span>Confirm and finalize the filing</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Select "Attest and Submit" (left menu)</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node input">Check Verification Box</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Click "Attest" Button</div>
                        </div>
                        <div class="flow-row">
                            <div class="flow-node output">CMG Receives Notification</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node end">Filing Submitted for Processing</div>
                        </div>
                    </div>
                    <div class="highlight-card">
                        <h3>Attestation Language</h3>
                        <p>"I verify that I am the named person above and agree to the language as stated."</p>
                    </div>
                    <div class="tip-box">
                        <h4>What Happens Next?</h4>
                        <p>After you attest, CMG will be notified via email that you have attested to your filing. The Licensing Team will then submit it for further processing with the relevant state regulators.</p>
                    </div>
                </div>
            </section>

            <section id="quick-ref" class="quick-ref">
                <h3>Quick Reference Card</h3>
                <pre>
ATTESTATION QUICK REFERENCE
============================

WHEN TO ATTEST:
- You receive email from NMLS_Notifications@nmlsnotifications.com
- AND/OR notification from CMG Licensing Team

STEPS:
1. Log into NMLS
2. Go to Filing > Individual
3. Find "TO ATTEST" section
4. Click "Review and Attest" for CMG Mortgage, Inc. (1820)
5. Review all sections for outstanding items
6. Click "Attest and Submit" in left menu
7. Check the verification box
8. Click "Attest" button

AFTER ATTESTATION:
- CMG is automatically notified
- Filing is submitted for state processing
- No further action required from you

SUPPORT:
- CMG Licensing: 1-925-983-3099
- Email: licensing@cmgfi.com

NOTE: You cannot attest if there are outstanding
items. Resolve all items first or contact Licensing.
                </pre>
            </section>
        </div>

        <!-- AGENT OPPORTUNITIES TAB -->
        <div id="agents-panel" class="tab-panel">
            <div class="agent-header">
                <h1>AI Agent Opportunities</h1>
                <p class="subtitle">Automation Analysis for Attestation Workflow</p>
                <div class="meta">
                    <span class="meta-item">4 Process Steps Analyzed</span>
                    <span class="meta-item">2 Agent Candidates Identified</span>
                    <span class="meta-item">Est. 50% Time Savings</span>
                </div>
            </div>

            <div class="agent-summary" id="agent-summary">
                <div class="agent-summary-card"><div class="agent-summary-value">2</div><div class="agent-summary-label">Agent Candidates</div></div>
                <div class="agent-summary-card"><div class="agent-summary-value">1</div><div class="agent-summary-label">High Priority</div></div>
                <div class="agent-summary-card"><div class="agent-summary-value">50%</div><div class="agent-summary-label">Time Savings</div></div>
                <div class="agent-summary-card"><div class="agent-summary-value">75%</div><div class="agent-summary-label">Automation Potential</div></div>
            </div>

            <div class="heat-legend" id="agent-heatmap">
                <div class="heat-legend-item"><div class="heat-legend-color" style="background: linear-gradient(135deg, #ef4444, #f97316);"></div><span><strong>Critical (90-100)</strong></span></div>
                <div class="heat-legend-item"><div class="heat-legend-color" style="background: linear-gradient(135deg, #f97316, #eab308);"></div><span><strong>High (70-89)</strong></span></div>
                <div class="heat-legend-item"><div class="heat-legend-color" style="background: linear-gradient(135deg, #eab308, #22c55e);"></div><span><strong>Medium (50-69)</strong></span></div>
                <div class="heat-legend-item"><div class="heat-legend-color" style="background: linear-gradient(135deg, #22c55e, #14b8a6);"></div><span><strong>Low (0-49)</strong></span></div>
            </div>

            <div class="heat-map-container">
                <div class="heat-map-title" style="font-size: 1.3rem; font-weight: 700; color: var(--text-primary); margin-bottom: 20px;">Automation Priority Heat Map</div>
                <div class="heat-map-grid">
                    <div class="heat-item high" onclick="scrollToAgent('agent-reminder')" title="Click to view agent details">
                        <div class="heat-score">85</div>
                        <div class="heat-name">Attestation Reminder Agent</div>
                        <div class="heat-desc">Escalating reminders until attestation complete</div>
                        <div class="heat-metrics"><div class="heat-metric">Effort: <span>Low</span></div><div class="heat-metric">Impact: <span>High</span></div></div>
                    </div>
                    <div class="heat-item medium" onclick="scrollToAgent('agent-tracker')" title="Click to view agent details">
                        <div class="heat-score">62</div>
                        <div class="heat-name">Filing Status Tracker</div>
                        <div class="heat-desc">Dashboard for pending attestations</div>
                        <div class="heat-metrics"><div class="heat-metric">Effort: <span>Medium</span></div><div class="heat-metric">Impact: <span>Medium</span></div></div>
                    </div>
                </div>
            </div>

            <h2 style="font-size: 1.4rem; margin: 35px 0 22px; color: var(--text-primary);" id="agent-details">Agent Specifications</h2>

            <div class="agent-grid">
                <div class="agent-card" id="agent-reminder">
                    <div class="agent-card-header">
                        <div class="agent-icon">BELL</div>
                        <div class="agent-info"><div class="agent-name">Attestation Reminder Agent</div><div class="agent-type">Notification Escalation Agent</div></div>
                        <span class="agent-priority high">High</span>
                    </div>
                    <div class="agent-card-body">
                        <p class="agent-description">Sends escalating reminders to MLOs with pending attestations, ensuring timely completion and preventing licensing delays.</p>
                        <div class="agent-flow">
                            <div class="agent-flow-title">Agent Flow</div>
                            <div class="agent-flow-diagram">
                                <div class="agent-step">Detect Pending</div><span class="agent-arrow">-></span>
                                <div class="agent-step">Send Reminder</div><span class="agent-arrow">-></span>
                                <div class="agent-step">Escalate</div><span class="agent-arrow">-></span>
                                <div class="agent-step">Track</div>
                            </div>
                        </div>
                        <div class="agent-stats">
                            <div class="agent-stat"><div class="agent-stat-value">24hr</div><div class="agent-stat-label">Response Time</div></div>
                            <div class="agent-stat"><div class="agent-stat-value">95%</div><div class="agent-stat-label">Completion</div></div>
                            <div class="agent-stat"><div class="agent-stat-value">Low</div><div class="agent-stat-label">Complexity</div></div>
                        </div>
                        <button class="agent-prompt-btn" onclick="showAgentPrompt('reminder')">View AI Prompt to Build This Agent</button>
                    </div>
                </div>

                <div class="agent-card" id="agent-tracker">
                    <div class="agent-card-header">
                        <div class="agent-icon">DASH</div>
                        <div class="agent-info"><div class="agent-name">Filing Status Tracker</div><div class="agent-type">Dashboard Agent</div></div>
                        <span class="agent-priority medium">Medium</span>
                    </div>
                    <div class="agent-card-body">
                        <p class="agent-description">Provides a centralized dashboard showing all pending attestations across MLOs, helping the Licensing Team track and manage compliance.</p>
                        <div class="agent-flow">
                            <div class="agent-flow-title">Agent Flow</div>
                            <div class="agent-flow-diagram">
                                <div class="agent-step">Scan NMLS</div><span class="agent-arrow">-></span>
                                <div class="agent-step">Aggregate Data</div><span class="agent-arrow">-></span>
                                <div class="agent-step">Display Dashboard</div>
                            </div>
                        </div>
                        <div class="agent-stats">
                            <div class="agent-stat"><div class="agent-stat-value">Real</div><div class="agent-stat-label">Time Data</div></div>
                            <div class="agent-stat"><div class="agent-stat-value">All</div><div class="agent-stat-label">MLOs Tracked</div></div>
                            <div class="agent-stat"><div class="agent-stat-value">Med</div><div class="agent-stat-label">Complexity</div></div>
                        </div>
                        <button class="agent-prompt-btn" onclick="showAgentPrompt('tracker')">View AI Prompt to Build This Agent</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <div class="modal-overlay" id="promptModal">
        <div class="modal">
            <div class="modal-header">
                <h3 id="promptModalTitle">AI Agent Build Prompt</h3>
                <div class="modal-actions">
                    <button class="modal-btn copy" onclick="copyPromptToClipboard()">Copy Prompt</button>
                    <button class="modal-btn close" onclick="closePromptModal()">Close</button>
                </div>
            </div>
            <div class="modal-body">
                <div class="prompt-tags" id="promptTags"></div>
                <div class="prompt-section"><h4>Agent Purpose</h4><div class="prompt-box" id="promptPurpose"></div></div>
                <div class="prompt-section"><h4>Full Build Prompt</h4><div class="prompt-box" id="promptContent"></div></div>
                <div class="prompt-section"><h4>Integration Points</h4><div class="prompt-box" id="promptIntegration"></div></div>
            </div>
        </div>
    </div>
    <div class="copy-success" id="copySuccess">Copied to clipboard!</div>

    <script>
        function switchTab(tab) {
            document.querySelectorAll('.sidebar-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));
            if (tab === 'workflow') {
                document.querySelector('.sidebar-tab:not(.agent-tab)').classList.add('active');
                document.getElementById('workflow-panel').classList.add('active');
                document.getElementById('workflowNav').style.display = 'block';
                document.getElementById('agentsNav').style.display = 'none';
            } else {
                document.querySelector('.sidebar-tab.agent-tab').classList.add('active');
                document.getElementById('agents-panel').classList.add('active');
                document.getElementById('workflowNav').style.display = 'none';
                document.getElementById('agentsNav').style.display = 'block';
            }
            window.scrollTo(0, 0);
        }

        const sections = document.querySelectorAll('.section, .quick-ref');
        const navItems = document.querySelectorAll('#workflowNav .nav-item');
        let isScrolling = false;
        let scrollTimeout;

        navItems.forEach(item => {
            item.addEventListener('click', (e) => {
                isScrolling = true;
                clearTimeout(scrollTimeout);
                scrollTimeout = setTimeout(() => { isScrolling = false; }, 1000);
            });
        });

        window.addEventListener('scroll', () => {
            if (isScrolling) return;
            let current = '';
            const scrollPosition = window.scrollY + 150;
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionBottom = sectionTop + section.offsetHeight;
                if (scrollPosition >= sectionTop && scrollPosition < sectionBottom) {
                    current = section.getAttribute('id');
                }
            });
            if (current) {
                navItems.forEach(item => {
                    item.classList.remove('active');
                    if (item.getAttribute('href') === '#' + current) {
                        item.classList.add('active');
                    }
                });
            }
        });

        const agentPrompts = {
            reminder: {
                name: 'Attestation Reminder Agent',
                tags: ['Notifications', 'Escalation', 'Low Complexity', 'High Priority'],
                purpose: 'This agent monitors pending attestations and sends escalating reminders to MLOs, ensuring timely completion of required attestations and preventing licensing delays.',
                prompt: `You are building a Notification Escalation Agent for NMLS attestation management.

AGENT NAME: Attestation Reminder Agent
TYPE: Notification / Escalation

OBJECTIVE:
Create an agent that monitors pending attestations and sends escalating reminders until the MLO completes the required action.

ESCALATION SCHEDULE:
Day 0: Initial notification (from NMLS + Licensing)
Day 1: First reminder - Email only
Day 3: Second reminder - Email + SMS
Day 5: Third reminder - Email + SMS + Manager CC
Day 7: Urgent escalation - Phone call trigger

REMINDER CONTENT:
Subject: [URGENT] NMLS Attestation Required - [Filing Type]

Body includes:
- MLO name and NMLS ID
- Filing type and creation date
- Days pending
- Direct link to NMLS attestation
- Step-by-step quick guide
- Contact info for help

TRACKING:
- Log all reminders sent
- Track open/click rates
- Record attestation completion time
- Report on compliance metrics`,
                integration: `INTEGRATION POINTS:

1. NMLS Monitoring
   - Check for pending attestations
   - Track completion status
   - Update on attestation completion

2. Communication Channels
   - Email via SendGrid/company SMTP
   - SMS via Twilio
   - Phone call trigger to Licensing queue

3. Manager Dashboard
   - List of pending attestations
   - Days outstanding
   - Escalation status
   - One-click to send manual reminder

4. Metrics & Reporting
   - Average time to attestation
   - Escalation frequency by MLO
   - Compliance trend reports`
            },
            tracker: {
                name: 'Filing Status Tracker',
                tags: ['Dashboard', 'Monitoring', 'Medium Complexity', 'Medium Priority'],
                purpose: 'This agent provides a centralized dashboard showing all pending attestations across MLOs, helping the Licensing Team manage compliance efficiently.',
                prompt: `You are building a Dashboard Agent for NMLS filing status tracking.

AGENT NAME: Filing Status Tracker
TYPE: Dashboard / Monitoring

OBJECTIVE:
Create a centralized dashboard that aggregates all pending attestations, providing the Licensing Team with real-time visibility into compliance status.

DASHBOARD FEATURES:

1. Summary Cards
   - Total pending attestations
   - Overdue (>3 days)
   - Critical (>7 days)
   - Completed this week

2. MLO List View
   | MLO Name | NMLS ID | Filing Type | Created | Days Pending | Status |
   |----------|---------|-------------|---------|--------------|--------|
   | J. Smith | 12345   | MU4 Update  | 1/15    | 3            | Warning|

3. Filters
   - By filing type
   - By status (pending, overdue, critical)
   - By date range
   - By MLO or team

4. Actions
   - Send reminder (individual or bulk)
   - View filing details
   - Export report
   - Assign to team member

DATA REFRESH:
- Real-time updates
- Auto-refresh every 5 minutes
- Manual refresh button`,
                integration: `INTEGRATION POINTS:

1. NMLS Data Source
   - Scrape or API access to filing status
   - Real-time status updates
   - Historical tracking

2. Web Dashboard
   - React/Vue frontend
   - REST API backend
   - Role-based access control

3. Alerting Integration
   - Connect to reminder agent
   - One-click to trigger reminder
   - Bulk operations support

4. Reporting
   - Daily summary email to Licensing Manager
   - Weekly compliance report
   - Export to Excel/PDF`
            }
        };

        function scrollToAgent(agentId) {
            const agentCard = document.getElementById(agentId);
            if (agentCard) {
                document.querySelectorAll('.agent-card.highlight').forEach(card => card.classList.remove('highlight'));
                agentCard.scrollIntoView({ behavior: 'smooth', block: 'center' });
                setTimeout(() => { agentCard.classList.add('highlight'); }, 300);
                setTimeout(() => { agentCard.classList.remove('highlight'); }, 2500);
            }
        }

        let currentPromptContent = '';

        function showAgentPrompt(agentKey) {
            const agent = agentPrompts[agentKey];
            if (!agent) return;
            document.getElementById('promptModalTitle').textContent = agent.name + ' - Build Prompt';
            document.getElementById('promptTags').innerHTML = agent.tags.map(tag => '<span class="prompt-tag">' + tag + '</span>').join('');
            document.getElementById('promptPurpose').textContent = agent.purpose;
            document.getElementById('promptContent').textContent = agent.prompt;
            document.getElementById('promptIntegration').textContent = agent.integration;
            currentPromptContent = '# ' + agent.name + '\n\n## Purpose\n' + agent.purpose + '\n\n## Build Prompt\n' + agent.prompt + '\n\n## Integration Points\n' + agent.integration;
            document.getElementById('promptModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closePromptModal() {
            document.getElementById('promptModal').classList.remove('show');
            document.body.style.overflow = '';
        }

        async function copyPromptToClipboard() {
            try {
                await navigator.clipboard.writeText(currentPromptContent);
                document.getElementById('copySuccess').style.display = 'block';
                setTimeout(() => { document.getElementById('copySuccess').style.display = 'none'; }, 2000);
            } catch (e) { alert('Failed to copy prompt.'); }
        }

        document.getElementById('promptModal').addEventListener('click', (e) => { if (e.target.id === 'promptModal') closePromptModal(); });
        document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closePromptModal(); });
    </script>
</body>
</html>
