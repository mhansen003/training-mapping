<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Criminal Background Check - NMLS Process Workflow</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0f1a;
            --bg-secondary: #111827;
            --bg-card: #1a2234;
            --accent-blue: #3b82f6;
            --accent-teal: #14b8a6;
            --accent-amber: #f59e0b;
            --accent-rose: #f43f5e;
            --accent-green: #22c55e;
            --accent-purple: #8b5cf6;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --border-subtle: rgba(255,255,255,0.08);
            --sidebar-width: 280px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body { font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, sans-serif; background: var(--bg-primary); color: var(--text-primary); min-height: 100vh; }

        .breadcrumb { background: linear-gradient(90deg, #0d1525 0%, #1a2234 100%); padding: 14px 25px; display: flex; align-items: center; gap: 12px; font-size: 0.95rem; position: fixed; top: 0; left: 0; right: 0; z-index: 1001; border-bottom: 1px solid var(--border-subtle); }
        .breadcrumb a { color: var(--text-secondary); text-decoration: none; font-weight: 600; padding: 8px 16px; background: rgba(255,255,255,0.05); border-radius: 8px; transition: all 0.2s; border: 1px solid var(--border-subtle); }
        .breadcrumb a:hover { background: rgba(59, 130, 246, 0.15); color: var(--accent-blue); border-color: rgba(59, 130, 246, 0.3); }
        .breadcrumb .separator { color: var(--text-muted); font-size: 1.2rem; }
        .breadcrumb .current { color: var(--accent-amber); font-weight: 600; padding: 8px 16px; }

        .sidebar { position: fixed; top: 54px; left: 0; width: var(--sidebar-width); height: calc(100vh - 54px); background: var(--bg-secondary); overflow-y: auto; z-index: 1000; border-right: 1px solid var(--border-subtle); display: flex; flex-direction: column; }
        .sidebar-header { padding: 25px 20px; background: rgba(0,0,0,0.3); border-bottom: 1px solid var(--border-subtle); }
        .sidebar-header h2 { color: var(--text-primary); font-size: 1.2rem; font-weight: 700; margin-bottom: 5px; }
        .sidebar-header p { color: var(--text-muted); font-size: 0.85rem; }

        .sidebar-tabs { display: flex; border-bottom: 1px solid var(--border-subtle); }
        .sidebar-tab { flex: 1; padding: 14px 10px; text-align: center; font-size: 0.8rem; font-weight: 700; color: var(--text-muted); cursor: pointer; transition: all 0.2s; border-bottom: 3px solid transparent; background: none; border-left: none; border-right: none; border-top: none; }
        .sidebar-tab:hover { background: rgba(255,255,255,0.03); color: var(--text-secondary); }
        .sidebar-tab.active { color: var(--accent-blue); border-bottom-color: var(--accent-blue); background: rgba(59, 130, 246, 0.08); }
        .sidebar-tab.agent-tab.active { color: var(--accent-purple); border-bottom-color: var(--accent-purple); background: rgba(139, 92, 246, 0.08); }

        .sidebar-nav { padding: 15px 0; flex: 1; overflow-y: auto; }
        .nav-item { display: flex; align-items: center; gap: 12px; padding: 14px 20px; color: var(--text-secondary); text-decoration: none; border-left: 3px solid transparent; transition: all 0.2s ease; cursor: pointer; }
        .nav-item:hover { background: rgba(255,255,255,0.03); color: var(--text-primary); }
        .nav-item.active { background: rgba(59, 130, 246, 0.1); border-left-color: var(--accent-blue); color: var(--text-primary); }
        .nav-number { background: rgba(255,255,255,0.1); color: var(--text-secondary); width: 28px; height: 28px; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.85rem; flex-shrink: 0; }
        .nav-item.active .nav-number { background: var(--accent-blue); color: white; }
        .nav-label { font-size: 0.95rem; font-weight: 500; }

        .sidebar-footer { padding: 20px; border-top: 1px solid var(--border-subtle); background: rgba(0,0,0,0.2); }
        .doc-btn { display: flex; align-items: center; justify-content: center; gap: 8px; width: 100%; padding: 14px 20px; background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%); color: white; border: none; border-radius: 10px; font-weight: 600; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; text-decoration: none; font-size: 0.95rem; }
        .doc-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3); }

        .main-content { margin-left: var(--sidebar-width); padding: 80px 40px 40px 40px; }
        .tab-panel { display: none; }
        .tab-panel.active { display: block; }

        .header { background: var(--bg-card); border: 1px solid var(--border-subtle); padding: 35px; border-radius: 16px; margin-bottom: 30px; position: relative; overflow: hidden; }
        .header::before { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: radial-gradient(ellipse at 20% 20%, rgba(59, 130, 246, 0.1) 0%, transparent 50%), radial-gradient(ellipse at 80% 80%, rgba(20, 184, 166, 0.08) 0%, transparent 50%); pointer-events: none; }
        .header h1 { font-size: 2.2rem; font-weight: 800; margin-bottom: 10px; position: relative; background: linear-gradient(135deg, var(--text-primary) 0%, var(--accent-blue) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .header .subtitle { color: var(--text-secondary); font-size: 1.1rem; position: relative; }
        .header .meta { display: flex; gap: 15px; margin-top: 20px; flex-wrap: wrap; position: relative; }
        .header .meta-item { background: rgba(255,255,255,0.05); border: 1px solid var(--border-subtle); padding: 8px 16px; border-radius: 8px; font-size: 0.9rem; color: var(--text-secondary); }

        .legend { display: flex; flex-wrap: wrap; gap: 15px; padding: 18px 22px; background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 12px; margin-bottom: 25px; }
        .legend-item { display: flex; align-items: center; gap: 8px; font-size: 0.85rem; color: var(--text-secondary); }
        .legend-color { width: 18px; height: 18px; border-radius: 4px; }

        .section { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 16px; margin-bottom: 25px; overflow: hidden; scroll-margin-top: 75px; }
        .section-header { background: linear-gradient(135deg, var(--bg-secondary) 0%, rgba(59, 130, 246, 0.1) 100%); border-bottom: 1px solid var(--border-subtle); padding: 22px 25px; display: flex; align-items: center; gap: 18px; }
        .section-number { background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%); color: white; width: 48px; height: 48px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-weight: 800; font-size: 1.3rem; flex-shrink: 0; }
        .section-title h2 { font-size: 1.35rem; font-weight: 700; margin-bottom: 4px; color: var(--text-primary); }
        .section-title span { font-size: 0.9rem; color: var(--text-muted); }
        .section-content { padding: 28px; }

        .workflow-diagram { background: rgba(0,0,0,0.3); border: 1px solid var(--border-subtle); border-radius: 12px; padding: 28px; margin-bottom: 22px; }
        .flow-row { display: flex; align-items: center; justify-content: center; flex-wrap: wrap; gap: 12px; margin: 15px 0; }
        .flow-node { padding: 14px 22px; border-radius: 10px; text-align: center; font-size: 0.9rem; font-weight: 600; min-width: 150px; border: 1px solid var(--border-subtle); }
        .flow-node.start { background: linear-gradient(135deg, var(--accent-green) 0%, #16a34a 100%); color: white; border-radius: 25px; border: none; }
        .flow-node.action { background: linear-gradient(135deg, var(--accent-blue) 0%, #2563eb 100%); color: white; border: none; }
        .flow-node.decision { background: linear-gradient(135deg, var(--accent-amber) 0%, #d97706 100%); color: var(--bg-primary); border: none; }
        .flow-node.input { background: var(--bg-secondary); border: 2px solid var(--accent-blue); color: var(--text-primary); }
        .flow-node.output { background: linear-gradient(135deg, var(--accent-teal) 0%, #0d9488 100%); color: white; border: none; }
        .flow-node.end { background: linear-gradient(135deg, var(--accent-green) 0%, #16a34a 100%); color: white; border-radius: 25px; border: none; }
        .flow-node.exception { background: linear-gradient(135deg, var(--accent-rose) 0%, #dc2626 100%); color: white; border: none; }
        .flow-arrow { color: var(--accent-blue); font-size: 1.5rem; }
        .flow-arrow.down { transform: rotate(90deg); }

        .decision-branch { display: flex; gap: 40px; justify-content: center; margin: 20px 0; flex-wrap: wrap; }
        .branch { display: flex; flex-direction: column; align-items: center; gap: 10px; }
        .branch-label { background: var(--bg-secondary); border: 1px solid var(--border-subtle); padding: 6px 16px; border-radius: 20px; font-size: 0.8rem; font-weight: 700; color: var(--text-secondary); }

        .exception-box, .tip-box, .info-box, .warning-box { padding: 18px 22px; margin: 18px 0; border-radius: 0 10px 10px 0; }
        .exception-box { background: rgba(244, 63, 94, 0.08); border: 1px solid rgba(244, 63, 94, 0.2); border-left: 4px solid var(--accent-rose); }
        .exception-box h4 { color: var(--accent-rose); margin-bottom: 10px; font-size: 1rem; }
        .exception-box p, .exception-box li { color: var(--text-secondary); }
        .tip-box { background: rgba(34, 197, 94, 0.08); border: 1px solid rgba(34, 197, 94, 0.2); border-left: 4px solid var(--accent-green); }
        .tip-box h4 { color: var(--accent-green); margin-bottom: 10px; font-size: 1rem; }
        .tip-box p, .tip-box li { color: var(--text-secondary); }
        .info-box { background: rgba(59, 130, 246, 0.08); border: 1px solid rgba(59, 130, 246, 0.2); border-left: 4px solid var(--accent-blue); }
        .info-box h4 { color: var(--accent-blue); margin-bottom: 10px; font-size: 1rem; }
        .info-box p, .info-box li { color: var(--text-secondary); }
        .warning-box { background: rgba(245, 158, 11, 0.08); border: 1px solid rgba(245, 158, 11, 0.2); border-left: 4px solid var(--accent-amber); }
        .warning-box h4 { color: var(--accent-amber); margin-bottom: 10px; font-size: 1rem; }
        .warning-box p, .warning-box li { color: var(--text-secondary); }

        .field-table { width: 100%; border-collapse: collapse; margin: 18px 0; }
        .field-table th { background: rgba(59, 130, 246, 0.15); color: var(--accent-blue); padding: 14px 18px; text-align: left; font-weight: 600; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.05em; border-bottom: 1px solid var(--border-subtle); }
        .field-table td { padding: 14px 18px; border-bottom: 1px solid var(--border-subtle); color: var(--text-secondary); }
        .field-table tr:hover { background: rgba(255,255,255,0.02); }

        .quick-ref { background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-card) 100%); border: 1px solid var(--border-subtle); padding: 28px; border-radius: 16px; margin-top: 30px; font-family: 'JetBrains Mono', monospace; scroll-margin-top: 75px; }
        .quick-ref h3 { color: var(--accent-blue); margin-bottom: 18px; font-family: 'Plus Jakarta Sans', sans-serif; }
        .quick-ref pre { background: rgba(0,0,0,0.4); border: 1px solid var(--border-subtle); padding: 20px; border-radius: 10px; overflow-x: auto; font-size: 0.85rem; line-height: 1.7; color: var(--text-secondary); }

        /* Agent Styles - abbreviated for brevity, same as other files */
        .agent-header { background: var(--bg-card); border: 1px solid var(--border-subtle); padding: 35px; border-radius: 16px; margin-bottom: 30px; position: relative; overflow: hidden; }
        .agent-header::before { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: radial-gradient(ellipse at 20% 20%, rgba(139, 92, 246, 0.12) 0%, transparent 50%), radial-gradient(ellipse at 80% 80%, rgba(245, 158, 11, 0.1) 0%, transparent 50%); pointer-events: none; }
        .agent-header h1 { font-size: 2.2rem; font-weight: 800; margin-bottom: 10px; position: relative; background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .agent-header .subtitle { color: var(--text-secondary); font-size: 1.1rem; position: relative; }

        .heat-map-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; }
        .heat-item { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 12px; padding: 20px; position: relative; overflow: hidden; transition: transform 0.2s, box-shadow 0.2s; cursor: pointer; }
        .heat-item:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .heat-item::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 4px; }
        .heat-item.critical::before { background: linear-gradient(90deg, #ef4444, #f97316); }
        .heat-item.high::before { background: linear-gradient(90deg, #f97316, #eab308); }
        .heat-item.medium::before { background: linear-gradient(90deg, #eab308, #22c55e); }
        .heat-item.low::before { background: linear-gradient(90deg, #22c55e, #14b8a6); }
        .heat-score { position: absolute; top: 15px; right: 15px; font-size: 1.8rem; font-weight: 800; }
        .heat-item.critical .heat-score { color: #ef4444; }
        .heat-item.high .heat-score { color: #f97316; }
        .heat-item.medium .heat-score { color: #eab308; }
        .heat-item.low .heat-score { color: #22c55e; }
        .heat-name { font-size: 1rem; font-weight: 700; color: var(--text-primary); margin-bottom: 6px; padding-right: 50px; }
        .heat-desc { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px; }
        .heat-metrics { display: flex; gap: 15px; margin-top: 12px; }
        .heat-metric { font-size: 0.75rem; color: var(--text-muted); }
        .heat-metric span { color: var(--text-secondary); font-weight: 600; }

        .agent-summary { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 35px; }
        .agent-summary-card { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 14px; padding: 25px; text-align: center; }
        .agent-summary-value { font-size: 2.5rem; font-weight: 800; background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .agent-summary-label { font-size: 0.9rem; color: var(--text-muted); margin-top: 8px; }

        .heat-legend { display: flex; gap: 25px; padding: 18px 22px; background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 12px; margin-bottom: 25px; flex-wrap: wrap; }
        .heat-legend-item { display: flex; align-items: center; gap: 10px; font-size: 0.9rem; color: var(--text-secondary); }
        .heat-legend-color { width: 24px; height: 24px; border-radius: 6px; }

        .agent-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)); gap: 25px; margin-bottom: 35px; }
        .agent-card { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 16px; overflow: hidden; transition: transform 0.2s, box-shadow 0.2s; }
        .agent-card:hover { transform: translateY(-5px); box-shadow: 0 15px 50px rgba(0,0,0,0.3); }
        .agent-card-header { padding: 22px; display: flex; align-items: flex-start; gap: 18px; border-bottom: 1px solid var(--border-subtle); }
        .agent-icon { width: 55px; height: 55px; background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%); border-radius: 14px; display: flex; align-items: center; justify-content: center; font-size: 1.4rem; flex-shrink: 0; color: white; font-weight: 700; }
        .agent-info { flex: 1; }
        .agent-name { font-size: 1.15rem; font-weight: 700; color: var(--text-primary); margin-bottom: 5px; }
        .agent-type { font-size: 0.8rem; color: var(--accent-purple); font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }
        .agent-priority { padding: 6px 12px; border-radius: 20px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; }
        .agent-priority.critical { background: rgba(239, 68, 68, 0.15); color: #ef4444; }
        .agent-priority.high { background: rgba(249, 115, 22, 0.15); color: #f97316; }
        .agent-priority.medium { background: rgba(234, 179, 8, 0.15); color: #eab308; }
        .agent-priority.low { background: rgba(34, 197, 94, 0.15); color: #22c55e; }
        .agent-card-body { padding: 22px; }
        .agent-description { font-size: 0.95rem; color: var(--text-secondary); line-height: 1.6; margin-bottom: 20px; }
        .agent-flow { background: rgba(0,0,0,0.3); border: 1px solid var(--border-subtle); border-radius: 10px; padding: 18px; margin-bottom: 20px; }
        .agent-flow-title { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }
        .agent-flow-diagram { display: flex; align-items: center; flex-wrap: wrap; gap: 8px; justify-content: center; }
        .agent-step { background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%); color: white; padding: 8px 14px; border-radius: 6px; font-size: 0.8rem; font-weight: 600; white-space: nowrap; }
        .agent-arrow { color: var(--accent-purple); font-size: 1.2rem; }
        .agent-stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
        .agent-stat { background: rgba(0,0,0,0.2); border-radius: 8px; padding: 12px; text-align: center; }
        .agent-stat-value { font-size: 1.3rem; font-weight: 800; background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .agent-stat-label { font-size: 0.7rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.05em; margin-top: 4px; }
        .agent-prompt-btn { width: 100%; margin-top: 18px; padding: 14px 20px; background: linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(59, 130, 246, 0.2) 100%); border: 1px solid rgba(139, 92, 246, 0.4); border-radius: 10px; color: var(--accent-purple); font-weight: 700; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; justify-content: center; gap: 10px; font-size: 0.9rem; }
        .agent-prompt-btn:hover { background: linear-gradient(135deg, rgba(139, 92, 246, 0.3) 0%, rgba(59, 130, 246, 0.3) 100%); border-color: var(--accent-purple); transform: translateY(-2px); box-shadow: 0 8px 25px rgba(139, 92, 246, 0.25); }

        .modal-overlay { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(10, 15, 26, 0.9); z-index: 2000; justify-content: center; align-items: center; padding: 20px; backdrop-filter: blur(5px); }
        .modal-overlay.show { display: flex; }
        .modal { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 16px; width: 100%; max-width: 800px; max-height: 90vh; display: flex; flex-direction: column; box-shadow: 0 25px 80px rgba(0,0,0,0.5); }
        .modal-header { background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%); color: white; padding: 22px 28px; display: flex; justify-content: space-between; align-items: center; border-radius: 16px 16px 0 0; }
        .modal-header h3 { font-size: 1.25rem; font-weight: 700; }
        .modal-actions { display: flex; gap: 12px; }
        .modal-btn { padding: 10px 18px; border: none; border-radius: 8px; cursor: pointer; font-weight: 700; transition: transform 0.2s; font-size: 0.9rem; }
        .modal-btn:hover { transform: scale(1.05); }
        .modal-btn.copy { background: white; color: var(--accent-blue); }
        .modal-btn.close { background: rgba(255,255,255,0.2); color: white; }
        .modal-body { padding: 28px; overflow-y: auto; flex: 1; }
        .prompt-section { margin-bottom: 25px; }
        .prompt-section h4 { color: var(--accent-purple); font-size: 1rem; margin-bottom: 12px; }
        .prompt-box { background: rgba(0,0,0,0.4); border: 1px solid var(--border-subtle); border-radius: 10px; padding: 20px; font-family: 'JetBrains Mono', monospace; font-size: 0.85rem; line-height: 1.7; color: var(--text-secondary); white-space: pre-wrap; word-wrap: break-word; }
        .prompt-tags { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 20px; }
        .prompt-tag { background: rgba(139, 92, 246, 0.15); color: var(--accent-purple); padding: 6px 14px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; }
        .copy-success { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: var(--accent-green); color: white; padding: 18px 35px; border-radius: 10px; font-weight: 700; z-index: 3000; display: none; }
        .agent-card.highlight { animation: highlightPulse 2s ease; box-shadow: 0 0 0 3px var(--accent-purple), 0 15px 50px rgba(139, 92, 246, 0.4); }
        @keyframes highlightPulse { 0% { box-shadow: 0 0 0 3px var(--accent-purple), 0 15px 50px rgba(139, 92, 246, 0.6); } 50% { box-shadow: 0 0 0 6px rgba(139, 92, 246, 0.5), 0 15px 50px rgba(139, 92, 246, 0.3); } 100% { box-shadow: 0 0 0 0px transparent, 0 15px 50px rgba(0,0,0,0.3); } }

        @media (max-width: 900px) { .sidebar { display: none; } .main-content { margin-left: 0; padding: 75px 20px 30px 20px; } .agent-grid { grid-template-columns: 1fr; } }
            .breadcrumb-logo-link { display: flex; align-items: center; padding: 4px 8px; background: rgba(255,255,255,0.08); border-radius: 8px; border: 1px solid rgba(255,255,255,0.12); transition: all 0.2s; }
        .breadcrumb-logo-link:hover { background: rgba(255,255,255,0.15); }
        .breadcrumb-logo { height: 28px; width: auto; }
    </style>
</head>
<body>
    <nav class="breadcrumb">
        <a href="../../index.html" class="breadcrumb-logo-link"><img src="../../images/clear-ai-logo.png" alt="Clear AI" class="breadcrumb-logo"></a>
        <a href="../../index.html">Portal Home</a>
        <span class="separator">></span>
        <a href="./index.html">NMLS</a>
        <span class="separator">></span>
        <span class="current">CBC Status</span>
    </nav>

    <aside class="sidebar">
        <div class="sidebar-header">
            <h2>CBC Status</h2>
            <p>Criminal Background Check Guide</p>
        </div>
        <div class="sidebar-tabs">
            <button class="sidebar-tab active" onclick="switchTab('workflow')">Workflow</button>
            <button class="sidebar-tab agent-tab" onclick="switchTab('agents')">AI Agents</button>
        </div>
        <nav class="sidebar-nav" id="workflowNav">
            <a href="#section-1" class="nav-item active"><span class="nav-number">1</span><span class="nav-label">Check Expiration</span></a>
            <a href="#section-2" class="nav-item"><span class="nav-number">2</span><span class="nav-label">Request New CBC</span></a>
            <a href="#section-3" class="nav-item"><span class="nav-number">3</span><span class="nav-label">Demographics</span></a>
            <a href="#section-4" class="nav-item"><span class="nav-number">4</span><span class="nav-label">Attest & Submit</span></a>
            <a href="#section-5" class="nav-item"><span class="nav-number">5</span><span class="nav-label">Schedule Fingerprints</span></a>
            <a href="#quick-ref" class="nav-item"><span class="nav-number">R</span><span class="nav-label">Quick Reference</span></a>
        </nav>
        <nav class="sidebar-nav" id="agentsNav" style="display: none;">
            <a href="#agent-summary" class="nav-item active"><span class="nav-number">S</span><span class="nav-label">Summary</span></a>
            <a href="#agent-heatmap" class="nav-item"><span class="nav-number">H</span><span class="nav-label">Heat Map</span></a>
            <a href="#agent-details" class="nav-item"><span class="nav-number">A</span><span class="nav-label">Agent Details</span></a>
        </nav>
        <div class="sidebar-footer"><a href="./index.html" class="doc-btn">Back to NMLS Portal</a></div>
    </aside>

    <main class="main-content">
        <div id="workflow-panel" class="tab-panel active">
            <div class="header">
                <h1>Criminal Background Check</h1>
                <p class="subtitle">Check fingerprint status, request CBC, and schedule appointments</p>
                <div class="meta">
                    <span class="meta-item">System: NMLS + Fieldprint</span>
                    <span class="meta-item">Role: MLO / Licensing</span>
                    <span class="meta-item">Updated: March 2022</span>
                    <span class="meta-item">Duration: 15-30 min</span>
                </div>
            </div>

            <div class="legend">
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #22c55e, #16a34a);"></div><span>Start/End</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #3b82f6, #2563eb);"></div><span>Action Step</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #f59e0b, #d97706);"></div><span>Decision Point</span></div>
                <div class="legend-item"><div class="legend-color" style="background: #111827; border: 2px solid #3b82f6;"></div><span>User Input</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #14b8a6, #0d9488);"></div><span>Output</span></div>
            </div>

            <div class="warning-box">
                <h4>Important: Fingerprints Required</h4>
                <p>You need <strong>current Fingerprints</strong> in NMLS in order to apply for licenses. Check your expiration date before proceeding with any license applications.</p>
            </div>

            <!-- Section 1: Check Expiration -->
            <section id="section-1" class="section">
                <div class="section-header">
                    <div class="section-number">1</div>
                    <div class="section-title"><h2>Check Fingerprint Expiration</h2><span>Verify your current fingerprint status</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node start">Start</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Verify State Side Login</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Go to Composite View Tab</div>
                        </div>
                        <div class="flow-row">
                            <div class="flow-node action">Click View Individual</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Select Criminal Background Check Requests</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Check Expiration Date</div>
                        </div>
                    </div>
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node decision">Fingerprints Expired?</div>
                        </div>
                        <div class="decision-branch">
                            <div class="branch">
                                <span class="branch-label">No - Valid</span>
                                <span class="flow-arrow down">|</span>
                                <div class="flow-node output" style="background: linear-gradient(135deg, var(--accent-green), #16a34a);">Ready for License Applications</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">Yes - Expired</span>
                                <span class="flow-arrow down">|</span>
                                <div class="flow-node exception">Request New CBC (Section 2)</div>
                            </div>
                        </div>
                    </div>
                    <div class="info-box">
                        <h4>Navigation Path</h4>
                        <p><strong>Composite View</strong> > <strong>View Individual</strong> > <strong>Criminal Background Check Requests</strong> (left menu)</p>
                        <p style="margin-top: 10px;">Look for "Current Fingerprint Record Expiration Date" at the bottom of the CBC Requests list.</p>
                    </div>
                </div>
            </section>

            <!-- Section 2: Request New CBC -->
            <section id="section-2" class="section">
                <div class="section-header">
                    <div class="section-number">2</div>
                    <div class="section-title"><h2>Request New Criminal Background Check</h2><span>Initiate a federal CBC request</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Go to Filing Tab</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Click Individual</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Click Request New/Update</div>
                        </div>
                        <div class="flow-row">
                            <div class="flow-node action">Select Criminal Background Check (left menu)</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node input">Check "Federal Criminal Background Check"</div>
                        </div>
                    </div>
                    <div class="info-box">
                        <h4>Navigation Path</h4>
                        <p><strong>Filing</strong> > <strong>Individual</strong> > <strong>Request New/Update</strong> > <strong>Criminal Background Check</strong></p>
                    </div>
                </div>
            </section>

            <!-- Section 3: Demographics -->
            <section id="section-3" class="section">
                <div class="section-header">
                    <div class="section-number">3</div>
                    <div class="section-title"><h2>Background Check Method & Demographics</h2><span>Select method and provide required information</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node decision">Select Background Check Method</div>
                        </div>
                        <div class="decision-branch">
                            <div class="branch">
                                <span class="branch-label">Submit New Prints</span>
                                <span class="flow-arrow down">|</span>
                                <div class="flow-node input">Schedule Appointment Later</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">Use Existing Prints</span>
                                <span class="flow-arrow down">|</span>
                                <div class="flow-node output">Reuse Valid Prints</div>
                            </div>
                        </div>
                    </div>
                    <table class="field-table">
                        <thead><tr><th>Field</th><th>Description</th><th>Required</th></tr></thead>
                        <tbody>
                            <tr><td><strong style="color: var(--text-primary);">Eye Color</strong></td><td>Select from dropdown</td><td>Yes</td></tr>
                            <tr><td><strong style="color: var(--text-primary);">Hair Color</strong></td><td>Select from dropdown</td><td>Yes</td></tr>
                            <tr><td><strong style="color: var(--text-primary);">Height</strong></td><td>Feet and inches</td><td>Yes</td></tr>
                            <tr><td><strong style="color: var(--text-primary);">Weight</strong></td><td>In pounds</td><td>Yes</td></tr>
                            <tr><td><strong style="color: var(--text-primary);">Race</strong></td><td>Select from dropdown</td><td>Yes</td></tr>
                        </tbody>
                    </table>
                    <div class="tip-box">
                        <h4>FBI Requirements</h4>
                        <p>The FBI requires demographic information to be provided. Date of Birth is included with the demographic information and can be verified against your record in Composite View.</p>
                    </div>
                </div>
            </section>

            <!-- Section 4: Attest & Submit -->
            <section id="section-4" class="section">
                <div class="section-header">
                    <div class="section-number">4</div>
                    <div class="section-title"><h2>Attest and Submit Filing</h2><span>Complete the CBC request</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Click Save</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Click Next</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Click Attest and Submit</div>
                        </div>
                        <div class="flow-row">
                            <div class="flow-node input">Check Attestation Box</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Click Submit Filing</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Remit Payment</div>
                        </div>
                    </div>
                    <div class="warning-box">
                        <h4>Payment Required</h4>
                        <p>The CBC Processing Fee is <strong>$36.25</strong>. Payment must be made through NMLS. If paying by credit card, a 2.5% service fee will be charged in addition.</p>
                    </div>
                </div>
            </section>

            <!-- Section 5: Schedule Fingerprints -->
            <section id="section-5" class="section">
                <div class="section-header">
                    <div class="section-number">5</div>
                    <div class="section-title"><h2>Schedule Fingerprint Appointment</h2><span>Book through Fieldprint</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Go to Composite View</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Click View Individual</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Select Criminal Background Check Requests</div>
                        </div>
                        <div class="flow-row">
                            <div class="flow-node action">Click "Schedule your fingerprinting appointment"</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Redirects to Fieldprint Website</div>
                        </div>
                    </div>
                    <div class="info-box">
                        <h4>Fieldprint Registration</h4>
                        <p>Fieldprint is the NMLS-approved fingerprint vendor. If you're a new user:</p>
                        <ul style="margin-top: 10px; margin-left: 20px; color: var(--text-secondary);">
                            <li>Enter your email address and click Sign Up</li>
                            <li>Create a password and security question</li>
                            <li>Complete Personal Information (use your NMLS login info)</li>
                            <li>Select a fingerprint location near you</li>
                        </ul>
                    </div>
                    <div class="tip-box">
                        <h4>Fieldprint Support</h4>
                        <p>For questions about scheduling fingerprints, call the CMG Licensing Team at <strong>(925) 983-3099</strong>.</p>
                    </div>
                </div>
            </section>

            <section id="quick-ref" class="quick-ref">
                <h3>Quick Reference Card</h3>
                <pre>
CBC STATUS QUICK REFERENCE
===========================

CHECK FINGERPRINT STATUS:
1. Log into NMLS (State side)
2. Composite View > View Individual
3. Criminal Background Check Requests (left menu)
4. Check "Current Fingerprint Record Expiration Date"

REQUEST NEW CBC:
1. Filing > Individual > Request New/Update
2. Criminal Background Check (left menu)
3. Check "Federal Criminal Background Check"
4. Select: Submit New Prints OR Use Existing
5. Complete Demographics
6. Save > Next > Attest and Submit
7. Pay $36.25 fee

SCHEDULE FINGERPRINTS:
1. Composite View > View Individual
2. Criminal Background Check Requests
3. Click "Schedule your fingerprinting appointment"
4. Register/Login to Fieldprint
5. Select location and book appointment

SUPPORT:
- CMG Licensing: (925) 983-3099
- Email: licensing@cmgfi.com
- Fieldprint: Via NMLS scheduling link
                </pre>
            </section>
        </div>

        <!-- AGENT OPPORTUNITIES TAB -->
        <div id="agents-panel" class="tab-panel">
            <div class="agent-header">
                <h1>AI Agent Opportunities</h1>
                <p class="subtitle">Automation Analysis for CBC Status Workflow</p>
                <div class="meta">
                    <span class="meta-item">5 Process Steps Analyzed</span>
                    <span class="meta-item">3 Agent Candidates Identified</span>
                    <span class="meta-item">Est. 60% Time Savings</span>
                </div>
            </div>

            <div class="agent-summary" id="agent-summary">
                <div class="agent-summary-card"><div class="agent-summary-value">3</div><div class="agent-summary-label">Agent Candidates</div></div>
                <div class="agent-summary-card"><div class="agent-summary-value">1</div><div class="agent-summary-label">Critical Priority</div></div>
                <div class="agent-summary-card"><div class="agent-summary-value">60%</div><div class="agent-summary-label">Time Savings</div></div>
                <div class="agent-summary-card"><div class="agent-summary-value">90%</div><div class="agent-summary-label">Automation Potential</div></div>
            </div>

            <div class="heat-legend" id="agent-heatmap">
                <div class="heat-legend-item"><div class="heat-legend-color" style="background: linear-gradient(135deg, #ef4444, #f97316);"></div><span><strong>Critical (90-100)</strong></span></div>
                <div class="heat-legend-item"><div class="heat-legend-color" style="background: linear-gradient(135deg, #f97316, #eab308);"></div><span><strong>High (70-89)</strong></span></div>
                <div class="heat-legend-item"><div class="heat-legend-color" style="background: linear-gradient(135deg, #eab308, #22c55e);"></div><span><strong>Medium (50-69)</strong></span></div>
                <div class="heat-legend-item"><div class="heat-legend-color" style="background: linear-gradient(135deg, #22c55e, #14b8a6);"></div><span><strong>Low (0-49)</strong></span></div>
            </div>

            <div class="heat-map-container">
                <div class="heat-map-title" style="font-size: 1.3rem; font-weight: 700; color: var(--text-primary); margin-bottom: 20px;">Automation Priority Heat Map</div>
                <div class="heat-map-grid">
                    <div class="heat-item critical" onclick="scrollToAgent('agent-expiry')" title="Click to view agent details">
                        <div class="heat-score">95</div>
                        <div class="heat-name">Expiration Monitor Agent</div>
                        <div class="heat-desc">Proactively alert before fingerprints expire</div>
                        <div class="heat-metrics"><div class="heat-metric">Effort: <span>Low</span></div><div class="heat-metric">Impact: <span>Critical</span></div></div>
                    </div>
                    <div class="heat-item high" onclick="scrollToAgent('agent-prefill')" title="Click to view agent details">
                        <div class="heat-score">78</div>
                        <div class="heat-name">CBC Pre-Fill Agent</div>
                        <div class="heat-desc">Auto-populate demographics from HR records</div>
                        <div class="heat-metrics"><div class="heat-metric">Effort: <span>Medium</span></div><div class="heat-metric">Impact: <span>High</span></div></div>
                    </div>
                    <div class="heat-item medium" onclick="scrollToAgent('agent-scheduler')" title="Click to view agent details">
                        <div class="heat-score">62</div>
                        <div class="heat-name">Appointment Scheduler</div>
                        <div class="heat-desc">Find and book nearest fingerprint location</div>
                        <div class="heat-metrics"><div class="heat-metric">Effort: <span>Medium</span></div><div class="heat-metric">Impact: <span>Medium</span></div></div>
                    </div>
                </div>
            </div>

            <h2 style="font-size: 1.4rem; margin: 35px 0 22px; color: var(--text-primary);" id="agent-details">Agent Specifications</h2>

            <div class="agent-grid">
                <div class="agent-card" id="agent-expiry">
                    <div class="agent-card-header">
                        <div class="agent-icon">EXP</div>
                        <div class="agent-info"><div class="agent-name">Expiration Monitor Agent</div><div class="agent-type">Proactive Monitoring Agent</div></div>
                        <span class="agent-priority critical">Critical</span>
                    </div>
                    <div class="agent-card-body">
                        <p class="agent-description">Monitors fingerprint expiration dates for all MLOs and sends proactive alerts 90, 60, and 30 days before expiration, preventing license application delays.</p>
                        <div class="agent-flow">
                            <div class="agent-flow-title">Agent Flow</div>
                            <div class="agent-flow-diagram">
                                <div class="agent-step">Scan NMLS</div><span class="agent-arrow">-></span>
                                <div class="agent-step">Check Dates</div><span class="agent-arrow">-></span>
                                <div class="agent-step">Calculate</div><span class="agent-arrow">-></span>
                                <div class="agent-step">Alert</div>
                            </div>
                        </div>
                        <div class="agent-stats">
                            <div class="agent-stat"><div class="agent-stat-value">0</div><div class="agent-stat-label">Missed Renewals</div></div>
                            <div class="agent-stat"><div class="agent-stat-value">90</div><div class="agent-stat-label">Days Advance</div></div>
                            <div class="agent-stat"><div class="agent-stat-value">Low</div><div class="agent-stat-label">Complexity</div></div>
                        </div>
                        <button class="agent-prompt-btn" onclick="showAgentPrompt('expiry')">View AI Prompt to Build This Agent</button>
                    </div>
                </div>

                <div class="agent-card" id="agent-prefill">
                    <div class="agent-card-header">
                        <div class="agent-icon">FILL</div>
                        <div class="agent-info"><div class="agent-name">CBC Pre-Fill Agent</div><div class="agent-type">Data Integration Agent</div></div>
                        <span class="agent-priority high">High</span>
                    </div>
                    <div class="agent-card-body">
                        <p class="agent-description">Automatically populates demographics from HR records and previous NMLS filings, reducing manual data entry and ensuring consistency.</p>
                        <div class="agent-flow">
                            <div class="agent-flow-title">Agent Flow</div>
                            <div class="agent-flow-diagram">
                                <div class="agent-step">Fetch HR Data</div><span class="agent-arrow">-></span>
                                <div class="agent-step">Map Fields</div><span class="agent-arrow">-></span>
                                <div class="agent-step">Auto-Fill</div>
                            </div>
                        </div>
                        <div class="agent-stats">
                            <div class="agent-stat"><div class="agent-stat-value">3min</div><div class="agent-stat-label">Time Saved</div></div>
                            <div class="agent-stat"><div class="agent-stat-value">100%</div><div class="agent-stat-label">Accuracy</div></div>
                            <div class="agent-stat"><div class="agent-stat-value">Med</div><div class="agent-stat-label">Complexity</div></div>
                        </div>
                        <button class="agent-prompt-btn" onclick="showAgentPrompt('prefill')">View AI Prompt to Build This Agent</button>
                    </div>
                </div>

                <div class="agent-card" id="agent-scheduler">
                    <div class="agent-card-header">
                        <div class="agent-icon">CAL</div>
                        <div class="agent-info"><div class="agent-name">Appointment Scheduler</div><div class="agent-type">External Integration Agent</div></div>
                        <span class="agent-priority medium">Medium</span>
                    </div>
                    <div class="agent-card-body">
                        <p class="agent-description">Integrates with Fieldprint to find available appointment slots near the MLO's location and suggests optimal times based on their calendar.</p>
                        <div class="agent-flow">
                            <div class="agent-flow-title">Agent Flow</div>
                            <div class="agent-flow-diagram">
                                <div class="agent-step">Get Location</div><span class="agent-arrow">-></span>
                                <div class="agent-step">Query Fieldprint</div><span class="agent-arrow">-></span>
                                <div class="agent-step">Suggest Slots</div>
                            </div>
                        </div>
                        <div class="agent-stats">
                            <div class="agent-stat"><div class="agent-stat-value">5min</div><div class="agent-stat-label">Time Saved</div></div>
                            <div class="agent-stat"><div class="agent-stat-value">Best</div><div class="agent-stat-label">Location</div></div>
                            <div class="agent-stat"><div class="agent-stat-value">Med</div><div class="agent-stat-label">Complexity</div></div>
                        </div>
                        <button class="agent-prompt-btn" onclick="showAgentPrompt('scheduler')">View AI Prompt to Build This Agent</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <div class="modal-overlay" id="promptModal">
        <div class="modal">
            <div class="modal-header">
                <h3 id="promptModalTitle">AI Agent Build Prompt</h3>
                <div class="modal-actions">
                    <button class="modal-btn copy" onclick="copyPromptToClipboard()">Copy Prompt</button>
                    <button class="modal-btn close" onclick="closePromptModal()">Close</button>
                </div>
            </div>
            <div class="modal-body">
                <div class="prompt-tags" id="promptTags"></div>
                <div class="prompt-section"><h4>Agent Purpose</h4><div class="prompt-box" id="promptPurpose"></div></div>
                <div class="prompt-section"><h4>Full Build Prompt</h4><div class="prompt-box" id="promptContent"></div></div>
                <div class="prompt-section"><h4>Integration Points</h4><div class="prompt-box" id="promptIntegration"></div></div>
            </div>
        </div>
    </div>
    <div class="copy-success" id="copySuccess">Copied to clipboard!</div>

    <script>
        function switchTab(tab) {
            document.querySelectorAll('.sidebar-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));
            if (tab === 'workflow') {
                document.querySelector('.sidebar-tab:not(.agent-tab)').classList.add('active');
                document.getElementById('workflow-panel').classList.add('active');
                document.getElementById('workflowNav').style.display = 'block';
                document.getElementById('agentsNav').style.display = 'none';
            } else {
                document.querySelector('.sidebar-tab.agent-tab').classList.add('active');
                document.getElementById('agents-panel').classList.add('active');
                document.getElementById('workflowNav').style.display = 'none';
                document.getElementById('agentsNav').style.display = 'block';
            }
            window.scrollTo(0, 0);
        }

        const sections = document.querySelectorAll('.section, .quick-ref');
        const navItems = document.querySelectorAll('#workflowNav .nav-item');
        let isScrolling = false;
        let scrollTimeout;

        navItems.forEach(item => {
            item.addEventListener('click', (e) => {
                isScrolling = true;
                clearTimeout(scrollTimeout);
                scrollTimeout = setTimeout(() => { isScrolling = false; }, 1000);
            });
        });

        window.addEventListener('scroll', () => {
            if (isScrolling) return;
            let current = '';
            const scrollPosition = window.scrollY + 150;
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionBottom = sectionTop + section.offsetHeight;
                if (scrollPosition >= sectionTop && scrollPosition < sectionBottom) {
                    current = section.getAttribute('id');
                }
            });
            if (current) {
                navItems.forEach(item => {
                    item.classList.remove('active');
                    if (item.getAttribute('href') === '#' + current) {
                        item.classList.add('active');
                    }
                });
            }
        });

        const agentPrompts = {
            expiry: {
                name: 'Expiration Monitor Agent',
                tags: ['Monitoring', 'Alerts', 'Low Complexity', 'Critical Priority'],
                purpose: 'This agent monitors fingerprint expiration dates for all MLOs and sends proactive alerts at 90, 60, and 30 days before expiration, ensuring no licensing delays due to expired fingerprints.',
                prompt: `You are building a Monitoring Agent for NMLS fingerprint expiration tracking.

AGENT NAME: Expiration Monitor Agent
TYPE: Proactive Monitoring / Alerting

OBJECTIVE:
Create an agent that monitors fingerprint expiration dates for all company MLOs and sends proactive renewal reminders before expiration.

MONITORING SCHEDULE:
- Daily scan of all MLO fingerprint records
- Alert triggers at: 90 days, 60 days, 30 days, 7 days before expiration

ALERT CONTENT:
Subject: [URGENT] Fingerprint Expiration Alert - [MLO Name]

Body includes:
- MLO name and NMLS ID
- Current expiration date
- Days remaining
- Link to CBC renewal workflow
- Contact info for Licensing Team

DATA SOURCES:
- NMLS Composite View records
- HR system for MLO roster
- Previous alert history (prevent duplicates)

OUTPUT:
{
  "mloId": "12345",
  "expirationDate": "2024-04-15",
  "daysRemaining": 60,
  "alertLevel": "warning",
  "alertSent": true
}`,
                integration: `INTEGRATION POINTS:

1. NMLS Data Access
   - Scheduled scraping of Composite View
   - Or API access if available
   - Cache expiration dates locally

2. Email/Notification System
   - SendGrid for email alerts
   - Slack/Teams for urgent notifications
   - SMS for 7-day critical alerts

3. Dashboard
   - Real-time expiration status board
   - Color-coded by urgency
   - Click-through to renewal workflow

4. Reporting
   - Weekly summary to Licensing Manager
   - Compliance audit trail`
            },
            prefill: {
                name: 'CBC Pre-Fill Agent',
                tags: ['Data Integration', 'Form Automation', 'Medium Complexity', 'High Priority'],
                purpose: 'This agent automatically populates CBC demographics from HR records and previous NMLS filings, reducing manual data entry and ensuring data consistency.',
                prompt: `You are building a Data Integration Agent for NMLS CBC form pre-population.

AGENT NAME: CBC Pre-Fill Agent
TYPE: Data Integration / Form Automation

OBJECTIVE:
Create an agent that automatically fills demographics fields when requesting a new Criminal Background Check, pulling from HR records and previous NMLS submissions.

DATA SOURCES:
1. HR System (primary)
   - Eye color, hair color
   - Height, weight
   - Race/ethnicity

2. Previous NMLS Filings (fallback)
   - Historical CBC submissions
   - Individual form data

FIELD MAPPING:
HR Field -> NMLS CBC Field
- physical_eye_color -> Eye Color
- physical_hair_color -> Hair Color
- physical_height_ft/in -> Height
- physical_weight_lbs -> Weight
- demographic_race -> Race

VALIDATION:
- All fields required before submit
- Flag any missing data for manual entry
- Confirm data accuracy with user before submission`,
                integration: `INTEGRATION POINTS:

1. HR System API
   - Pull employee physical attributes
   - Secure authentication
   - Audit logging

2. NMLS Browser Extension
   - Detect CBC request form
   - Inject pre-filled values
   - User confirmation before submit

3. Data Quality
   - Flag outdated information (>1 year)
   - Prompt for verification
   - Track accuracy metrics`
            },
            scheduler: {
                name: 'Appointment Scheduler Agent',
                tags: ['External Integration', 'Calendar', 'Medium Complexity', 'Medium Priority'],
                purpose: 'This agent integrates with Fieldprint to find available fingerprint appointment slots near the MLO location and suggests optimal times based on their calendar.',
                prompt: `You are building an External Integration Agent for fingerprint appointment scheduling.

AGENT NAME: Appointment Scheduler Agent
TYPE: External Integration / Calendar Management

OBJECTIVE:
Create an agent that simplifies fingerprint appointment scheduling by finding nearby Fieldprint locations and suggesting available times that work with the MLO's calendar.

WORKFLOW:
1. Get MLO's work location (zip code)
2. Query Fieldprint for nearby locations
3. Fetch available appointment slots
4. Cross-reference with MLO's calendar
5. Present top 3 suggestions

LOCATION CRITERIA:
- Within 25 miles of work location
- Prefer locations with same-week availability
- Consider drive time during work hours

CALENDAR INTEGRATION:
- Read MLO's Outlook/Google calendar
- Avoid existing meetings
- Suggest early morning or lunch slots

OUTPUT:
{
  "recommendations": [
    {
      "location": "123 Main St, City",
      "distance": "5.2 miles",
      "datetime": "2024-02-15 09:00",
      "calendarConflict": false
    }
  ]
}`,
                integration: `INTEGRATION POINTS:

1. Fieldprint API/Website
   - Query available locations
   - Check appointment availability
   - Deep link to booking page

2. Calendar Systems
   - Microsoft Graph API (Outlook)
   - Google Calendar API
   - Read-only access to find free slots

3. User Interface
   - Present recommendations in-app
   - One-click to book
   - Add to calendar after booking`
            }
        };

        function scrollToAgent(agentId) {
            const agentCard = document.getElementById(agentId);
            if (agentCard) {
                document.querySelectorAll('.agent-card.highlight').forEach(card => card.classList.remove('highlight'));
                agentCard.scrollIntoView({ behavior: 'smooth', block: 'center' });
                setTimeout(() => { agentCard.classList.add('highlight'); }, 300);
                setTimeout(() => { agentCard.classList.remove('highlight'); }, 2500);
            }
        }

        let currentPromptContent = '';

        function showAgentPrompt(agentKey) {
            const agent = agentPrompts[agentKey];
            if (!agent) return;
            document.getElementById('promptModalTitle').textContent = agent.name + ' - Build Prompt';
            document.getElementById('promptTags').innerHTML = agent.tags.map(tag => '<span class="prompt-tag">' + tag + '</span>').join('');
            document.getElementById('promptPurpose').textContent = agent.purpose;
            document.getElementById('promptContent').textContent = agent.prompt;
            document.getElementById('promptIntegration').textContent = agent.integration;
            currentPromptContent = '# ' + agent.name + '\n\n## Purpose\n' + agent.purpose + '\n\n## Build Prompt\n' + agent.prompt + '\n\n## Integration Points\n' + agent.integration;
            document.getElementById('promptModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closePromptModal() {
            document.getElementById('promptModal').classList.remove('show');
            document.body.style.overflow = '';
        }

        async function copyPromptToClipboard() {
            try {
                await navigator.clipboard.writeText(currentPromptContent);
                document.getElementById('copySuccess').style.display = 'block';
                setTimeout(() => { document.getElementById('copySuccess').style.display = 'none'; }, 2000);
            } catch (e) { alert('Failed to copy prompt.'); }
        }

        document.getElementById('promptModal').addEventListener('click', (e) => { if (e.target.id === 'promptModal') closePromptModal(); });
        document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closePromptModal(); });
    </script>
</body>
</html>
