<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Byte Disclosure History Tool - Process Workflow</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0f1a;
            --bg-secondary: #111827;
            --bg-card: #1a2234;
            --accent-blue: #3b82f6;
            --accent-teal: #14b8a6;
            --accent-amber: #f59e0b;
            --accent-rose: #f43f5e;
            --accent-green: #22c55e;
            --accent-purple: #8b5cf6;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --border-subtle: rgba(255,255,255,0.08);
            --sidebar-width: 280px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
        }

        /* Breadcrumb */
        .breadcrumb {
            background: linear-gradient(90deg, #0d1525 0%, #1a2234 100%);
            padding: 14px 25px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 0.95rem;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1001;
            border-bottom: 1px solid var(--border-subtle);
        }

        .breadcrumb a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 600;
            padding: 8px 16px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
            transition: all 0.2s;
            border: 1px solid var(--border-subtle);
        }

        .breadcrumb a:hover {
            background: rgba(59, 130, 246, 0.15);
            color: var(--accent-blue);
            border-color: rgba(59, 130, 246, 0.3);
        }

        .breadcrumb .separator { color: var(--text-muted); font-size: 1.2rem; }
        .breadcrumb .current { color: var(--accent-amber); font-weight: 600; padding: 8px 16px; }

        /* Sidebar */
        .sidebar {
            position: fixed;
            top: 54px;
            left: 0;
            width: var(--sidebar-width);
            height: calc(100vh - 54px);
            background: var(--bg-secondary);
            overflow-y: auto;
            z-index: 1000;
            border-right: 1px solid var(--border-subtle);
            display: flex;
            flex-direction: column;
        }

        .sidebar-header {
            padding: 25px 20px;
            background: rgba(0,0,0,0.3);
            border-bottom: 1px solid var(--border-subtle);
        }

        .sidebar-header h2 { color: var(--text-primary); font-size: 1.2rem; font-weight: 700; margin-bottom: 5px; }
        .sidebar-header p { color: var(--text-muted); font-size: 0.85rem; }

        /* Tab Switch */
        .sidebar-tabs {
            display: flex;
            border-bottom: 1px solid var(--border-subtle);
        }

        .sidebar-tab {
            flex: 1;
            padding: 14px 10px;
            text-align: center;
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--text-muted);
            cursor: pointer;
            transition: all 0.2s;
            border-bottom: 3px solid transparent;
            background: none;
            border-left: none;
            border-right: none;
            border-top: none;
        }

        .sidebar-tab:hover { background: rgba(255,255,255,0.03); color: var(--text-secondary); }
        .sidebar-tab.active { color: var(--accent-blue); border-bottom-color: var(--accent-blue); background: rgba(59, 130, 246, 0.08); }
        .sidebar-tab.agent-tab.active { color: var(--accent-purple); border-bottom-color: var(--accent-purple); background: rgba(139, 92, 246, 0.08); }

        .sidebar-nav { padding: 15px 0; flex: 1; overflow-y: auto; }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 20px;
            color: var(--text-secondary);
            text-decoration: none;
            border-left: 3px solid transparent;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .nav-item:hover { background: rgba(255,255,255,0.03); color: var(--text-primary); }
        .nav-item.active { background: rgba(59, 130, 246, 0.1); border-left-color: var(--accent-blue); color: var(--text-primary); }

        .nav-number {
            background: rgba(255,255,255,0.1);
            color: var(--text-secondary);
            width: 28px;
            height: 28px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.85rem;
            flex-shrink: 0;
        }

        .nav-item.active .nav-number { background: var(--accent-blue); color: white; }
        .nav-label { font-size: 0.95rem; font-weight: 500; }

        .sidebar-footer {
            padding: 20px;
            border-top: 1px solid var(--border-subtle);
            background: rgba(0,0,0,0.2);
        }

        .doc-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
            padding: 14px 20px;
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            text-decoration: none;
            font-size: 0.95rem;
        }

        .doc-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3); }

        /* Main Content */
        .main-content { margin-left: var(--sidebar-width); padding: 80px 40px 40px 40px; }

        /* Tab Panels */
        .tab-panel { display: none; }
        .tab-panel.active { display: block; }

        .header {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            padding: 35px;
            border-radius: 16px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background:
                radial-gradient(ellipse at 20% 20%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(20, 184, 166, 0.08) 0%, transparent 50%);
            pointer-events: none;
        }

        .header h1 {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 10px;
            position: relative;
            background: linear-gradient(135deg, var(--text-primary) 0%, var(--accent-blue) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header .subtitle { color: var(--text-secondary); font-size: 1.1rem; position: relative; }

        .header .meta { display: flex; gap: 15px; margin-top: 20px; flex-wrap: wrap; position: relative; }

        .header .meta-item {
            background: rgba(255,255,255,0.05);
            border: 1px solid var(--border-subtle);
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Legend */
        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            padding: 18px 22px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            margin-bottom: 25px;
        }

        .legend-item { display: flex; align-items: center; gap: 8px; font-size: 0.85rem; color: var(--text-secondary); }
        .legend-color { width: 18px; height: 18px; border-radius: 4px; }

        /* Sections */
        .section {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            margin-bottom: 25px;
            overflow: hidden;
            scroll-margin-top: 75px;
        }

        .section-header {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, rgba(59, 130, 246, 0.1) 100%);
            border-bottom: 1px solid var(--border-subtle);
            padding: 22px 25px;
            display: flex;
            align-items: center;
            gap: 18px;
        }

        .section-number {
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 1.3rem;
            flex-shrink: 0;
        }

        .section-title h2 { font-size: 1.35rem; font-weight: 700; margin-bottom: 4px; color: var(--text-primary); }
        .section-title span { font-size: 0.9rem; color: var(--text-muted); }
        .section-content { padding: 28px; }

        /* Workflow Diagrams */
        .workflow-diagram {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 28px;
            margin-bottom: 22px;
        }

        .flow-row { display: flex; align-items: center; justify-content: center; flex-wrap: wrap; gap: 12px; margin: 15px 0; }

        .flow-node {
            padding: 14px 22px;
            border-radius: 10px;
            text-align: center;
            font-size: 0.9rem;
            font-weight: 600;
            min-width: 150px;
            border: 1px solid var(--border-subtle);
        }

        .flow-node.start { background: linear-gradient(135deg, var(--accent-green) 0%, #16a34a 100%); color: white; border-radius: 25px; border: none; }
        .flow-node.action { background: linear-gradient(135deg, var(--accent-blue) 0%, #2563eb 100%); color: white; border: none; }
        .flow-node.decision { background: linear-gradient(135deg, var(--accent-amber) 0%, #d97706 100%); color: var(--bg-primary); border: none; }
        .flow-node.input { background: var(--bg-secondary); border: 2px solid var(--accent-blue); color: var(--text-primary); }
        .flow-node.output { background: linear-gradient(135deg, var(--accent-teal) 0%, #0d9488 100%); color: white; border: none; }
        .flow-node.exception { background: linear-gradient(135deg, var(--accent-rose) 0%, #dc2626 100%); color: white; border: none; }

        .flow-arrow { color: var(--accent-blue); font-size: 1.5rem; }
        .flow-arrow.down { transform: rotate(90deg); }

        .decision-branch { display: flex; gap: 40px; justify-content: center; margin: 20px 0; flex-wrap: wrap; }
        .branch { display: flex; flex-direction: column; align-items: center; gap: 10px; }

        .branch-label {
            background: var(--bg-secondary);
            border: 1px solid var(--border-subtle);
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--text-secondary);
        }

        /* Tables */
        .field-table { width: 100%; border-collapse: collapse; margin: 18px 0; }

        .field-table th {
            background: rgba(59, 130, 246, 0.15);
            color: var(--accent-blue);
            padding: 14px 18px;
            text-align: left;
            font-weight: 600;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            border-bottom: 1px solid var(--border-subtle);
        }

        .field-table td { padding: 14px 18px; border-bottom: 1px solid var(--border-subtle); color: var(--text-secondary); }
        .field-table tr:hover { background: rgba(255,255,255,0.02); }

        .badge { display: inline-block; padding: 4px 12px; border-radius: 6px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; }
        .badge.required-badge { background: rgba(244, 63, 94, 0.15); color: var(--accent-rose); }
        .badge.optional-badge { background: rgba(34, 197, 94, 0.15); color: var(--accent-green); }
        .badge.calculated-badge { background: rgba(59, 130, 246, 0.15); color: var(--accent-blue); }
        .badge.info-badge { background: rgba(139, 92, 246, 0.15); color: var(--accent-purple); }

        /* Info Boxes */
        .exception-box, .tip-box, .info-box {
            padding: 18px 22px;
            margin: 18px 0;
            border-radius: 0 10px 10px 0;
            border-left-width: 4px;
            border-left-style: solid;
        }

        .exception-box { background: rgba(244, 63, 94, 0.08); border-color: var(--accent-rose); border: 1px solid rgba(244, 63, 94, 0.2); border-left: 4px solid var(--accent-rose); }
        .exception-box h4 { color: var(--accent-rose); margin-bottom: 10px; font-size: 1rem; }
        .exception-box p, .exception-box li { color: var(--text-secondary); }

        .tip-box { background: rgba(34, 197, 94, 0.08); border-color: var(--accent-green); border: 1px solid rgba(34, 197, 94, 0.2); border-left: 4px solid var(--accent-green); }
        .tip-box h4 { color: var(--accent-green); margin-bottom: 10px; font-size: 1rem; }
        .tip-box p, .tip-box li { color: var(--text-secondary); }

        .info-box { background: rgba(59, 130, 246, 0.08); border-color: var(--accent-blue); border: 1px solid rgba(59, 130, 246, 0.2); border-left: 4px solid var(--accent-blue); }
        .info-box h4 { color: var(--accent-blue); margin-bottom: 10px; font-size: 1rem; }
        .info-box p, .info-box li { color: var(--text-secondary); }

        /* Decision Tree */
        .decision-tree {
            background: rgba(0,0,0,0.2);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 22px;
            margin: 22px 0;
        }

        .decision-tree h3 { color: var(--accent-blue); margin-bottom: 18px; padding-bottom: 12px; border-bottom: 1px solid var(--border-subtle); font-size: 1.1rem; }

        .tree-node { margin-left: 20px; padding: 12px; border-left: 2px solid var(--accent-teal); position: relative; color: var(--text-secondary); }
        .tree-node::before { content: ''; position: absolute; left: -2px; top: 22px; width: 15px; height: 2px; background: var(--accent-teal); }
        .tree-node.level-1 { margin-left: 0; border-left: none; }
        .tree-node.level-1::before { display: none; }

        .tree-label { background: var(--accent-amber); color: var(--bg-primary); padding: 6px 14px; border-radius: 6px; font-weight: 700; display: inline-block; margin-bottom: 6px; font-size: 0.9rem; }

        /* Summary Grid */
        .summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 18px; margin: 22px 0; }

        .summary-card { background: rgba(0,0,0,0.3); border: 1px solid var(--border-subtle); border-radius: 12px; padding: 22px; text-align: center; }
        .summary-card h4 { color: var(--text-secondary); margin-bottom: 12px; font-size: 0.9rem; }
        .summary-card .value {
            font-size: 2.2rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .summary-card .label { font-size: 0.85rem; color: var(--text-muted); margin-top: 8px; }

        /* Detail Cards */
        .detail-cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin: 22px 0; }

        .detail-card { background: rgba(0,0,0,0.2); border: 1px solid var(--border-subtle); border-radius: 12px; overflow: hidden; }
        .detail-card-header { background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%); color: white; padding: 18px; text-align: center; }
        .detail-card-header h4 { font-size: 1.05rem; }
        .detail-card-body { padding: 22px; }
        .detail-card ul { list-style: none; padding: 0; }
        .detail-card li { padding: 10px 0; border-bottom: 1px solid var(--border-subtle); display: flex; align-items: center; gap: 12px; color: var(--text-secondary); font-size: 0.95rem; }
        .detail-card li:last-child { border-bottom: none; }
        .check-icon { color: var(--accent-green); font-weight: bold; }
        .x-icon { color: var(--accent-rose); font-weight: bold; }

        /* Quick Reference */
        .quick-ref {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-card) 100%);
            border: 1px solid var(--border-subtle);
            padding: 28px;
            border-radius: 16px;
            margin-top: 30px;
            font-family: 'JetBrains Mono', monospace;
        }

        .quick-ref h3 { color: var(--accent-amber); margin-bottom: 18px; font-family: 'Plus Jakarta Sans', sans-serif; }
        .quick-ref pre { background: rgba(0,0,0,0.4); border: 1px solid var(--border-subtle); padding: 20px; border-radius: 10px; overflow-x: auto; font-size: 0.85rem; line-height: 1.7; color: var(--text-secondary); }

        /* ====== AGENT OPPORTUNITIES STYLES ====== */
        .agent-header {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            padding: 35px;
            border-radius: 16px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .agent-header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background:
                radial-gradient(ellipse at 20% 20%, rgba(139, 92, 246, 0.12) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(245, 158, 11, 0.1) 0%, transparent 50%);
            pointer-events: none;
        }

        .agent-header h1 {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 10px;
            position: relative;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-header .subtitle { color: var(--text-secondary); font-size: 1.1rem; position: relative; }

        /* Heat Map */
        .heat-map-container { margin-bottom: 35px; }
        .heat-map-title { font-size: 1.3rem; font-weight: 700; color: var(--text-primary); margin-bottom: 20px; display: flex; align-items: center; gap: 12px; }

        .heat-map-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .heat-item {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 20px;
            position: relative;
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
        }

        .heat-item:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .heat-item:active { transform: scale(0.98); }

        .heat-item::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; height: 4px;
        }

        .heat-item.critical::before { background: linear-gradient(90deg, #ef4444, #f97316); }
        .heat-item.high::before { background: linear-gradient(90deg, #f97316, #eab308); }
        .heat-item.medium::before { background: linear-gradient(90deg, #eab308, #22c55e); }
        .heat-item.low::before { background: linear-gradient(90deg, #22c55e, #14b8a6); }

        .heat-score {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.8rem;
            font-weight: 800;
        }

        .heat-item.critical .heat-score { color: #ef4444; }
        .heat-item.high .heat-score { color: #f97316; }
        .heat-item.medium .heat-score { color: #eab308; }
        .heat-item.low .heat-score { color: #22c55e; }

        .heat-name { font-size: 1rem; font-weight: 700; color: var(--text-primary); margin-bottom: 6px; padding-right: 50px; }
        .heat-desc { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px; }

        .heat-metrics { display: flex; gap: 15px; margin-top: 12px; }
        .heat-metric { font-size: 0.75rem; color: var(--text-muted); }
        .heat-metric span { color: var(--text-secondary); font-weight: 600; }

        /* Agent Cards */
        .agent-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)); gap: 25px; margin-bottom: 35px; }

        .agent-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .agent-card:hover { transform: translateY(-5px); box-shadow: 0 15px 50px rgba(0,0,0,0.3); }

        .agent-card.highlight {
            animation: highlightPulse 2s ease;
            box-shadow: 0 0 0 3px var(--accent-purple), 0 15px 50px rgba(139, 92, 246, 0.4);
        }

        @keyframes highlightPulse {
            0% { box-shadow: 0 0 0 3px var(--accent-purple), 0 15px 50px rgba(139, 92, 246, 0.6); }
            50% { box-shadow: 0 0 0 6px rgba(139, 92, 246, 0.5), 0 15px 50px rgba(139, 92, 246, 0.3); }
            100% { box-shadow: 0 0 0 0px transparent, 0 15px 50px rgba(0,0,0,0.3); }
        }

        .agent-card-header {
            padding: 22px;
            display: flex;
            align-items: flex-start;
            gap: 18px;
            border-bottom: 1px solid var(--border-subtle);
        }

        .agent-icon {
            width: 55px;
            height: 55px;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.6rem;
            flex-shrink: 0;
        }

        .agent-info { flex: 1; }
        .agent-name { font-size: 1.15rem; font-weight: 700; color: var(--text-primary); margin-bottom: 5px; }
        .agent-type { font-size: 0.8rem; color: var(--accent-purple); font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }

        .agent-priority {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
        }

        .agent-priority.critical { background: rgba(239, 68, 68, 0.15); color: #ef4444; }
        .agent-priority.high { background: rgba(249, 115, 22, 0.15); color: #f97316; }
        .agent-priority.medium { background: rgba(234, 179, 8, 0.15); color: #eab308; }
        .agent-priority.low { background: rgba(34, 197, 94, 0.15); color: #22c55e; }

        .agent-card-body { padding: 22px; }
        .agent-description { font-size: 0.95rem; color: var(--text-secondary); line-height: 1.6; margin-bottom: 20px; }

        .agent-flow {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            padding: 18px;
            margin-bottom: 20px;
        }

        .agent-flow-title { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }

        .agent-flow-diagram { display: flex; align-items: center; flex-wrap: wrap; gap: 8px; justify-content: center; }

        .agent-step {
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
            color: white;
            padding: 8px 14px;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 600;
            white-space: nowrap;
        }

        .agent-arrow { color: var(--accent-purple); font-size: 1.2rem; }

        .agent-stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }

        .agent-stat {
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            padding: 12px;
            text-align: center;
        }

        .agent-stat-value {
            font-size: 1.3rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-stat-label { font-size: 0.7rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.05em; margin-top: 4px; }

        /* View Prompt Button */
        .agent-prompt-btn {
            width: 100%;
            margin-top: 18px;
            padding: 14px 20px;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(59, 130, 246, 0.2) 100%);
            border: 1px solid rgba(139, 92, 246, 0.4);
            border-radius: 10px;
            color: var(--accent-purple);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-size: 0.9rem;
        }

        .agent-prompt-btn:hover {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.3) 0%, rgba(59, 130, 246, 0.3) 100%);
            border-color: var(--accent-purple);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.25);
        }

        /* Summary Stats */
        .agent-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 35px;
        }

        .agent-summary-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 14px;
            padding: 25px;
            text-align: center;
        }

        .agent-summary-value {
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-summary-label { font-size: 0.9rem; color: var(--text-muted); margin-top: 8px; }

        /* Heat Map Legend */
        .heat-legend {
            display: flex;
            gap: 25px;
            padding: 18px 22px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .heat-legend-item { display: flex; align-items: center; gap: 10px; font-size: 0.9rem; color: var(--text-secondary); }
        .heat-legend-color { width: 24px; height: 24px; border-radius: 6px; }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(10, 15, 26, 0.9);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            padding: 20px;
            backdrop-filter: blur(5px);
        }

        .modal-overlay.show { display: flex; }

        .modal {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            width: 100%;
            max-width: 950px;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
            box-shadow: 0 25px 80px rgba(0,0,0,0.5);
        }

        .modal-header {
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            padding: 22px 28px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 16px 16px 0 0;
        }

        .modal-header h3 { font-size: 1.25rem; font-weight: 700; }
        .modal-actions { display: flex; gap: 12px; }

        .modal-btn {
            padding: 10px 18px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 700;
            transition: transform 0.2s;
            font-size: 0.9rem;
        }

        .modal-btn:hover { transform: scale(1.05); }
        .modal-btn.copy { background: white; color: var(--accent-blue); }
        .modal-btn.close { background: rgba(255,255,255,0.2); color: white; }

        .modal-body { padding: 28px; overflow-y: auto; flex: 1; }

        .modal-body pre {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            padding: 22px;
            border-radius: 10px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            line-height: 1.7;
            white-space: pre-wrap;
            word-wrap: break-word;
            color: var(--text-secondary);
        }

        .copy-success {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--accent-green);
            color: white;
            padding: 18px 35px;
            border-radius: 10px;
            font-weight: 700;
            z-index: 3000;
            display: none;
            animation: fadeInOut 2s ease;
        }

        @keyframes fadeInOut { 0%, 100% { opacity: 0; } 10%, 90% { opacity: 1; } }

        /* AI Prompt Modal */
        .prompt-modal .modal {
            max-width: 800px;
        }

        .prompt-modal .modal-header {
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
        }

        .prompt-section {
            margin-bottom: 25px;
        }

        .prompt-section h4 {
            color: var(--accent-purple);
            font-size: 1rem;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .prompt-box {
            background: rgba(0,0,0,0.4);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            padding: 20px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            line-height: 1.7;
            color: var(--text-secondary);
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .prompt-tags {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .prompt-tag {
            background: rgba(139, 92, 246, 0.15);
            color: var(--accent-purple);
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        @media (max-width: 900px) {
            .sidebar { display: none; }
            .main-content { margin-left: 0; padding: 75px 20px 30px 20px; }
            .agent-grid { grid-template-columns: 1fr; }
        }
        .breadcrumb-logo-link { display: inline-flex; align-items: center; padding: 4px 8px; background: rgba(255,255,255,0.08); border-radius: 8px; border: 1px solid rgba(255,255,255,0.12); transition: all 0.2s; flex-shrink: 0; margin-right: 4px; }
        .breadcrumb-logo-link:hover { background: rgba(255,255,255,0.15); }
        .breadcrumb-logo { height: 24px; width: auto; display: block; }
    </style>
</head>
<body>
    <!-- Breadcrumb -->
    <nav class="breadcrumb">
<a href="../../index.html" class="breadcrumb-logo-link"><img src="../../images/clear-ai-logo.png" alt="Clear AI" class="breadcrumb-logo"></a>
        <a href="../../index.html">Portal Home</a>
        <span class="separator">></span>
        <a href="./index.html">Byte</a>
        <span class="separator">></span>
        <span class="current">Disclosure History Tool</span>
    </nav>

    <!-- Fixed Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <h2>Disclosure History Tool</h2>
            <p>Interactive Workflow Guide</p>
        </div>

        <!-- Tab Switcher -->
        <div class="sidebar-tabs">
            <button class="sidebar-tab active" onclick="switchTab('workflow')">Workflow</button>
            <button class="sidebar-tab agent-tab" onclick="switchTab('agents')">AI Agents</button>
        </div>

        <!-- Workflow Navigation -->
        <nav class="sidebar-nav" id="workflow-nav">
            <a href="#section-1" class="nav-item active">
                <span class="nav-number">1</span>
                <span class="nav-label">Access the Tool</span>
            </a>
            <a href="#section-2" class="nav-item">
                <span class="nav-number">2</span>
                <span class="nav-label">View History Table</span>
            </a>
            <a href="#section-3" class="nav-item">
                <span class="nav-number">3</span>
                <span class="nav-label">Entry Details</span>
            </a>
            <a href="#section-4" class="nav-item">
                <span class="nav-number">4</span>
                <span class="nav-label">Document Package</span>
            </a>
            <a href="#section-5" class="nav-item">
                <span class="nav-number">5</span>
                <span class="nav-label">Signers Status</span>
            </a>
            <a href="#section-6" class="nav-item">
                <span class="nav-number">6</span>
                <span class="nav-label">Document List</span>
            </a>
            <a href="#section-7" class="nav-item">
                <span class="nav-number">7</span>
                <span class="nav-label">Signed Documents</span>
            </a>
            <a href="#quick-ref" class="nav-item">
                <span class="nav-number">*</span>
                <span class="nav-label">Quick Reference</span>
            </a>
        </nav>

        <!-- Agent Navigation -->
        <nav class="sidebar-nav" id="agents-nav" style="display: none;">
            <a href="#agent-summary" class="nav-item active">
                <span class="nav-number">S</span>
                <span class="nav-label">Summary</span>
            </a>
            <a href="#agent-heatmap" class="nav-item">
                <span class="nav-number">H</span>
                <span class="nav-label">Heat Map</span>
            </a>
            <a href="#agent-details" class="nav-item">
                <span class="nav-number">A</span>
                <span class="nav-label">Agent Details</span>
            </a>
        </nav>

        <div class="sidebar-footer">
            <button class="doc-btn" onclick="openDocModal()">
                View Workflow Markdown
            </button>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">

        <!-- ==================== WORKFLOW TAB ==================== -->
        <div id="workflow-panel" class="tab-panel active">
            <!-- Header -->
            <div class="header">
                <h1>Byte Disclosure History Tool</h1>
                <p class="subtitle">Disclosure Management and Tracking for Byte & Clear 2.0</p>
                <div class="meta">
                    <span class="meta-item">System: Byte LOS</span>
                    <span class="meta-item">Role: All Users</span>
                    <span class="meta-item">Updated: April 1, 2024</span>
                    <span class="meta-item">Duration: 2-5 min</span>
                </div>
            </div>

            <!-- Legend -->
            <div class="legend">
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #22c55e, #16a34a);"></div><span>Start/End</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #3b82f6, #2563eb);"></div><span>Action Step</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #f59e0b, #d97706);"></div><span>Decision Point</span></div>
                <div class="legend-item"><div class="legend-color" style="background: #111827; border: 2px solid #3b82f6;"></div><span>User Input</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #f43f5e, #dc2626);"></div><span>Exception</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #14b8a6, #0d9488);"></div><span>Output</span></div>
            </div>

            <!-- Section 1: Access the Tool -->
            <section id="section-1" class="section">
                <div class="section-header">
                    <div class="section-number">1</div>
                    <div class="section-title"><h2>Access the Disclosure History Tool</h2><span>Navigate to the Loan Estimate Page 1 screen</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node start">Start</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Open Loan in Byte</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Click "All Screens"</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Select "Loan Estimate Page 1"</div>
                        </div>
                    </div>

                    <div class="info-box">
                        <h4>Finding the Screen</h4>
                        <p>The Loan Estimate Page 1 screen may not be visible in the default navigation. Click <strong>"All Screens"</strong> to expand the full list of available screens, then locate and select <strong>Loan Estimate Page 1</strong>.</p>
                    </div>

                    <table class="field-table">
                        <thead><tr><th>Navigation Path</th><th>Location</th></tr></thead>
                        <tbody>
                            <tr><td><strong style="color: var(--text-primary);">Find a Screen or Document</strong></td><td>Top navigation menu</td></tr>
                            <tr><td><strong style="color: var(--text-primary);">All Screens</strong></td><td>Bottom of screen category list</td></tr>
                            <tr><td><strong style="color: var(--text-primary);">Loan Estimate Page 1</strong></td><td>Under expanded All Screens section</td></tr>
                        </tbody>
                    </table>

                    <div class="tip-box">
                        <h4>Pro Tip</h4>
                        <p>The Disclosure History tool tracks ALL disclosures sent from both Byte and Clear 2.0, making it your single source of truth for disclosure status.</p>
                    </div>
                </div>
            </section>

            <!-- Section 2: View History Table -->
            <section id="section-2" class="section">
                <div class="section-header">
                    <div class="section-number">2</div>
                    <div class="section-title"><h2>View the Disclosure History Table</h2><span>Review all disclosure events in the table</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node input">On Loan Estimate Page 1</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Scroll Down</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">View Disclosure History Section</div>
                        </div>
                    </div>

                    <table class="field-table">
                        <thead><tr><th>Column</th><th>Description</th><th>Example</th></tr></thead>
                        <tbody>
                            <tr><td><strong style="color: var(--text-primary);">Form</strong></td><td>Type of disclosure document</td><td>Loan Estimate - Initial</td></tr>
                            <tr><td><strong style="color: var(--text-primary);">Delivered</strong></td><td>Date and time package was sent</td><td>01/31/2024 3:13 PM</td></tr>
                            <tr><td><strong style="color: var(--text-primary);">Method</strong></td><td>Delivery method used</td><td>ESigned</td></tr>
                            <tr><td><strong style="color: var(--text-primary);">Received</strong></td><td>Date borrower received/signed</td><td>01/31/2024</td></tr>
                            <tr><td><strong style="color: var(--text-primary);">Earliest Closing</strong></td><td>Earliest possible closing date</td><td>02/08/2024</td></tr>
                            <tr><td><strong style="color: var(--text-primary);">APR</strong></td><td>Annual Percentage Rate at disclosure</td><td>7.585</td></tr>
                        </tbody>
                    </table>

                    <div class="info-box">
                        <h4>Table Features</h4>
                        <p>The Disclosure History table displays every disclosure event chronologically. Each row represents a single disclosure package sent to the borrower(s).</p>
                    </div>
                </div>
            </section>

            <!-- Section 3: Entry Details -->
            <section id="section-3" class="section">
                <div class="section-header">
                    <div class="section-number">3</div>
                    <div class="section-title"><h2>View Entry Details</h2><span>Double-click to open detailed disclosure information</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node input">Locate Event in Table</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Double-Click Event Line</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Edit Disclosure Log Entry Opens</div>
                        </div>
                    </div>

                    <div class="summary-grid">
                        <div class="summary-card">
                            <h4>Tabs Available</h4>
                            <div class="value">2</div>
                            <div class="label">General & Document Package</div>
                        </div>
                        <div class="summary-card">
                            <h4>Key Sections</h4>
                            <div class="value">3</div>
                            <div class="label">Summary, Signers, Documents</div>
                        </div>
                        <div class="summary-card">
                            <h4>Delivery Systems</h4>
                            <div class="value">2</div>
                            <div class="label">DocuTech & IDS</div>
                        </div>
                    </div>

                    <div class="tip-box">
                        <h4>When to Use This</h4>
                        <p>Double-click an entry when documents are <strong>not fully signed</strong> or when you have <strong>questions about signing status</strong>. This provides complete visibility into the disclosure package details.</p>
                    </div>
                </div>
            </section>

            <!-- Section 4: Document Package Tab -->
            <section id="section-4" class="section">
                <div class="section-header">
                    <div class="section-number">4</div>
                    <div class="section-title"><h2>Document Package Tab - Summary</h2><span>View key package information and delivery details</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node input">Edit Disclosure Log Entry</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Click "Document Package" Tab</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">View Summary Section</div>
                        </div>
                    </div>

                    <table class="field-table">
                        <thead><tr><th>Field</th><th>Description</th><th>Example Values</th></tr></thead>
                        <tbody>
                            <tr><td><strong style="color: var(--text-primary);">Package Name</strong></td><td>Name of the disclosure package</td><td>Docutech Initial Disclosure</td></tr>
                            <tr><td><strong style="color: var(--text-primary);">Vendor</strong></td><td>System used to deliver package</td><td><span class="badge info-badge">DocuTech</span> or <span class="badge info-badge">IDS</span></td></tr>
                            <tr><td><strong style="color: var(--text-primary);">Delivery Method</strong></td><td>How package was delivered</td><td>E-Sign</td></tr>
                            <tr><td><strong style="color: var(--text-primary);">Created</strong></td><td>When package was created</td><td>01/04/2024 11:34 AM</td></tr>
                            <tr><td><strong style="color: var(--text-primary);">Status</strong></td><td>Current package status</td><td>Signed</td></tr>
                            <tr><td><strong style="color: var(--text-primary);">Delivery Requirement</strong></td><td>Who must receive the package</td><td>Any Borrower With Primary Liability</td></tr>
                            <tr><td><strong style="color: var(--text-primary);">Delivery Date/Time</strong></td><td>When package was delivered</td><td>01/04/2024 8:46 AM</td></tr>
                            <tr><td><strong style="color: var(--text-primary);">E-Delivery Deadline</strong></td><td>Deadline for electronic delivery</td><td>01/08/2024</td></tr>
                        </tbody>
                    </table>

                    <div class="detail-cards">
                        <div class="detail-card">
                            <div class="detail-card-header"><h4>DocuTech Packages</h4></div>
                            <div class="detail-card-body">
                                <ul>
                                    <li><span class="check-icon">*</span> Automated e-signing workflow</li>
                                    <li><span class="check-icon">*</span> Borrower self-service portal</li>
                                    <li><span class="check-icon">*</span> Real-time status tracking</li>
                                    <li><span class="check-icon">*</span> Auto-return to doc manager</li>
                                </ul>
                            </div>
                        </div>
                        <div class="detail-card">
                            <div class="detail-card-header"><h4>IDS Packages</h4></div>
                            <div class="detail-card-body">
                                <ul>
                                    <li><span class="check-icon">*</span> Requires LO signature</li>
                                    <li><span class="check-icon">*</span> Package returns after LO signs</li>
                                    <li><span class="check-icon">*</span> See ThinkItHub for IDS resources</li>
                                    <li><span class="x-icon">!</span> LO must sign for return</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="exception-box">
                        <h4>IDS Package Requirement</h4>
                        <p>For IDS packages, remember the <strong>LO must sign</strong> for the package to return to the document manager. See full IDS resources in ThinkItHub for more details.</p>
                    </div>
                </div>
            </section>

            <!-- Section 5: Signers Status -->
            <section id="section-5" class="section">
                <div class="section-header">
                    <div class="section-number">5</div>
                    <div class="section-title"><h2>Signers Section</h2><span>Track borrower e-consent and signing status</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node input">Document Package Tab</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Review Signers Section</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node decision">Check Each Borrower Status</div>
                        </div>
                    </div>

                    <table class="field-table">
                        <thead><tr><th>Column</th><th>Description</th><th>Possible Values</th></tr></thead>
                        <tbody>
                            <tr><td><strong style="color: var(--text-primary);">Type</strong></td><td>Signer classification</td><td>Borrower</td></tr>
                            <tr><td><strong style="color: var(--text-primary);">Name</strong></td><td>Full name of signer</td><td>Joey Tribbiani, Phoebe Buffay</td></tr>
                            <tr><td><strong style="color: var(--text-primary);">Prior Consent</strong></td><td>Previous e-consent status</td><td>Yes / No</td></tr>
                            <tr><td><strong style="color: var(--text-primary);">Consented</strong></td><td>Date of e-consent</td><td>01/04/2024</td></tr>
                            <tr><td><strong style="color: var(--text-primary);">Signed</strong></td><td>Date package was signed</td><td>01/04/2024, 01/05/2024</td></tr>
                            <tr><td><strong style="color: var(--text-primary);">Hard-Copy</strong></td><td>Hard copy delivery status</td><td>Yes / No</td></tr>
                            <tr><td><strong style="color: var(--text-primary);">Locked</strong></td><td>Account lock status</td><td>Yes / No</td></tr>
                            <tr><td><strong style="color: var(--text-primary);">Bounced</strong></td><td>Email bounce status</td><td>Yes / No</td></tr>
                        </tbody>
                    </table>

                    <div class="decision-tree">
                        <h3>Signer Status Decision Tree</h3>
                        <div class="tree-node level-1"><span class="tree-label">Check Signer Status</span></div>
                        <div class="tree-node"><span class="tree-label" style="background: var(--accent-green); color: white;">Signed</span> -> Package complete for this borrower</div>
                        <div class="tree-node"><span class="tree-label" style="background: var(--accent-amber); color: var(--bg-primary);">Consented, Not Signed</span> -> Follow up with borrower to complete signing</div>
                        <div class="tree-node"><span class="tree-label" style="background: var(--accent-rose); color: white;">Locked</span> -> Account locked - contact borrower to unlock</div>
                        <div class="tree-node"><span class="tree-label" style="background: var(--accent-rose); color: white;">Bounced</span> -> Email bounced - verify email address and resend</div>
                    </div>

                    <div class="info-box">
                        <h4>Signer Tracking</h4>
                        <p>The Signers section shows each borrower's individual status through the disclosure process, from e-consent through final signature. Use this to identify exactly where a package is stalled.</p>
                    </div>
                </div>
            </section>

            <!-- Section 6: Document List -->
            <section id="section-6" class="section">
                <div class="section-header">
                    <div class="section-number">6</div>
                    <div class="section-title"><h2>Documents Section</h2><span>View list of documents in the package</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node input">Document Package Tab</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Click "Documents" Tab/Section</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">View Document List</div>
                        </div>
                    </div>

                    <table class="field-table">
                        <thead><tr><th>Column</th><th>Description</th><th>Examples</th></tr></thead>
                        <tbody>
                            <tr><td><strong style="color: var(--text-primary);">Status</strong></td><td>Review status of document</td><td>Not Reviewed, Reviewed</td></tr>
                            <tr><td><strong style="color: var(--text-primary);">Category</strong></td><td>Document category type</td><td>MISC, DISC</td></tr>
                            <tr><td><strong style="color: var(--text-primary);">Type</strong></td><td>Specific document type</td><td>E-Sign Audit Trail, Intent to Proceed, Borrowers Certification</td></tr>
                            <tr><td><strong style="color: var(--text-primary);">Description</strong></td><td>Document description</td><td>Package_2, Audit Log, Intent to Proceed with Application</td></tr>
                            <tr><td><strong style="color: var(--text-primary);">Date/Time Created</strong></td><td>When document was created</td><td>1/4/2024 11:34:30 AM</td></tr>
                        </tbody>
                    </table>

                    <div class="summary-grid">
                        <div class="summary-card">
                            <h4>Common Categories</h4>
                            <div class="value">MISC</div>
                            <div class="label">Miscellaneous Documents</div>
                        </div>
                        <div class="summary-card">
                            <h4>Disclosure Category</h4>
                            <div class="value">DISC</div>
                            <div class="label">Disclosure Documents</div>
                        </div>
                    </div>

                    <div class="tip-box">
                        <h4>Document Types</h4>
                        <p>Common document types include: Initial Disclosure packages, Audit Logs, Intent to Proceed documents, and Borrower Certifications. Each document is timestamped for compliance tracking.</p>
                    </div>
                </div>
            </section>

            <!-- Section 7: Signed Documents -->
            <section id="section-7" class="section">
                <div class="section-header">
                    <div class="section-number">7</div>
                    <div class="section-title"><h2>Signed Document Storage</h2><span>Where to find unsigned and signed packages</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <h3 style="text-align: center; margin-bottom: 22px; color: var(--accent-blue);">Document Flow</h3>
                        <div class="flow-row"><div class="flow-node input">Disclosure Package Sent</div></div>
                        <div class="flow-row"><span class="flow-arrow down">v</span></div>
                        <div class="flow-row"><div class="flow-node decision">Signing Status?</div></div>
                        <div class="decision-branch">
                            <div class="branch">
                                <span class="branch-label">Unsigned</span>
                                <span class="flow-arrow down">v</span>
                                <div class="flow-node output">Autoflows to Byte Stored Docs & Clear Docs</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">Fully Signed</span>
                                <span class="flow-arrow down">v</span>
                                <div class="flow-node output">Flows to Byte Stored Docs & Clear Docs</div>
                            </div>
                        </div>
                    </div>

                    <div class="detail-cards">
                        <div class="detail-card">
                            <div class="detail-card-header"><h4>Unsigned Packages</h4></div>
                            <div class="detail-card-body">
                                <ul>
                                    <li><span class="check-icon">*</span> Complete copy auto-flows to storage</li>
                                    <li><span class="check-icon">*</span> Available in Byte Stored Docs</li>
                                    <li><span class="check-icon">*</span> Available in Clear Docs</li>
                                    <li><span class="check-icon">*</span> Access to view if needed when unsigned</li>
                                </ul>
                            </div>
                        </div>
                        <div class="detail-card">
                            <div class="detail-card-header"><h4>Fully Signed Packages</h4></div>
                            <div class="detail-card-body">
                                <ul>
                                    <li><span class="check-icon">*</span> Signed copy flows to storage</li>
                                    <li><span class="check-icon">*</span> Available in Byte Stored Docs</li>
                                    <li><span class="check-icon">*</span> Available in Clear Docs</li>
                                    <li><span class="check-icon">*</span> All required signatures complete</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="info-box">
                        <h4>Additional Resources</h4>
                        <ul style="margin-top: 10px; margin-left: 20px;">
                            <li style="margin-bottom: 8px;"><strong>DocuTech Borrower Experience Job Aid</strong> - Shows the full borrower e-signing experience</li>
                            <li style="margin-bottom: 8px;"><strong>DocuTech for CMG Self-Paced Course</strong> - Comprehensive training on DocuTech system</li>
                            <li style="margin-bottom: 8px;"><strong>IDS Resources on ThinkItHub</strong> - Full IDS documentation and guides</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Quick Reference -->
            <section id="quick-ref" class="quick-ref">
                <h3>Quick Reference Card</h3>
                <pre>
ACCESS: Loan Estimate Page 1 -> Scroll to Disclosure History section
        (May need to click "All Screens" to find Loan Estimate Page 1)

DISCLOSURE HISTORY TABLE COLUMNS:
* Form             - Type of disclosure (LE - Initial, etc.)
* Delivered        - Date/time sent
* Method           - Delivery method (ESigned, etc.)
* Received         - Date borrower received
* Earliest Closing - First possible closing date
* APR              - Rate at time of disclosure

DOUBLE-CLICK ENTRY TO VIEW:
* Document Package Tab -> Summary section
  - Vendor: DocuTech or IDS
  - Delivery Method, Status, Dates

* Signers Section
  - e-Consent status per borrower
  - Signing status (date signed)
  - Hard copy, Locked, Bounced status

* Documents Section
  - List of all docs in package
  - Status, Category, Type, Description

DOCUMENT STORAGE:
* Unsigned packages -> Auto-flow to Byte Stored Docs & Clear Docs
* Signed packages   -> Flow to Byte Stored Docs & Clear Docs

IDS PACKAGES:
* LO MUST SIGN for package to return to doc manager
* See ThinkItHub for full IDS resources

RESOURCES:
* DocuTech Borrower Experience Job Aid
* DocuTech for CMG Self-Paced Course
* IDS Resources on ThinkItHub
                </pre>
            </section>
        </div>

        <!-- ==================== AGENT OPPORTUNITIES TAB ==================== -->
        <div id="agents-panel" class="tab-panel">
            <!-- Header -->
            <div class="agent-header">
                <h1>AI Agent Opportunities</h1>
                <p class="subtitle">Automation Analysis for Disclosure History Workflow</p>
                <div class="meta">
                    <span class="meta-item">7 Process Steps Analyzed</span>
                    <span class="meta-item">4 Agent Candidates Identified</span>
                    <span class="meta-item">Est. 35% Time Savings</span>
                </div>
            </div>

            <!-- Summary Stats -->
            <div class="agent-summary" id="agent-summary">
                <div class="agent-summary-card">
                    <div class="agent-summary-value">4</div>
                    <div class="agent-summary-label">Agent Candidates</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">2</div>
                    <div class="agent-summary-label">High Priority</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">35%</div>
                    <div class="agent-summary-label">Time Savings</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">80%</div>
                    <div class="agent-summary-label">Automation Potential</div>
                </div>
            </div>

            <!-- Heat Map Legend -->
            <div class="heat-legend" id="agent-heatmap">
                <div class="heat-legend-item"><div class="heat-legend-color" style="background: linear-gradient(135deg, #ef4444, #f97316);"></div><span><strong>Critical (90-100)</strong> - Immediate ROI</span></div>
                <div class="heat-legend-item"><div class="heat-legend-color" style="background: linear-gradient(135deg, #f97316, #eab308);"></div><span><strong>High (70-89)</strong> - Strong candidate</span></div>
                <div class="heat-legend-item"><div class="heat-legend-color" style="background: linear-gradient(135deg, #eab308, #22c55e);"></div><span><strong>Medium (50-69)</strong> - Consider</span></div>
                <div class="heat-legend-item"><div class="heat-legend-color" style="background: linear-gradient(135deg, #22c55e, #14b8a6);"></div><span><strong>Low (0-49)</strong> - Future phase</span></div>
            </div>

            <!-- Heat Map Grid -->
            <div class="heat-map-container">
                <div class="heat-map-title">Automation Priority Heat Map <span style="font-size: 0.8rem; font-weight: 400; color: var(--text-muted);">(Click to jump to agent)</span></div>
                <div class="heat-map-grid">
                    <div class="heat-item critical" onclick="scrollToAgent('agent-status-monitor')" title="Click to view agent details">
                        <div class="heat-score">92</div>
                        <div class="heat-name">Disclosure Status Monitor</div>
                        <div class="heat-desc">Auto-alert on unsigned/stalled packages</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Effort: <span>Low</span></div>
                            <div class="heat-metric">Impact: <span>High</span></div>
                            <div class="heat-metric">Step: <span>2,5</span></div>
                        </div>
                    </div>
                    <div class="heat-item high" onclick="scrollToAgent('agent-signer-followup')" title="Click to view agent details">
                        <div class="heat-score">85</div>
                        <div class="heat-name">Signer Follow-Up Agent</div>
                        <div class="heat-desc">Auto-nudge borrowers who haven't signed</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Effort: <span>Medium</span></div>
                            <div class="heat-metric">Impact: <span>High</span></div>
                            <div class="heat-metric">Step: <span>5</span></div>
                        </div>
                    </div>
                    <div class="heat-item high" onclick="scrollToAgent('agent-bounce-resolver')" title="Click to view agent details">
                        <div class="heat-score">78</div>
                        <div class="heat-name">Bounce/Lock Resolver</div>
                        <div class="heat-desc">Auto-detect and escalate delivery issues</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Effort: <span>Low</span></div>
                            <div class="heat-metric">Impact: <span>Medium</span></div>
                            <div class="heat-metric">Step: <span>5</span></div>
                        </div>
                    </div>
                    <div class="heat-item medium" onclick="scrollToAgent('agent-ids-reminder')" title="Click to view agent details">
                        <div class="heat-score">65</div>
                        <div class="heat-name">IDS LO Sign Reminder</div>
                        <div class="heat-desc">Remind LO to sign IDS packages</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Effort: <span>Low</span></div>
                            <div class="heat-metric">Impact: <span>Medium</span></div>
                            <div class="heat-metric">Step: <span>4</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Agent Details -->
            <h2 style="font-size: 1.4rem; margin: 35px 0 22px; color: var(--text-primary);" id="agent-details">Agent Specifications</h2>

            <div class="agent-grid">
                <!-- Agent 1: Disclosure Status Monitor -->
                <div class="agent-card" id="agent-status-monitor">
                    <div class="agent-card-header">
                        <div class="agent-icon"></div>
                        <div class="agent-info">
                            <div class="agent-name">Disclosure Status Monitor Agent</div>
                            <div class="agent-type">Real-time Monitoring Agent</div>
                        </div>
                        <span class="agent-priority critical">Critical</span>
                    </div>
                    <div class="agent-card-body">
                        <p class="agent-description">Continuously monitors disclosure packages across all loans and automatically alerts processors/LOs when packages are unsigned beyond threshold periods (24h, 48h, 72h). Prevents compliance issues and closing delays.</p>
                        <div class="agent-flow">
                            <div class="agent-flow-title">Agent Flow</div>
                            <div class="agent-flow-diagram">
                                <div class="agent-step">Scan Packages</div>
                                <span class="agent-arrow">-></span>
                                <div class="agent-step">Check Status</div>
                                <span class="agent-arrow">-></span>
                                <div class="agent-step">Age Analysis</div>
                                <span class="agent-arrow">-></span>
                                <div class="agent-step">Alert</div>
                            </div>
                        </div>
                        <div class="agent-stats">
                            <div class="agent-stat"><div class="agent-stat-value">5min</div><div class="agent-stat-label">Time Saved</div></div>
                            <div class="agent-stat"><div class="agent-stat-value">95%</div><div class="agent-stat-label">Coverage</div></div>
                            <div class="agent-stat"><div class="agent-stat-value">Low</div><div class="agent-stat-label">Complexity</div></div>
                        </div>
                        <button class="agent-prompt-btn" onclick="showAgentPrompt('status-monitor')">
                            View AI Prompt to Build This Agent
                        </button>
                    </div>
                </div>

                <!-- Agent 2: Signer Follow-Up -->
                <div class="agent-card" id="agent-signer-followup">
                    <div class="agent-card-header">
                        <div class="agent-icon"></div>
                        <div class="agent-info">
                            <div class="agent-name">Signer Follow-Up Agent</div>
                            <div class="agent-type">Communication Automation Agent</div>
                        </div>
                        <span class="agent-priority high">High</span>
                    </div>
                    <div class="agent-card-body">
                        <p class="agent-description">Automatically sends personalized follow-up communications to borrowers who have consented but not yet signed. Uses configurable intervals and escalation paths to ensure timely completion.</p>
                        <div class="agent-flow">
                            <div class="agent-flow-title">Agent Flow</div>
                            <div class="agent-flow-diagram">
                                <div class="agent-step">Detect Pending</div>
                                <span class="agent-arrow">-></span>
                                <div class="agent-step">Check Interval</div>
                                <span class="agent-arrow">-></span>
                                <div class="agent-step">Send Reminder</div>
                                <span class="agent-arrow">-></span>
                                <div class="agent-step">Log Action</div>
                            </div>
                        </div>
                        <div class="agent-stats">
                            <div class="agent-stat"><div class="agent-stat-value">10min</div><div class="agent-stat-label">Time Saved</div></div>
                            <div class="agent-stat"><div class="agent-stat-value">+25%</div><div class="agent-stat-label">Sign Rate</div></div>
                            <div class="agent-stat"><div class="agent-stat-value">Med</div><div class="agent-stat-label">Complexity</div></div>
                        </div>
                        <button class="agent-prompt-btn" onclick="showAgentPrompt('signer-followup')">
                            View AI Prompt to Build This Agent
                        </button>
                    </div>
                </div>

                <!-- Agent 3: Bounce/Lock Resolver -->
                <div class="agent-card" id="agent-bounce-resolver">
                    <div class="agent-card-header">
                        <div class="agent-icon"></div>
                        <div class="agent-info">
                            <div class="agent-name">Bounce/Lock Resolver Agent</div>
                            <div class="agent-type">Issue Detection Agent</div>
                        </div>
                        <span class="agent-priority high">High</span>
                    </div>
                    <div class="agent-card-body">
                        <p class="agent-description">Monitors for bounced emails and locked accounts in the Signers section. Automatically escalates to appropriate team members and suggests resolution steps based on issue type.</p>
                        <div class="agent-flow">
                            <div class="agent-flow-title">Agent Flow</div>
                            <div class="agent-flow-diagram">
                                <div class="agent-step">Scan Signers</div>
                                <span class="agent-arrow">-></span>
                                <div class="agent-step">Detect Issues</div>
                                <span class="agent-arrow">-></span>
                                <div class="agent-step">Classify</div>
                                <span class="agent-arrow">-></span>
                                <div class="agent-step">Escalate</div>
                            </div>
                        </div>
                        <div class="agent-stats">
                            <div class="agent-stat"><div class="agent-stat-value">3min</div><div class="agent-stat-label">Time Saved</div></div>
                            <div class="agent-stat"><div class="agent-stat-value">99%</div><div class="agent-stat-label">Detection</div></div>
                            <div class="agent-stat"><div class="agent-stat-value">Low</div><div class="agent-stat-label">Complexity</div></div>
                        </div>
                        <button class="agent-prompt-btn" onclick="showAgentPrompt('bounce-resolver')">
                            View AI Prompt to Build This Agent
                        </button>
                    </div>
                </div>

                <!-- Agent 4: IDS LO Sign Reminder -->
                <div class="agent-card" id="agent-ids-reminder">
                    <div class="agent-card-header">
                        <div class="agent-icon"></div>
                        <div class="agent-info">
                            <div class="agent-name">IDS LO Sign Reminder Agent</div>
                            <div class="agent-type">Workflow Reminder Agent</div>
                        </div>
                        <span class="agent-priority medium">Medium</span>
                    </div>
                    <div class="agent-card-body">
                        <p class="agent-description">Specifically monitors IDS packages that are awaiting LO signature. Sends reminders to the LO that the package cannot return to doc manager until they sign. Prevents IDS package delays.</p>
                        <div class="agent-flow">
                            <div class="agent-flow-title">Agent Flow</div>
                            <div class="agent-flow-diagram">
                                <div class="agent-step">Detect IDS</div>
                                <span class="agent-arrow">-></span>
                                <div class="agent-step">Check LO Status</div>
                                <span class="agent-arrow">-></span>
                                <div class="agent-step">Remind LO</div>
                                <span class="agent-arrow">-></span>
                                <div class="agent-step">Track</div>
                            </div>
                        </div>
                        <div class="agent-stats">
                            <div class="agent-stat"><div class="agent-stat-value">2min</div><div class="agent-stat-label">Time Saved</div></div>
                            <div class="agent-stat"><div class="agent-stat-value">-1day</div><div class="agent-stat-label">Faster</div></div>
                            <div class="agent-stat"><div class="agent-stat-value">Low</div><div class="agent-stat-label">Complexity</div></div>
                        </div>
                        <button class="agent-prompt-btn" onclick="showAgentPrompt('ids-reminder')">
                            View AI Prompt to Build This Agent
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Documentation Modal -->
    <div class="modal-overlay" id="docModal">
        <div class="modal">
            <div class="modal-header">
                <h3>Disclosure History Tool - Workflow Markdown</h3>
                <div class="modal-actions">
                    <button class="modal-btn copy" onclick="copyToClipboard()">Copy</button>
                    <button class="modal-btn close" onclick="closeDocModal()">Close</button>
                </div>
            </div>
            <div class="modal-body">
                <pre id="docContent"># Byte Disclosure History Tool

## Overview
The Disclosure History tool in Byte is an excellent disclosure management and tracking tool for details of all Disclosures sent from Byte or Clear 2.0 when the documents are not fully signed or questions on status of signing.

## Step 1: Access the Tool
1. Open the loan in Byte
2. Click "All Screens" to expand navigation
3. Select "Loan Estimate Page 1"

## Step 2: View Disclosure History Table
- Scroll down to view the Disclosure History section
- Table displays all disclosure events:
  - Form: Type of disclosure
  - Delivered: Date/time sent
  - Method: Delivery method (ESigned, etc.)
  - Received: Date received
  - Earliest Closing: First possible closing date
  - APR: Rate at disclosure

## Step 3: View Entry Details
- Double-click any event line to see details
- Opens "Edit Disclosure Log Entry" dialog

## Step 4: Document Package Tab
### Summary Section
- Package Name
- Vendor: DocuTech or IDS
- Delivery Method
- Created date
- Status
- Delivery Requirement
- Delivery Date/Time
- E-Delivery Deadline

### Important Notes
- DocuTech: Automated e-signing workflow
- IDS: LO MUST SIGN for package to return to doc manager

## Step 5: Signers Section
Displays each borrower's status:
- Type (Borrower)
- Name
- Prior Consent (Yes/No)
- Consented (date)
- Signed (date)
- Hard-Copy (Yes/No)
- Locked (Yes/No)
- Bounced (Yes/No)

## Step 6: Documents Section
Lists all documents in package:
- Status
- Category (MISC, DISC)
- Type
- Description
- Date/Time Created

## Step 7: Document Storage
- Unsigned packages: Auto-flow to Byte Stored Docs & Clear Docs
- Fully signed packages: Flow to Byte Stored Docs & Clear Docs

## Resources
- DocuTech Borrower Experience Job Aid
- DocuTech for CMG Self-Paced Course
- IDS Resources on ThinkItHub

Updated: April 1, 2024</pre>
            </div>
        </div>
    </div>

    <div class="copy-success" id="copySuccess">Copied to clipboard!</div>

    <!-- AI Prompt Modal -->
    <div class="modal-overlay prompt-modal" id="promptModal">
        <div class="modal">
            <div class="modal-header">
                <h3 id="promptModalTitle">AI Agent Build Prompt</h3>
                <div class="modal-actions">
                    <button class="modal-btn copy" onclick="copyPromptToClipboard()">Copy Prompt</button>
                    <button class="modal-btn close" onclick="closePromptModal()">Close</button>
                </div>
            </div>
            <div class="modal-body">
                <div class="prompt-tags" id="promptTags"></div>
                <div class="prompt-section">
                    <h4>Agent Purpose</h4>
                    <div class="prompt-box" id="promptPurpose"></div>
                </div>
                <div class="prompt-section">
                    <h4>Full Build Prompt</h4>
                    <div class="prompt-box" id="promptContent"></div>
                </div>
                <div class="prompt-section">
                    <h4>Integration Points</h4>
                    <div class="prompt-box" id="promptIntegration"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Improved scroll-spy with click debounce
        let isScrolling = false;

        // Tab switching
        function switchTab(tab) {
            document.querySelectorAll('.sidebar-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));

            if (tab === 'workflow') {
                document.querySelector('.sidebar-tab:not(.agent-tab)').classList.add('active');
                document.getElementById('workflow-panel').classList.add('active');
                document.getElementById('workflow-nav').style.display = 'block';
                document.getElementById('agents-nav').style.display = 'none';
            } else {
                document.querySelector('.sidebar-tab.agent-tab').classList.add('active');
                document.getElementById('agents-panel').classList.add('active');
                document.getElementById('workflow-nav').style.display = 'none';
                document.getElementById('agents-nav').style.display = 'block';
            }

            window.scrollTo(0, 0);
        }

        // Scroll spy with debounce
        const sections = document.querySelectorAll('.section, .quick-ref');
        const navItems = document.querySelectorAll('#workflow-nav .nav-item');

        function updateActiveNav() {
            if (isScrolling) return;

            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100;
                if (window.scrollY >= sectionTop) current = section.getAttribute('id');
            });
            navItems.forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('href') === '#' + current) item.classList.add('active');
            });
        }

        window.addEventListener('scroll', updateActiveNav);

        // Handle nav clicks with debounce
        navItems.forEach(item => {
            item.addEventListener('click', function(e) {
                isScrolling = true;
                navItems.forEach(nav => nav.classList.remove('active'));
                this.classList.add('active');

                setTimeout(() => {
                    isScrolling = false;
                }, 1000);
            });
        });

        // Modal
        function openDocModal() {
            document.getElementById('docModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closeDocModal() {
            document.getElementById('docModal').classList.remove('show');
            document.body.style.overflow = '';
        }

        async function copyToClipboard() {
            try {
                await navigator.clipboard.writeText(document.getElementById('docContent').textContent);
                const success = document.getElementById('copySuccess');
                success.style.display = 'block';
                setTimeout(() => { success.style.display = 'none'; }, 2000);
            } catch (e) { alert('Failed to copy.'); }
        }

        document.addEventListener('keydown', (e) => { if (e.key === 'Escape') { closeDocModal(); closePromptModal(); } });
        document.getElementById('docModal').addEventListener('click', (e) => { if (e.target.id === 'docModal') closeDocModal(); });

        document.addEventListener('DOMContentLoaded', () => { updateActiveNav(); });

        // ====== AGENT PROMPT SYSTEM ======
        const agentPrompts = {
            'status-monitor': {
                name: 'Disclosure Status Monitor Agent',
                tags: ['Real-time Monitoring', 'Alerts', 'Low Complexity', 'Critical Priority'],
                purpose: `This agent continuously monitors all disclosure packages across loans and automatically alerts processors/LOs when packages remain unsigned beyond configurable threshold periods (24h, 48h, 72h). Prevents compliance issues and closing delays by ensuring timely follow-up.`,
                prompt: `You are building a Real-time Monitoring Agent for CMG Financial's Byte LOS system.

AGENT NAME: Disclosure Status Monitor Agent
TYPE: Real-time Monitoring / Alert System

OBJECTIVE:
Create an agent that scans the Disclosure History across all active loans and alerts team members when packages are stalled or unsigned beyond threshold periods.

MONITORING LOGIC:

1. SCAN FREQUENCY
   - Every 15 minutes during business hours
   - Hourly overnight
   - Full scan on system startup

2. ALERT THRESHOLDS (configurable)
   - Yellow Alert: Package unsigned > 24 hours
   - Orange Alert: Package unsigned > 48 hours
   - Red Alert: Package unsigned > 72 hours
   - Critical: Package unsigned > 5 days

3. DATA POINTS TO CHECK
   - Disclosure History table: Delivered date/time
   - Signer status: Consented but not Signed
   - Package vendor: DocuTech vs IDS
   - Loan closing date proximity

ALERT FORMAT:
{
  "alertLevel": "ORANGE",
  "loanNumber": "2024-001234",
  "borrowerName": "John Smith",
  "packageType": "Initial LE",
  "deliveredDate": "2024-01-15 3:13 PM",
  "hoursUnsigned": 52,
  "signersStatus": [
    { "name": "John Smith", "consented": true, "signed": false },
    { "name": "Jane Smith", "consented": true, "signed": true }
  ],
  "closingDate": "2024-02-15",
  "daysToClosing": 28,
  "assignedTo": "processor@cmgfi.com",
  "suggestedAction": "Contact borrower John Smith for signature"
}

ESCALATION RULES:
- 24h: Alert assigned processor
- 48h: Alert processor + LO
- 72h: Alert processor + LO + team lead
- 5d+: Alert branch manager`,
                integration: `INTEGRATION POINTS:

1. Byte LOS Database
   - Query Disclosure History table
   - Query Signer status records
   - Access loan timeline/closing dates

2. Notification Channels
   - Email alerts with direct link to loan
   - Byte dashboard notifications
   - Optional: SMS for critical alerts

3. Reporting Dashboard
   - Real-time count of unsigned packages
   - Aging report by time bucket
   - Team/branch roll-up views

4. Configuration Panel
   - Adjustable time thresholds
   - Notification preferences per user
   - Quiet hours settings

TECHNICAL REQUIREMENTS:
- Response time < 5 seconds per scan
- Support 10,000+ active loans
- Audit log of all alerts sent`
            },
            'signer-followup': {
                name: 'Signer Follow-Up Agent',
                tags: ['Communication Automation', 'Email/SMS', 'Medium Complexity', 'High Priority'],
                purpose: `This agent automatically sends personalized follow-up communications to borrowers who have provided e-consent but have not yet signed their disclosure packages. Uses configurable intervals and escalation paths to maximize signing completion rates.`,
                prompt: `You are building a Communication Automation Agent for CMG Financial's disclosure workflow.

AGENT NAME: Signer Follow-Up Agent
TYPE: Automated Communication / Follow-up System

OBJECTIVE:
Create an agent that automatically sends follow-up reminders to borrowers who have consented but not completed signing their disclosure packages.

TRIGGER CONDITIONS:
- Borrower status: Consented = Yes, Signed = No
- Time since delivery > 24 hours
- No recent reminder sent (cooldown period)

COMMUNICATION SCHEDULE:
Day 1 (24h): Friendly reminder email
Day 2 (48h): Email + SMS reminder
Day 3 (72h): Urgent email + call task for LO
Day 5: Final notice + escalation to LO

MESSAGE TEMPLATES:

EMAIL - Day 1 (Friendly):
Subject: Quick reminder: Your loan documents are ready to sign

Hi {BorrowerFirstName},

Your disclosure documents for {PropertyAddress} are ready and waiting for your signature. Signing only takes a few minutes!

[Sign Now Button]

Questions? Contact {LOName} at {LOPhone}.

---

EMAIL - Day 2 (Reminder):
Subject: Action needed: Please sign your loan documents

Hi {BorrowerFirstName},

We noticed your disclosure documents haven't been signed yet. To keep your loan on track for closing on {ClosingDate}, please sign today.

[Sign Now Button]

---

SMS - Day 2:
CMG Financial: Hi {FirstName}, your loan docs are waiting! Sign now: {SigningLink} Questions? Call {LOPhone}

---

EMAIL - Day 3 (Urgent):
Subject: URGENT: Signature required for {PropertyAddress}

Hi {BorrowerFirstName},

Your disclosure documents require immediate attention. A delay in signing may impact your closing date of {ClosingDate}.

[Sign Now Button]

Your loan officer {LOName} will be reaching out to assist you.

PERSONALIZATION VARIABLES:
{BorrowerFirstName}, {BorrowerLastName}
{PropertyAddress}
{ClosingDate}
{LOName}, {LOPhone}, {LOEmail}
{SigningLink}
{PackageType}`,
                integration: `INTEGRATION POINTS:

1. Byte/Clear Signer Status
   - Real-time query of signer records
   - Detect consent vs signed status
   - Pull borrower contact info

2. Email Service (SendGrid/Mailgun)
   - HTML email templates
   - Track opens/clicks
   - Unsubscribe handling

3. SMS Service (Twilio)
   - Short URL generation for signing links
   - Delivery confirmation
   - Opt-out management

4. CRM Task Creation
   - Create follow-up tasks for LO
   - Link tasks to loan record
   - Track completion

5. Analytics Dashboard
   - Reminder sent counts
   - Conversion rate (reminded -> signed)
   - Average time to sign

COMPLIANCE REQUIREMENTS:
- Respect communication preferences
- Include opt-out in all messages
- Log all communications for audit
- TCPA compliance for SMS`
            },
            'bounce-resolver': {
                name: 'Bounce/Lock Resolver Agent',
                tags: ['Issue Detection', 'Escalation', 'Low Complexity', 'High Priority'],
                purpose: `This agent monitors the Signers section for bounced emails and locked accounts, automatically escalates issues to appropriate team members, and provides resolution guidance based on the specific issue type detected.`,
                prompt: `You are building an Issue Detection Agent for CMG Financial's disclosure workflow.

AGENT NAME: Bounce/Lock Resolver Agent
TYPE: Issue Detection / Automated Escalation

OBJECTIVE:
Create an agent that detects and escalates email bounce and account lock issues from the Disclosure History Signers section.

DETECTION CRITERIA:

1. BOUNCED EMAIL
   - Signers section: Bounced = Yes
   - Indicates email delivery failure
   - Requires email verification/update

2. LOCKED ACCOUNT
   - Signers section: Locked = Yes
   - Too many failed login attempts
   - Borrower needs to reset or contact support

ISSUE CLASSIFICATION:
{
  "issueType": "BOUNCED" | "LOCKED",
  "severity": "HIGH",
  "loanNumber": "2024-001234",
  "borrowerName": "John Smith",
  "borrowerEmail": "john.smith@email.com",
  "detectedAt": "2024-01-16 10:30 AM",
  "packageType": "Initial LE",
  "packageDelivered": "2024-01-15 3:13 PM",
  "resolution": {
    "steps": [...],
    "assignedTo": "processor@cmgfi.com",
    "escalateTo": "team.lead@cmgfi.com"
  }
}

RESOLUTION WORKFLOWS:

BOUNCED EMAIL:
1. Alert processor immediately
2. Create task: "Verify borrower email address"
3. Suggest: Check CRM for alternate email
4. Suggest: Contact borrower via phone
5. Once corrected: Trigger re-send of package

LOCKED ACCOUNT:
1. Alert processor immediately
2. Create task: "Assist borrower with account unlock"
3. Provide unlock instructions for borrower
4. If DocuTech: Direct to DocuTech support
5. If IDS: Direct to IDS support resources

ALERT MESSAGE FORMAT:
Subject: [ACTION REQUIRED] Disclosure Delivery Issue - {LoanNumber}

ISSUE DETECTED: {IssueType}
Borrower: {BorrowerName}
Loan: {LoanNumber} - {PropertyAddress}
Package: {PackageType}

RESOLUTION STEPS:
1. {Step1}
2. {Step2}
3. {Step3}

[View Loan] [Contact Borrower]`,
                integration: `INTEGRATION POINTS:

1. Byte Signer Status
   - Monitor Bounced and Locked fields
   - Real-time polling every 5 minutes
   - Historical tracking of issues

2. Notification System
   - Immediate email to assigned processor
   - Dashboard alert in Byte
   - Task creation in pipeline

3. Resolution Tracking
   - Log issue detection time
   - Track time to resolution
   - Report on common issues

4. Knowledge Base
   - Link to DocuTech support resources
   - Link to IDS support resources
   - Email verification best practices

METRICS TO TRACK:
- Issues detected per day
- Average resolution time
- Issues by type (bounce vs lock)
- Repeat issues per borrower`
            },
            'ids-reminder': {
                name: 'IDS LO Sign Reminder Agent',
                tags: ['Workflow Reminder', 'IDS Specific', 'Low Complexity', 'Medium Priority'],
                purpose: `This agent specifically monitors IDS disclosure packages that are awaiting Loan Officer signature. It sends targeted reminders to LOs that their signature is required for the package to return to the document manager, preventing IDS-specific workflow delays.`,
                prompt: `You are building a Workflow Reminder Agent specific to IDS disclosure packages.

AGENT NAME: IDS LO Sign Reminder Agent
TYPE: Workflow Reminder / Role-specific Notification

OBJECTIVE:
Create an agent that monitors IDS disclosure packages awaiting LO signature and sends reminders to ensure timely completion.

DETECTION LOGIC:

1. IDENTIFY IDS PACKAGES
   - Document Package Tab -> Vendor = "IDS"
   - Status != "Signed" or "Complete"

2. CHECK LO SIGNATURE STATUS
   - IDS packages require LO signature
   - Package cannot return to doc manager without it
   - Query IDS system for LO sign status

3. TRIGGER CONDITIONS
   - IDS package delivered > 4 hours ago
   - LO has not signed
   - Borrower(s) have completed signing

REMINDER SCHEDULE:
- 4 hours: Initial reminder to LO
- 24 hours: Follow-up reminder
- 48 hours: Escalate to processor + LO
- 72 hours: Escalate to branch manager

REMINDER MESSAGE:

EMAIL - Initial (4h):
Subject: [IDS] Your signature needed - Loan {LoanNumber}

Hi {LOName},

An IDS disclosure package for {BorrowerName} requires your signature before it can be returned to the document manager.

Loan: {LoanNumber}
Package: {PackageType}
Borrower Signed: {BorrowerSignedDate}

[Sign IDS Package Now]

Note: IDS packages cannot be processed until the LO signature is complete.

---

EMAIL - Escalation (48h):
Subject: [URGENT] IDS Package Awaiting LO Signature - {LoanNumber}

This IDS package has been awaiting LO signature for 48+ hours:

Loan: {LoanNumber}
LO: {LOName}
Package: {PackageType}
Delivered: {DeliveredDate}
Borrower Signed: {BorrowerSignedDate}

Please follow up with {LOName} to complete signing.

DATA TO TRACK:
{
  "loanNumber": "2024-001234",
  "loName": "Sarah Johnson",
  "loEmail": "sjohnson@cmgfi.com",
  "packageVendor": "IDS",
  "packageType": "Initial LE",
  "deliveredDate": "2024-01-15 3:13 PM",
  "borrowerSignedDate": "2024-01-15 5:45 PM",
  "loSignedDate": null,
  "hoursWaiting": 28,
  "remindersSent": 1
}`,
                integration: `INTEGRATION POINTS:

1. Byte Document Package
   - Query Vendor field for "IDS"
   - Check package status
   - Get delivery timestamps

2. IDS System Integration
   - Query LO signature status
   - Get signing link for LO
   - Verify package completion

3. LO Contact System
   - Email notifications to LO
   - Dashboard reminders in Byte
   - Optional: Mobile push notifications

4. Escalation Contacts
   - Processor email
   - Branch manager email
   - Team lead email

THINKITHUB LINK:
- Include link to IDS resources
- "See full IDS resources in ThinkItHub"

METRICS:
- Average time LO takes to sign
- Packages delayed due to LO signature
- Reminder effectiveness rate`
            }
        };

        // Scroll to agent card and highlight
        function scrollToAgent(agentId) {
            const agentCard = document.getElementById(agentId);
            if (agentCard) {
                document.querySelectorAll('.agent-card.highlight').forEach(card => {
                    card.classList.remove('highlight');
                });

                agentCard.scrollIntoView({ behavior: 'smooth', block: 'center' });

                setTimeout(() => {
                    agentCard.classList.add('highlight');
                }, 300);

                setTimeout(() => {
                    agentCard.classList.remove('highlight');
                }, 2500);
            }
        }

        // Show agent prompt modal
        let currentPromptContent = '';

        function showAgentPrompt(agentKey) {
            const agent = agentPrompts[agentKey];
            if (!agent) return;

            document.getElementById('promptModalTitle').textContent = `${agent.name} - Build Prompt`;

            const tagsHtml = agent.tags.map(tag => `<span class="prompt-tag">${tag}</span>`).join('');
            document.getElementById('promptTags').innerHTML = tagsHtml;

            document.getElementById('promptPurpose').textContent = agent.purpose;
            document.getElementById('promptContent').textContent = agent.prompt;
            document.getElementById('promptIntegration').textContent = agent.integration;

            currentPromptContent = `# ${agent.name}\n\n## Purpose\n${agent.purpose}\n\n## Build Prompt\n${agent.prompt}\n\n## Integration Points\n${agent.integration}`;

            document.getElementById('promptModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closePromptModal() {
            document.getElementById('promptModal').classList.remove('show');
            document.body.style.overflow = '';
        }

        async function copyPromptToClipboard() {
            try {
                await navigator.clipboard.writeText(currentPromptContent);
                const success = document.getElementById('copySuccess');
                success.style.display = 'block';
                setTimeout(() => { success.style.display = 'none'; }, 2000);
            } catch (e) {
                alert('Failed to copy prompt.');
            }
        }

        document.getElementById('promptModal').addEventListener('click', (e) => {
            if (e.target.id === 'promptModal') closePromptModal();
        });
    </script>
</body>
</html>
