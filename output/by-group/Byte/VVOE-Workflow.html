<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Byte VVOE - Process Workflow</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0f1a;
            --bg-secondary: #111827;
            --bg-card: #1a2234;
            --accent-blue: #3b82f6;
            --accent-teal: #14b8a6;
            --accent-amber: #f59e0b;
            --accent-rose: #f43f5e;
            --accent-green: #22c55e;
            --accent-purple: #8b5cf6;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --border-subtle: rgba(255,255,255,0.08);
            --sidebar-width: 280px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
        }

        /* Breadcrumb */
        .breadcrumb {
            background: linear-gradient(90deg, #0d1525 0%, #1a2234 100%);
            padding: 14px 25px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 0.95rem;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1001;
            border-bottom: 1px solid var(--border-subtle);
        }

        .breadcrumb a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 600;
            padding: 8px 16px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
            transition: all 0.2s;
            border: 1px solid var(--border-subtle);
        }

        .breadcrumb a:hover {
            background: rgba(59, 130, 246, 0.15);
            color: var(--accent-blue);
            border-color: rgba(59, 130, 246, 0.3);
        }

        .breadcrumb .separator { color: var(--text-muted); font-size: 1.2rem; }
        .breadcrumb .current { color: var(--accent-amber); font-weight: 600; padding: 8px 16px; }

        /* Sidebar */
        .sidebar {
            position: fixed;
            top: 54px;
            left: 0;
            width: var(--sidebar-width);
            height: calc(100vh - 54px);
            background: var(--bg-secondary);
            overflow-y: auto;
            z-index: 1000;
            border-right: 1px solid var(--border-subtle);
            display: flex;
            flex-direction: column;
        }

        .sidebar-header {
            padding: 25px 20px;
            background: rgba(0,0,0,0.3);
            border-bottom: 1px solid var(--border-subtle);
        }

        .sidebar-header h2 { color: var(--text-primary); font-size: 1.2rem; font-weight: 700; margin-bottom: 5px; }
        .sidebar-header p { color: var(--text-muted); font-size: 0.85rem; }

        /* Tab Switch */
        .sidebar-tabs {
            display: flex;
            border-bottom: 1px solid var(--border-subtle);
        }

        .sidebar-tab {
            flex: 1;
            padding: 14px 10px;
            text-align: center;
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--text-muted);
            cursor: pointer;
            transition: all 0.2s;
            border-bottom: 3px solid transparent;
            background: none;
            border-left: none;
            border-right: none;
            border-top: none;
        }

        .sidebar-tab:hover { background: rgba(255,255,255,0.03); color: var(--text-secondary); }
        .sidebar-tab.active { color: var(--accent-blue); border-bottom-color: var(--accent-blue); background: rgba(59, 130, 246, 0.08); }
        .sidebar-tab.agent-tab.active { color: var(--accent-purple); border-bottom-color: var(--accent-purple); background: rgba(139, 92, 246, 0.08); }

        .sidebar-nav { padding: 15px 0; flex: 1; overflow-y: auto; }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 20px;
            color: var(--text-secondary);
            text-decoration: none;
            border-left: 3px solid transparent;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .nav-item:hover { background: rgba(255,255,255,0.03); color: var(--text-primary); }
        .nav-item.active { background: rgba(59, 130, 246, 0.1); border-left-color: var(--accent-blue); color: var(--text-primary); }

        .nav-number {
            background: rgba(255,255,255,0.1);
            color: var(--text-secondary);
            width: 28px;
            height: 28px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.85rem;
            flex-shrink: 0;
        }

        .nav-item.active .nav-number { background: var(--accent-blue); color: white; }
        .nav-label { font-size: 0.95rem; font-weight: 500; }

        .sidebar-footer {
            padding: 20px;
            border-top: 1px solid var(--border-subtle);
            background: rgba(0,0,0,0.2);
        }

        .doc-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
            padding: 14px 20px;
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            text-decoration: none;
            font-size: 0.95rem;
        }

        .doc-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3); }

        /* Main Content */
        .main-content { margin-left: var(--sidebar-width); padding: 80px 40px 40px 40px; }

        /* Tab Panels */
        .tab-panel { display: none; }
        .tab-panel.active { display: block; }

        .header {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            padding: 35px;
            border-radius: 16px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background:
                radial-gradient(ellipse at 20% 20%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(20, 184, 166, 0.08) 0%, transparent 50%);
            pointer-events: none;
        }

        .header h1 {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 10px;
            position: relative;
            background: linear-gradient(135deg, var(--text-primary) 0%, var(--accent-blue) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header .subtitle { color: var(--text-secondary); font-size: 1.1rem; position: relative; }

        .header .meta { display: flex; gap: 15px; margin-top: 20px; flex-wrap: wrap; position: relative; }

        .header .meta-item {
            background: rgba(255,255,255,0.05);
            border: 1px solid var(--border-subtle);
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Legend */
        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            padding: 18px 22px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            margin-bottom: 25px;
        }

        .legend-item { display: flex; align-items: center; gap: 8px; font-size: 0.85rem; color: var(--text-secondary); }
        .legend-color { width: 18px; height: 18px; border-radius: 4px; }

        /* Sections */
        .section {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            margin-bottom: 25px;
            overflow: hidden;
            scroll-margin-top: 75px;
        }

        .section-header {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, rgba(59, 130, 246, 0.1) 100%);
            border-bottom: 1px solid var(--border-subtle);
            padding: 22px 25px;
            display: flex;
            align-items: center;
            gap: 18px;
        }

        .section-number {
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 1.3rem;
            flex-shrink: 0;
        }

        .section-title h2 { font-size: 1.35rem; font-weight: 700; margin-bottom: 4px; color: var(--text-primary); }
        .section-title span { font-size: 0.9rem; color: var(--text-muted); }
        .section-content { padding: 28px; }

        /* Workflow Diagrams */
        .workflow-diagram {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 28px;
            margin-bottom: 22px;
        }

        .flow-row { display: flex; align-items: center; justify-content: center; flex-wrap: wrap; gap: 12px; margin: 15px 0; }

        .flow-node {
            padding: 14px 22px;
            border-radius: 10px;
            text-align: center;
            font-size: 0.9rem;
            font-weight: 600;
            min-width: 150px;
            border: 1px solid var(--border-subtle);
        }

        .flow-node.start { background: linear-gradient(135deg, var(--accent-green) 0%, #16a34a 100%); color: white; border-radius: 25px; border: none; }
        .flow-node.action { background: linear-gradient(135deg, var(--accent-blue) 0%, #2563eb 100%); color: white; border: none; }
        .flow-node.decision { background: linear-gradient(135deg, var(--accent-amber) 0%, #d97706 100%); color: var(--bg-primary); border: none; }
        .flow-node.input { background: var(--bg-secondary); border: 2px solid var(--accent-blue); color: var(--text-primary); }
        .flow-node.output { background: linear-gradient(135deg, var(--accent-teal) 0%, #0d9488 100%); color: white; border: none; }
        .flow-node.exception { background: linear-gradient(135deg, var(--accent-rose) 0%, #dc2626 100%); color: white; border: none; }

        .flow-arrow { color: var(--accent-blue); font-size: 1.5rem; }
        .flow-arrow.down { transform: rotate(90deg); }

        .decision-branch { display: flex; gap: 40px; justify-content: center; margin: 20px 0; flex-wrap: wrap; }
        .branch { display: flex; flex-direction: column; align-items: center; gap: 10px; }

        .branch-label {
            background: var(--bg-secondary);
            border: 1px solid var(--border-subtle);
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--text-secondary);
        }

        /* Tables */
        .field-table { width: 100%; border-collapse: collapse; margin: 18px 0; }

        .field-table th {
            background: rgba(59, 130, 246, 0.15);
            color: var(--accent-blue);
            padding: 14px 18px;
            text-align: left;
            font-weight: 600;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            border-bottom: 1px solid var(--border-subtle);
        }

        .field-table td { padding: 14px 18px; border-bottom: 1px solid var(--border-subtle); color: var(--text-secondary); }
        .field-table tr:hover { background: rgba(255,255,255,0.02); }

        .badge { display: inline-block; padding: 4px 12px; border-radius: 6px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; }
        .badge.required-badge { background: rgba(244, 63, 94, 0.15); color: var(--accent-rose); }
        .badge.optional-badge { background: rgba(34, 197, 94, 0.15); color: var(--accent-green); }
        .badge.calculated-badge { background: rgba(59, 130, 246, 0.15); color: var(--accent-blue); }

        /* Info Boxes */
        .exception-box, .tip-box, .info-box {
            padding: 18px 22px;
            margin: 18px 0;
            border-radius: 0 10px 10px 0;
            border-left-width: 4px;
            border-left-style: solid;
        }

        .exception-box { background: rgba(244, 63, 94, 0.08); border-color: var(--accent-rose); border: 1px solid rgba(244, 63, 94, 0.2); border-left: 4px solid var(--accent-rose); }
        .exception-box h4 { color: var(--accent-rose); margin-bottom: 10px; font-size: 1rem; }
        .exception-box p, .exception-box li { color: var(--text-secondary); }

        .tip-box { background: rgba(34, 197, 94, 0.08); border-color: var(--accent-green); border: 1px solid rgba(34, 197, 94, 0.2); border-left: 4px solid var(--accent-green); }
        .tip-box h4 { color: var(--accent-green); margin-bottom: 10px; font-size: 1rem; }
        .tip-box p, .tip-box li { color: var(--text-secondary); }

        .info-box { background: rgba(59, 130, 246, 0.08); border-color: var(--accent-blue); border: 1px solid rgba(59, 130, 246, 0.2); border-left: 4px solid var(--accent-blue); }
        .info-box h4 { color: var(--accent-blue); margin-bottom: 10px; font-size: 1rem; }
        .info-box p, .info-box li { color: var(--text-secondary); }

        /* Decision Tree */
        .decision-tree {
            background: rgba(0,0,0,0.2);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 22px;
            margin: 22px 0;
        }

        .decision-tree h3 { color: var(--accent-blue); margin-bottom: 18px; padding-bottom: 12px; border-bottom: 1px solid var(--border-subtle); font-size: 1.1rem; }

        .tree-node { margin-left: 20px; padding: 12px; border-left: 2px solid var(--accent-teal); position: relative; color: var(--text-secondary); }
        .tree-node::before { content: ''; position: absolute; left: -2px; top: 22px; width: 15px; height: 2px; background: var(--accent-teal); }
        .tree-node.level-1 { margin-left: 0; border-left: none; }
        .tree-node.level-1::before { display: none; }

        .tree-label { background: var(--accent-amber); color: var(--bg-primary); padding: 6px 14px; border-radius: 6px; font-weight: 700; display: inline-block; margin-bottom: 6px; font-size: 0.9rem; }

        /* Summary Grid */
        .summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 18px; margin: 22px 0; }

        .summary-card { background: rgba(0,0,0,0.3); border: 1px solid var(--border-subtle); border-radius: 12px; padding: 22px; text-align: center; }
        .summary-card h4 { color: var(--text-secondary); margin-bottom: 12px; font-size: 0.9rem; }
        .summary-card .value {
            font-size: 2.2rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .summary-card .label { font-size: 0.85rem; color: var(--text-muted); margin-top: 8px; }

        /* MI Comparison Cards */
        .mi-comparison { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin: 22px 0; }

        .mi-card { background: rgba(0,0,0,0.2); border: 1px solid var(--border-subtle); border-radius: 12px; overflow: hidden; }
        .mi-card-header { background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%); color: white; padding: 18px; text-align: center; }
        .mi-card-header h4 { font-size: 1.05rem; }
        .mi-card-body { padding: 22px; }
        .mi-card ul { list-style: none; padding: 0; }
        .mi-card li { padding: 10px 0; border-bottom: 1px solid var(--border-subtle); display: flex; align-items: center; gap: 12px; color: var(--text-secondary); font-size: 0.95rem; }
        .mi-card li:last-child { border-bottom: none; }
        .check-icon { color: var(--accent-green); font-weight: bold; }
        .x-icon { color: var(--accent-rose); font-weight: bold; }

        /* Quick Reference */
        .quick-ref {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-card) 100%);
            border: 1px solid var(--border-subtle);
            padding: 28px;
            border-radius: 16px;
            margin-top: 30px;
            font-family: 'JetBrains Mono', monospace;
            scroll-margin-top: 75px;
        }

        .quick-ref h3 { color: var(--accent-amber); margin-bottom: 18px; font-family: 'Plus Jakarta Sans', sans-serif; }
        .quick-ref pre { background: rgba(0,0,0,0.4); border: 1px solid var(--border-subtle); padding: 20px; border-radius: 10px; overflow-x: auto; font-size: 0.85rem; line-height: 1.7; color: var(--text-secondary); }

        /* ====== AGENT OPPORTUNITIES STYLES ====== */
        .agent-header {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            padding: 35px;
            border-radius: 16px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .agent-header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background:
                radial-gradient(ellipse at 20% 20%, rgba(139, 92, 246, 0.12) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(245, 158, 11, 0.1) 0%, transparent 50%);
            pointer-events: none;
        }

        .agent-header h1 {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 10px;
            position: relative;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-header .subtitle { color: var(--text-secondary); font-size: 1.1rem; position: relative; }

        /* Heat Map */
        .heat-map-container { margin-bottom: 35px; }
        .heat-map-title { font-size: 1.3rem; font-weight: 700; color: var(--text-primary); margin-bottom: 20px; display: flex; align-items: center; gap: 12px; }

        .heat-map-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .heat-item {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 20px;
            position: relative;
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
        }

        .heat-item:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .heat-item:active { transform: scale(0.98); }

        .heat-item::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; height: 4px;
        }

        .heat-item.critical::before { background: linear-gradient(90deg, #ef4444, #f97316); }
        .heat-item.high::before { background: linear-gradient(90deg, #f97316, #eab308); }
        .heat-item.medium::before { background: linear-gradient(90deg, #eab308, #22c55e); }
        .heat-item.low::before { background: linear-gradient(90deg, #22c55e, #14b8a6); }

        .heat-score {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.8rem;
            font-weight: 800;
        }

        .heat-item.critical .heat-score { color: #ef4444; }
        .heat-item.high .heat-score { color: #f97316; }
        .heat-item.medium .heat-score { color: #eab308; }
        .heat-item.low .heat-score { color: #22c55e; }

        .heat-name { font-size: 1rem; font-weight: 700; color: var(--text-primary); margin-bottom: 6px; padding-right: 50px; }
        .heat-desc { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px; }

        .heat-metrics { display: flex; gap: 15px; margin-top: 12px; }
        .heat-metric { font-size: 0.75rem; color: var(--text-muted); }
        .heat-metric span { color: var(--text-secondary); font-weight: 600; }

        /* Agent Cards */
        .agent-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)); gap: 25px; margin-bottom: 35px; }

        .agent-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .agent-card:hover { transform: translateY(-5px); box-shadow: 0 15px 50px rgba(0,0,0,0.3); }

        .agent-card.highlight {
            animation: highlightPulse 2s ease;
            box-shadow: 0 0 0 3px var(--accent-purple), 0 15px 50px rgba(139, 92, 246, 0.4);
        }

        @keyframes highlightPulse {
            0% { box-shadow: 0 0 0 3px var(--accent-purple), 0 15px 50px rgba(139, 92, 246, 0.6); }
            50% { box-shadow: 0 0 0 6px rgba(139, 92, 246, 0.5), 0 15px 50px rgba(139, 92, 246, 0.3); }
            100% { box-shadow: 0 0 0 0px transparent, 0 15px 50px rgba(0,0,0,0.3); }
        }

        .agent-card-header {
            padding: 22px;
            display: flex;
            align-items: flex-start;
            gap: 18px;
            border-bottom: 1px solid var(--border-subtle);
        }

        .agent-icon {
            width: 55px;
            height: 55px;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.6rem;
            flex-shrink: 0;
        }

        .agent-info { flex: 1; }
        .agent-name { font-size: 1.15rem; font-weight: 700; color: var(--text-primary); margin-bottom: 5px; }
        .agent-type { font-size: 0.8rem; color: var(--accent-purple); font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }

        .agent-priority {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
        }

        .agent-priority.critical { background: rgba(239, 68, 68, 0.15); color: #ef4444; }
        .agent-priority.high { background: rgba(249, 115, 22, 0.15); color: #f97316; }
        .agent-priority.medium { background: rgba(234, 179, 8, 0.15); color: #eab308; }
        .agent-priority.low { background: rgba(34, 197, 94, 0.15); color: #22c55e; }

        .agent-card-body { padding: 22px; }
        .agent-description { font-size: 0.95rem; color: var(--text-secondary); line-height: 1.6; margin-bottom: 20px; }

        .agent-flow {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            padding: 18px;
            margin-bottom: 20px;
        }

        .agent-flow-title { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }

        .agent-flow-diagram { display: flex; align-items: center; flex-wrap: wrap; gap: 8px; justify-content: center; }

        .agent-step {
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
            color: white;
            padding: 8px 14px;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 600;
            white-space: nowrap;
        }

        .agent-arrow { color: var(--accent-purple); font-size: 1.2rem; }

        .agent-stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }

        .agent-stat {
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            padding: 12px;
            text-align: center;
        }

        .agent-stat-value {
            font-size: 1.3rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-stat-label { font-size: 0.7rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.05em; margin-top: 4px; }

        /* View Prompt Button */
        .agent-prompt-btn {
            width: 100%;
            margin-top: 18px;
            padding: 14px 20px;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(59, 130, 246, 0.2) 100%);
            border: 1px solid rgba(139, 92, 246, 0.4);
            border-radius: 10px;
            color: var(--accent-purple);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-size: 0.9rem;
        }

        .agent-prompt-btn:hover {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.3) 0%, rgba(59, 130, 246, 0.3) 100%);
            border-color: var(--accent-purple);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.25);
        }

        /* Summary Stats */
        .agent-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 35px;
        }

        .agent-summary-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 14px;
            padding: 25px;
            text-align: center;
        }

        .agent-summary-value {
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-summary-label { font-size: 0.9rem; color: var(--text-muted); margin-top: 8px; }

        /* Heat Map Legend */
        .heat-legend {
            display: flex;
            gap: 25px;
            padding: 18px 22px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .heat-legend-item { display: flex; align-items: center; gap: 10px; font-size: 0.9rem; color: var(--text-secondary); }
        .heat-legend-color { width: 24px; height: 24px; border-radius: 6px; }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(10, 15, 26, 0.9);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            padding: 20px;
            backdrop-filter: blur(5px);
        }

        .modal-overlay.show { display: flex; }

        .modal {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            width: 100%;
            max-width: 950px;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
            box-shadow: 0 25px 80px rgba(0,0,0,0.5);
        }

        .modal-header {
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            padding: 22px 28px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 16px 16px 0 0;
        }

        .modal-header h3 { font-size: 1.25rem; font-weight: 700; }
        .modal-actions { display: flex; gap: 12px; }

        .modal-btn {
            padding: 10px 18px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 700;
            transition: transform 0.2s;
            font-size: 0.9rem;
        }

        .modal-btn:hover { transform: scale(1.05); }
        .modal-btn.copy { background: white; color: var(--accent-blue); }
        .modal-btn.close { background: rgba(255,255,255,0.2); color: white; }

        .modal-body { padding: 28px; overflow-y: auto; flex: 1; }

        .modal-body pre {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            padding: 22px;
            border-radius: 10px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            line-height: 1.7;
            white-space: pre-wrap;
            word-wrap: break-word;
            color: var(--text-secondary);
        }

        .copy-success {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--accent-green);
            color: white;
            padding: 18px 35px;
            border-radius: 10px;
            font-weight: 700;
            z-index: 3000;
            display: none;
            animation: fadeInOut 2s ease;
        }

        @keyframes fadeInOut { 0%, 100% { opacity: 0; } 10%, 90% { opacity: 1; } }

        /* Prompt Modal */
        .prompt-modal .modal { max-width: 800px; }
        .prompt-modal .modal-header { background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%); }

        .prompt-section { margin-bottom: 25px; }
        .prompt-section h4 { color: var(--accent-purple); font-size: 1rem; margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }

        .prompt-box {
            background: rgba(0,0,0,0.4);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            padding: 20px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            line-height: 1.7;
            color: var(--text-secondary);
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .prompt-tags { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 20px; }
        .prompt-tag { background: rgba(139, 92, 246, 0.15); color: var(--accent-purple); padding: 6px 14px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; }

        .copy-prompt-btn {
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            margin-top: 15px;
        }

        .copy-prompt-btn:hover { transform: scale(1.05); box-shadow: 0 5px 20px rgba(139, 92, 246, 0.3); }

        /* Step List */
        .step-list { list-style: none; padding: 0; margin: 18px 0; }
        .step-list li {
            padding: 14px 18px;
            border-left: 3px solid var(--accent-blue);
            background: rgba(0,0,0,0.2);
            margin-bottom: 10px;
            border-radius: 0 8px 8px 0;
            color: var(--text-secondary);
        }
        .step-list li strong { color: var(--text-primary); }

        @media (max-width: 900px) {
            .sidebar { display: none; }
            .main-content { margin-left: 0; padding: 75px 20px 30px 20px; }
            .agent-grid { grid-template-columns: 1fr; }
        }
            .breadcrumb-logo-link { display: flex; align-items: center; padding: 4px 8px; background: rgba(255,255,255,0.08); border-radius: 8px; border: 1px solid rgba(255,255,255,0.12); transition: all 0.2s; }
        .breadcrumb-logo-link:hover { background: rgba(255,255,255,0.15); }
        .breadcrumb-logo { height: 28px; width: auto; }
    </style>
</head>
<body>
    <!-- Breadcrumb -->
    <nav class="breadcrumb">
        <a href="../../index.html" class="breadcrumb-logo-link"><img src="../../images/clear-ai-logo.png" alt="Clear AI" class="breadcrumb-logo"></a>
        <a href="../../index.html">Portal Home</a>
        <span class="separator">></span>
        <a href="./index.html">Byte</a>
        <span class="separator">></span>
        <span class="current">Verbal Verification of Employment (VVOE)</span>
    </nav>

    <!-- Fixed Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <h2>VVOE Process</h2>
            <p>Interactive Workflow Guide</p>
        </div>

        <!-- Tab Switcher -->
        <div class="sidebar-tabs">
            <button class="sidebar-tab active" onclick="switchTab('workflow')">Workflow</button>
            <button class="sidebar-tab agent-tab" onclick="switchTab('agents')">AI Agents</button>
        </div>

        <!-- Workflow Navigation -->
        <nav class="sidebar-nav" id="workflow-nav">
            <a href="#section-1" class="nav-item active">
                <span class="nav-number">1</span>
                <span class="nav-label">Access VVOE Screen</span>
            </a>
            <a href="#section-2" class="nav-item">
                <span class="nav-number">2</span>
                <span class="nav-label">Verify Employment Details</span>
            </a>
            <a href="#section-3" class="nav-item">
                <span class="nav-number">3</span>
                <span class="nav-label">Verification Methods</span>
            </a>
            <a href="#section-4" class="nav-item">
                <span class="nav-number">4</span>
                <span class="nav-label">Secondary Employer</span>
            </a>
            <a href="#section-5" class="nav-item">
                <span class="nav-number">5</span>
                <span class="nav-label">Print & Store</span>
            </a>
            <a href="#section-6" class="nav-item">
                <span class="nav-number">6</span>
                <span class="nav-label">Document Management</span>
            </a>
            <a href="#section-7" class="nav-item">
                <span class="nav-number">7</span>
                <span class="nav-label">Important Dates</span>
            </a>
            <a href="#quick-ref" class="nav-item">
                <span class="nav-number">*</span>
                <span class="nav-label">Quick Reference</span>
            </a>
        </nav>

        <!-- Agent Navigation -->
        <nav class="sidebar-nav" id="agents-nav" style="display: none;">
            <a href="#agent-summary" class="nav-item active">
                <span class="nav-number">S</span>
                <span class="nav-label">Summary</span>
            </a>
            <a href="#agent-heatmap" class="nav-item">
                <span class="nav-number">H</span>
                <span class="nav-label">Heat Map</span>
            </a>
            <a href="#agent-details" class="nav-item">
                <span class="nav-number">A</span>
                <span class="nav-label">Agent Details</span>
            </a>
        </nav>

        <div class="sidebar-footer">
            <button class="doc-btn" onclick="openDocModal()">
                View Workflow Markdown
            </button>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">

        <!-- ==================== WORKFLOW TAB ==================== -->
        <div id="workflow-panel" class="tab-panel active">
            <!-- Header -->
            <div class="header">
                <h1>Verbal Verification of Employment (VVOE)</h1>
                <p class="subtitle">Complete guide for performing employment verification in Byte for non-self-employed borrowers</p>
                <div class="meta">
                    <span class="meta-item">System: Byte LOS</span>
                    <span class="meta-item">Role: Processor</span>
                    <span class="meta-item">Updated: Aug 7, 2025</span>
                    <span class="meta-item">Duration: 5-10 min per borrower</span>
                </div>
            </div>

            <!-- Legend -->
            <div class="legend">
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #22c55e, #16a34a);"></div><span>Start/End</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #3b82f6, #2563eb);"></div><span>Action Step</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #f59e0b, #d97706);"></div><span>Decision Point</span></div>
                <div class="legend-item"><div class="legend-color" style="background: #111827; border: 2px solid #3b82f6;"></div><span>User Input</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #f43f5e, #dc2626);"></div><span>Exception</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #14b8a6, #0d9488);"></div><span>Output</span></div>
            </div>

            <!-- Section 1: Access VVOE Screen -->
            <section id="section-1" class="section">
                <div class="section-header">
                    <div class="section-number">1</div>
                    <div class="section-title"><h2>Access VVOE Screen</h2><span>Navigate to the Verbal Verification of Employment screen in Byte</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node start">Start</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Open Loan File</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Navigate to Verifications</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Select "Verbal Verification of Employment"</div>
                        </div>
                    </div>
                    <div class="info-box">
                        <h4>Screen Navigation Path</h4>
                        <p>The VVOE screen is located under the Verifications menu. Look for "Verbal Verification of Employment" in the dropdown list.</p>
                    </div>
                    <div class="tip-box">
                        <h4>Scope of This Job Aid</h4>
                        <p>This job aid covers <strong>non-self-employed borrowers only</strong>. For self-employed verification, refer to the separate "Verbal Verification - Self Employment" job aid.</p>
                    </div>
                </div>
            </section>

            <!-- Section 2: Verify Employment Details -->
            <section id="section-2" class="section">
                <div class="section-header">
                    <div class="section-number">2</div>
                    <div class="section-title"><h2>Verify Employment Details</h2><span>Confirm borrower and employer information is accurate</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Locate Borrower</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Select Employer</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node decision">Details Correct?</div>
                        </div>
                        <div class="decision-branch">
                            <div class="branch">
                                <span class="branch-label">YES</span>
                                <div class="flow-node output">Proceed to Verification</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">NO</span>
                                <div class="flow-node exception">Update URLA Screen</div>
                            </div>
                        </div>
                    </div>
                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Description</th>
                                <th>Source</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Borrower Name</strong></td>
                                <td>First and Last Name of the borrower</td>
                                <td><span class="badge calculated-badge">Auto-Populated</span> from URLA</td>
                            </tr>
                            <tr>
                                <td><strong>Position/Title</strong></td>
                                <td>Job title at current employer</td>
                                <td><span class="badge calculated-badge">Auto-Populated</span> from URLA</td>
                            </tr>
                            <tr>
                                <td><strong>Employer Name</strong></td>
                                <td>Name of the employing company</td>
                                <td><span class="badge calculated-badge">Auto-Populated</span> from URLA</td>
                            </tr>
                            <tr>
                                <td><strong>Employer Address</strong></td>
                                <td>Full address of employer</td>
                                <td><span class="badge calculated-badge">Auto-Populated</span> from URLA</td>
                            </tr>
                            <tr>
                                <td><strong>Self Employed</strong></td>
                                <td>Indicator if borrower is self-employed</td>
                                <td><span class="badge calculated-badge">Auto-Populated</span> from URLA</td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="info-box">
                        <h4>Auto-Population Source</h4>
                        <p>All employment details auto-populate from the Borrower URLA screen. If any information is incorrect, navigate back to the URLA to make corrections before proceeding.</p>
                    </div>
                </div>
            </section>

            <!-- Section 3: Verification Methods -->
            <section id="section-3" class="section">
                <div class="section-header">
                    <div class="section-number">3</div>
                    <div class="section-title"><h2>Verification Methods</h2><span>Choose and complete the appropriate verification method</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Select Verification Method</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node decision">Which Method?</div>
                        </div>
                        <div class="decision-branch">
                            <div class="branch">
                                <span class="branch-label">Electronic</span>
                                <div class="flow-node action">TRUV/TWN/3rd Party</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">Written</span>
                                <div class="flow-node action">VOE Form</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">Alternative</span>
                                <div class="flow-node action">Paystub/Bank Stmt</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">Telephone</span>
                                <div class="flow-node action">Direct Call</div>
                            </div>
                        </div>
                    </div>

                    <div class="decision-tree">
                        <h3>Method A: Electronic Verification</h3>
                        <p style="color: var(--text-secondary); margin-bottom: 15px;">Use when verifying via TRUV, TWN, or other 3rd party verification reports.</p>
                        <ul class="step-list">
                            <li><strong>Step 1:</strong> Click the checkbox next to "Electronic Verification"</li>
                            <li><strong>Step 2:</strong> Click the checkbox for "Confirm report shows employee as Active"</li>
                            <li><strong>Step 3:</strong> Enter the <strong>Date of Report</strong></li>
                            <li><strong>Step 4:</strong> Enter the <strong>Current As Of Date</strong></li>
                            <li><strong>Step 5:</strong> Proceed to Step 4 (Secondary Employer check)</li>
                        </ul>
                    </div>

                    <div class="decision-tree">
                        <h3>Method B: Written Verification</h3>
                        <p style="color: var(--text-secondary); margin-bottom: 15px;">Use when employer completes verification through written communication or VOE form.</p>
                        <ul class="step-list">
                            <li><strong>Step 1:</strong> Click the checkbox next to "Written Verification"</li>
                            <li><strong>Step 2:</strong> Click the checkbox for "Confirm report shows employee as Active"</li>
                            <li><strong>Step 3:</strong> Enter the <strong>Date of Report</strong></li>
                            <li><strong>Step 4:</strong> Proceed to Step 4 (Secondary Employer check)</li>
                        </ul>
                    </div>

                    <div class="decision-tree">
                        <h3>Method C: Alternative Verification</h3>
                        <p style="color: var(--text-secondary); margin-bottom: 15px;">Use only for Conventional loans with acceptable alternative documentation.</p>
                        <ul class="step-list">
                            <li><strong>Step 1:</strong> Click the checkbox next to "Alternate Verification"</li>
                            <li><strong>Step 2:</strong> Select either <strong>Paystub</strong> or <strong>Bank Statement</strong></li>
                            <li><strong>Step 3:</strong> Enter the <strong>Date of Alternative Documentation</strong></li>
                            <li><strong>Step 4:</strong> Proceed to Step 4 (Secondary Employer check)</li>
                        </ul>
                        <div class="exception-box">
                            <h4>Alternative Verification Restriction</h4>
                            <p><strong>NOTE:</strong> Alternative Documentation can <strong>only</strong> be used for Conventional Loans. Refer to the Verbal Verification of Employment Chart to ensure your loan is eligible for this verification type.</p>
                        </div>
                    </div>

                    <div class="decision-tree">
                        <h3>Method D: Telephone Verification</h3>
                        <p style="color: var(--text-secondary); margin-bottom: 15px;">Use when verifying employment through a verbal/telephone conversation with the employer.</p>
                        <ul class="step-list">
                            <li><strong>Step 1:</strong> Click the checkbox next to "Telephone Verification"</li>
                            <li><strong>Step 2:</strong> Perform a search for the listed <strong>Employer Phone Number</strong></li>
                            <li><strong>Step 3:</strong> Enter the <strong>Source for Phone Number</strong> - must be independently obtained through phone book or internet source</li>
                            <li><strong>Step 4:</strong> Enter the <strong>Employer Contact and Title</strong> - typically HR or Payroll department</li>
                            <li><strong>Step 5:</strong> Enter the <strong>Employment Date From</strong> field (start date)</li>
                            <li><strong>Step 6:</strong> Enter the <strong>Employment To</strong> field or leave blank if still employed</li>
                            <li><strong>Step 7:</strong> Enter the <strong>Probability of Continued Employment</strong> - enter "n/a" or "cannot comment" if unavailable. <strong>Do not leave blank.</strong></li>
                            <li><strong>Step 8:</strong> For teachers/professors/educators: Check appropriate box for months paid (10 Months, 12 Months, or Other: Explain)</li>
                            <li><strong>Step 9:</strong> Check the appropriate box for <strong>Remote Employee</strong> or <strong>Works in Office</strong></li>
                            <li><strong>Step 10:</strong> Proceed to Step 4 (Secondary Employer check)</li>
                        </ul>
                        <div class="exception-box">
                            <h4>Phone Source Documentation Required</h4>
                            <p>The phone number must be independently obtained through a phone book or internet source. You <strong>MUST</strong> print the search results and include them with the VVOE documents in Stored Docs.</p>
                        </div>
                    </div>

                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Telephone Verification Field</th>
                                <th>Description</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Source for Phone Number</strong></td>
                                <td>Website or source used to verify phone number (e.g., yellowpages.com)</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Employer Phone Number</strong></td>
                                <td>Phone number used to contact employer</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Employer Contact and Title</strong></td>
                                <td>Name and title of person providing verification (e.g., "Susie from HR")</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Employment Date From</strong></td>
                                <td>Start date of employment</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Employment To</strong></td>
                                <td>End date (leave blank if still employed)</td>
                                <td><span class="badge optional-badge">Optional</span></td>
                            </tr>
                            <tr>
                                <td><strong>Probability of Continued Employment</strong></td>
                                <td>Enter response or "n/a" / "cannot comment"</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Educator Months Paid</strong></td>
                                <td>10 Months, 12 Months, or Other (with explanation)</td>
                                <td><span class="badge optional-badge">If Applicable</span></td>
                            </tr>
                            <tr>
                                <td><strong>Work Location</strong></td>
                                <td>Remote Employee or Works in Office</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Section 4: Secondary Employer -->
            <section id="section-4" class="section">
                <div class="section-header">
                    <div class="section-number">4</div>
                    <div class="section-title"><h2>Secondary Employer</h2><span>Repeat verification for additional employers if applicable</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node decision">Secondary Employer?</div>
                        </div>
                        <div class="decision-branch">
                            <div class="branch">
                                <span class="branch-label">YES</span>
                                <div class="flow-node action">Repeat Steps 2-3</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">NO</span>
                                <div class="flow-node output">Proceed to Print</div>
                            </div>
                        </div>
                    </div>
                    <div class="info-box">
                        <h4>Multiple Employers</h4>
                        <p>If the borrower has a secondary employer, repeat the verification process (Steps 2-3) for each additional employer before proceeding to the print and store steps.</p>
                    </div>
                </div>
            </section>

            <!-- Section 5: Print & Store -->
            <section id="section-5" class="section">
                <div class="section-header">
                    <div class="section-number">5</div>
                    <div class="section-title"><h2>Print & Store VVOE</h2><span>Print the verification screen to Stored Docs</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Select Borrower</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Click Print Icon</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Select VVOE Updated</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Click Store</div>
                        </div>
                    </div>
                    <ul class="step-list">
                        <li><strong>Step 5a:</strong> At the top right of the screen, select the appropriate borrower from the drop-down list</li>
                        <li><strong>Step 5b:</strong> Click the <strong>Print Icon</strong></li>
                        <li><strong>Step 5c:</strong> Select the box next to "Verbal Verification of Employment Updated"</li>
                        <li><strong>Step 5d:</strong> Click <strong>Store</strong></li>
                        <li><strong>Step 5e:</strong> <strong>Do NOT password protect</strong> the document</li>
                        <li><strong>Step 5f:</strong> Enter a name for the file - this will show as the description in Stored Documents</li>
                    </ul>
                    <div class="tip-box">
                        <h4>Document Naming Best Practice</h4>
                        <p>Use a clear, descriptive name for the file (e.g., "VVOE - John Smith - ABC Company - 08072025") to make it easy to identify in Stored Documents.</p>
                    </div>
                </div>
            </section>

            <!-- Section 6: Document Management -->
            <section id="section-6" class="section">
                <div class="section-header">
                    <div class="section-number">6</div>
                    <div class="section-title"><h2>Document Management</h2><span>Status, categorize, and attach the VVOE document</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Navigate to Stored Docs</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Status Document</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Set Type & Expiration</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Attach to Condition</div>
                        </div>
                    </div>
                    <ul class="step-list">
                        <li><strong>Step 6a:</strong> Navigate to <strong>Stored Documents</strong></li>
                        <li><strong>Step 6b:</strong> Set the document <strong>Status</strong> (e.g., "Approved")</li>
                        <li><strong>Step 6c:</strong> Update the <strong>Type</strong> drop-down to "Verbal Verification of Employment"</li>
                        <li><strong>Step 6d:</strong> Add the appropriate <strong>expiration date</strong> per investor guidelines</li>
                        <li><strong>Step 6e:</strong> Attach to the <strong>VVOE condition</strong></li>
                    </ul>

                    <div class="exception-box">
                        <h4>IMPORTANT: Merge Supporting Documentation</h4>
                        <p>All supporting documentation for the verification method MUST be merged with the Verbal Verification of Employment document:</p>
                        <ul style="margin-top: 10px; margin-left: 20px;">
                            <li><strong>Electronic:</strong> 3rd Party Report (TRUV, TWN, etc.)</li>
                            <li><strong>Written:</strong> VOE Form / Written communication with employer</li>
                            <li><strong>Alternative:</strong> Paystub or Bank Statement</li>
                            <li><strong>Telephone:</strong> Search performed to verify phone number used</li>
                        </ul>
                    </div>

                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Document Field</th>
                                <th>Value</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Status</strong></td>
                                <td>Approved</td>
                                <td>Set after verification complete</td>
                            </tr>
                            <tr>
                                <td><strong>Type</strong></td>
                                <td>Verbal Verification of Employment</td>
                                <td>Select from drop-down</td>
                            </tr>
                            <tr>
                                <td><strong>Category</strong></td>
                                <td>INC</td>
                                <td>Income category</td>
                            </tr>
                            <tr>
                                <td><strong>Expires</strong></td>
                                <td>Per investor guidelines</td>
                                <td>Auto-calculated by Byte based on loan type</td>
                            </tr>
                            <tr>
                                <td><strong>Condition</strong></td>
                                <td>VVOE Condition</td>
                                <td>Attach to appropriate condition</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Section 7: Important Dates -->
            <section id="section-7" class="section">
                <div class="section-header">
                    <div class="section-number">7</div>
                    <div class="section-title"><h2>Important Dates</h2><span>Update the Important Dates screen with VVOE completion date</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Navigate to Important Dates</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Find Verbal VOE Field</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node input">Enter Earliest Date</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Byte Calculates Expiration</div>
                        </div>
                    </div>
                    <ul class="step-list">
                        <li><strong>Step 7a:</strong> Repeat Steps 5-6 for all additional borrowers</li>
                        <li><strong>Step 7b:</strong> Navigate to the <strong>Important Dates</strong> screen</li>
                        <li><strong>Step 7c:</strong> Locate the <strong>Verbal VOE</strong> field at the bottom of the screen in the "Expiration Dates - Processing Section"</li>
                        <li><strong>Step 7d:</strong> Enter the date of the <strong>earliest completed</strong> Verbal VOE</li>
                        <li><strong>Step 7e:</strong> Byte will automatically calculate the expiration date based on loan type</li>
                    </ul>

                    <div class="info-box">
                        <h4>Multiple Borrower Example</h4>
                        <p>When there are multiple borrowers with different VVOE completion dates, always enter the <strong>earliest date</strong>:</p>
                        <ul style="margin-top: 10px; margin-left: 20px;">
                            <li>Andy America VVOE completed: 8/6/2025</li>
                            <li>Amy America VVOE completed: 8/7/2025</li>
                            <li><strong>Date to enter on Important Dates:</strong> 8/6/2025 (earliest date, as it will expire first)</li>
                        </ul>
                    </div>

                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Description</th>
                                <th>Auto-Calculated</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Verbal VOE</strong></td>
                                <td>Date of earliest completed VVOE</td>
                                <td><span class="badge required-badge">Manual Entry</span></td>
                            </tr>
                            <tr>
                                <td><strong>Verbal VOE Exp</strong></td>
                                <td>Expiration date based on loan type</td>
                                <td><span class="badge calculated-badge">Auto-Calculated</span></td>
                            </tr>
                            <tr>
                                <td><strong>Days Until Expiration</strong></td>
                                <td>Number of days until VVOE expires</td>
                                <td><span class="badge calculated-badge">Auto-Calculated</span></td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="tip-box">
                        <h4>Refer to Investor Guidelines</h4>
                        <p>Refer to the <strong>Verbal Verification of Employment Chart</strong> for acceptable verification methods and timing requirements per investor. Expiration timelines vary by loan type and investor.</p>
                    </div>
                </div>
            </section>

            <!-- Quick Reference -->
            <div id="quick-ref" class="quick-ref">
                <h3>VVOE Quick Reference</h3>
                <pre>
VVOE VERIFICATION METHOD SUMMARY
================================

METHOD          | WHEN TO USE                           | KEY REQUIREMENTS
----------------|---------------------------------------|----------------------------------
Electronic      | TRUV, TWN, 3rd party reports          | Report date, Current As Of date
Written         | Employer completes VOE form           | Report date, Active confirmation
Alternative     | Conventional loans ONLY               | Paystub OR Bank Statement
Telephone       | Direct call to employer               | Independent phone source, Contact info

TELEPHONE VERIFICATION CHECKLIST
================================
[ ] Checkbox: Telephone Verification
[ ] Source for Phone Number (independent source - print results!)
[ ] Employer Phone Number
[ ] Employer Contact and Title (HR/Payroll)
[ ] Employment Date From
[ ] Employment To (or leave blank if current)
[ ] Probability of Continued Employment (never leave blank!)
[ ] Educator: 10/12 Months or Other (if applicable)
[ ] Remote Employee OR Works in Office

DOCUMENT STORAGE REQUIREMENTS
=============================
1. Print VVOE screen to Stored Docs
2. Do NOT password protect
3. Set Type: Verbal Verification of Employment
4. Set Status: Approved
5. Add expiration date per investor guidelines
6. MERGE supporting docs with VVOE:
   - Electronic: 3rd party report
   - Written: VOE form/employer communication
   - Alternative: Paystub or bank statement
   - Telephone: Phone number search printout
7. Attach to VVOE condition

IMPORTANT DATES ENTRY
=====================
- Navigate to Important Dates screen
- Enter EARLIEST completed VVOE date
- Byte auto-calculates expiration based on loan type
- Check: WVOE Not Required for Income Type (if applicable)

RELATED RESOURCES
=================
- Verbal Verification of Employment Chart
- Verbal Verification - Self Employment (separate job aid)
- Investor-specific guidelines for timing requirements
                </pre>
            </div>
        </div>

        <!-- ==================== AI AGENTS TAB ==================== -->
        <div id="agents-panel" class="tab-panel">
            <!-- Agent Header -->
            <div class="agent-header">
                <h1>AI Agent Opportunities</h1>
                <p class="subtitle">Automation opportunities identified for the VVOE process</p>
            </div>

            <!-- Summary Stats -->
            <div class="agent-summary" id="agent-summary">
                <div class="agent-summary-card">
                    <div class="agent-summary-value">4</div>
                    <div class="agent-summary-label">Agent Opportunities</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">72%</div>
                    <div class="agent-summary-label">Automation Potential</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">8 min</div>
                    <div class="agent-summary-label">Est. Time Saved</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">High</div>
                    <div class="agent-summary-label">Compliance Impact</div>
                </div>
            </div>

            <!-- Heat Map Legend -->
            <div class="heat-legend">
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(90deg, #ef4444, #f97316);"></div>
                    <span>Critical Priority (9-10)</span>
                </div>
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(90deg, #f97316, #eab308);"></div>
                    <span>High Priority (7-8)</span>
                </div>
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(90deg, #eab308, #22c55e);"></div>
                    <span>Medium Priority (5-6)</span>
                </div>
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(90deg, #22c55e, #14b8a6);"></div>
                    <span>Low Priority (1-4)</span>
                </div>
            </div>

            <!-- Heat Map Grid -->
            <div class="heat-map-container" id="agent-heatmap">
                <div class="heat-map-title">Priority Heat Map</div>
                <div class="heat-map-grid">
                    <div class="heat-item critical" onclick="scrollToAgent('agent-autoverify')">
                        <div class="heat-score">9.2</div>
                        <div class="heat-name">Auto-Verify Agent</div>
                        <div class="heat-desc">Automate electronic verification via TRUV/TWN APIs</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Time: <span>5 min</span></div>
                            <div class="heat-metric">Complexity: <span>Medium</span></div>
                        </div>
                    </div>
                    <div class="heat-item high" onclick="scrollToAgent('agent-phonelookup')">
                        <div class="heat-score">8.1</div>
                        <div class="heat-name">Phone Lookup Agent</div>
                        <div class="heat-desc">Auto-search and validate employer phone numbers</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Time: <span>2 min</span></div>
                            <div class="heat-metric">Complexity: <span>Low</span></div>
                        </div>
                    </div>
                    <div class="heat-item high" onclick="scrollToAgent('agent-expiration')">
                        <div class="heat-score">7.5</div>
                        <div class="heat-name">Expiration Monitor</div>
                        <div class="heat-desc">Alert processors before VVOE documents expire</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Time: <span>N/A</span></div>
                            <div class="heat-metric">Complexity: <span>Low</span></div>
                        </div>
                    </div>
                    <div class="heat-item medium" onclick="scrollToAgent('agent-docmerge')">
                        <div class="heat-score">6.3</div>
                        <div class="heat-name">Doc Merge Agent</div>
                        <div class="heat-desc">Auto-merge supporting docs with VVOE</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Time: <span>1 min</span></div>
                            <div class="heat-metric">Complexity: <span>Low</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Agent Details -->
            <div id="agent-details">
                <h2 style="color: var(--text-primary); margin-bottom: 25px; font-size: 1.5rem;">Agent Details</h2>
                <div class="agent-grid">
                    <!-- Auto-Verify Agent -->
                    <div class="agent-card" id="agent-autoverify">
                        <div class="agent-card-header">
                            <div class="agent-icon">V</div>
                            <div class="agent-info">
                                <div class="agent-name">Auto-Verify Agent</div>
                                <div class="agent-type">Data Integration / API</div>
                            </div>
                            <span class="agent-priority critical">Critical</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">Automatically triggers and retrieves employment verification from TRUV, TWN, or other 3rd party providers. Parses response to populate Byte fields and confirms active employment status without manual intervention.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Flow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">Borrower Selected</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">API Request</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Parse Response</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Populate Byte</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">5 min</div>
                                    <div class="agent-stat-label">Time Saved</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">95%</div>
                                    <div class="agent-stat-label">Accuracy</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">Med</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('autoverify')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>

                    <!-- Phone Lookup Agent -->
                    <div class="agent-card" id="agent-phonelookup">
                        <div class="agent-card-header">
                            <div class="agent-icon">P</div>
                            <div class="agent-info">
                                <div class="agent-name">Phone Lookup Agent</div>
                                <div class="agent-type">Data Validation / Web Scrape</div>
                            </div>
                            <span class="agent-priority high">High</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">Automatically searches for employer phone numbers using public directories (Yellow Pages, Google Business, etc.), validates the number, captures screenshot/source documentation, and pre-fills the Source for Phone Number field.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Flow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">Employer Name</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Search APIs</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Validate</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Capture Proof</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">2 min</div>
                                    <div class="agent-stat-label">Time Saved</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">90%</div>
                                    <div class="agent-stat-label">Accuracy</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">Low</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('phonelookup')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>

                    <!-- Expiration Monitor Agent -->
                    <div class="agent-card" id="agent-expiration">
                        <div class="agent-card-header">
                            <div class="agent-icon">E</div>
                            <div class="agent-info">
                                <div class="agent-name">Expiration Monitor</div>
                                <div class="agent-type">Monitoring / Alerts</div>
                            </div>
                            <span class="agent-priority high">High</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">Monitors VVOE expiration dates across all active loans and sends proactive alerts to processors when documents are approaching expiration, preventing last-minute scrambles and potential closing delays.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Flow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">Scan Dates</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Check Threshold</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Send Alert</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Track Action</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">N/A</div>
                                    <div class="agent-stat-label">Time Saved</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">99%</div>
                                    <div class="agent-stat-label">Accuracy</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">Low</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('expiration')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>

                    <!-- Doc Merge Agent -->
                    <div class="agent-card" id="agent-docmerge">
                        <div class="agent-card-header">
                            <div class="agent-icon">M</div>
                            <div class="agent-info">
                                <div class="agent-name">Doc Merge Agent</div>
                                <div class="agent-type">Document Processing</div>
                            </div>
                            <span class="agent-priority medium">Medium</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">Automatically identifies and merges supporting documentation (3rd party reports, VOE forms, phone search printouts) with the VVOE document in Stored Docs, ensuring compliance with documentation requirements.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Flow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">Identify Docs</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Match Method</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Merge PDF</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Update Status</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">1 min</div>
                                    <div class="agent-stat-label">Time Saved</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">98%</div>
                                    <div class="agent-stat-label">Accuracy</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">Low</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('docmerge')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Documentation Modal -->
    <div class="modal-overlay" id="docModal">
        <div class="modal">
            <div class="modal-header">
                <h3>VVOE Workflow Documentation</h3>
                <div class="modal-actions">
                    <button class="modal-btn copy" onclick="copyToClipboard()">Copy</button>
                    <button class="modal-btn close" onclick="closeDocModal()">Close</button>
                </div>
            </div>
            <div class="modal-body">
                <pre id="docContent"># Verbal Verification of Employment (VVOE) - Byte LOS

## Overview
Qualifying income from employment and/or self-employment requires a Verbal Verification of Employment (VVOE) to be performed by the Processor prior to closing. This job aid covers non-self-employed borrowers.

## Verification Methods

### 1. Electronic Verification
- Use for TRUV, TWN, or other 3rd party reports
- Required fields: Date of Report, Current As Of Date
- Confirm employee shows as "Active"

### 2. Written Verification
- Use when employer completes VOE form
- Required fields: Date of Report
- Confirm employee shows as "Active"

### 3. Alternative Verification (Conventional Only)
- Paystub or Bank Statement
- Date of Alternative Documentation required

### 4. Telephone Verification
- Direct call to employer (HR/Payroll)
- Phone number must be independently verified
- Print search results as documentation

## Document Storage
- Type: Verbal Verification of Employment
- Merge all supporting docs with VVOE
- Set expiration per investor guidelines
- Attach to VVOE condition

## Important Dates
- Enter earliest VVOE date across all borrowers
- Byte auto-calculates expiration based on loan type</pre>
            </div>
        </div>
    </div>

    <!-- AI Prompt Modal -->
    <div class="modal-overlay prompt-modal" id="promptModal">
        <div class="modal">
            <div class="modal-header">
                <h3 id="promptModalTitle">AI Agent Build Prompt</h3>
                <div class="modal-actions">
                    <button class="modal-btn copy" onclick="copyPromptToClipboard()">Copy Prompt</button>
                    <button class="modal-btn close" onclick="closePromptModal()">Close</button>
                </div>
            </div>
            <div class="modal-body">
                <div class="prompt-tags" id="promptTags"></div>
                <div class="prompt-section">
                    <h4>Agent Purpose</h4>
                    <div class="prompt-box" id="promptPurpose"></div>
                </div>
                <div class="prompt-section">
                    <h4>Full Build Prompt</h4>
                    <div class="prompt-box" id="promptContent"></div>
                </div>
                <div class="prompt-section">
                    <h4>Integration Points</h4>
                    <div class="prompt-box" id="promptIntegration"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="copy-success" id="copySuccess">Copied to clipboard!</div>

    <script>
        // Tab switching
        function switchTab(tab) {
            document.querySelectorAll('.sidebar-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));

            if (tab === 'workflow') {
                document.querySelector('.sidebar-tab:not(.agent-tab)').classList.add('active');
                document.getElementById('workflow-panel').classList.add('active');
                document.getElementById('workflow-nav').style.display = 'block';
                document.getElementById('agents-nav').style.display = 'none';
            } else {
                document.querySelector('.sidebar-tab.agent-tab').classList.add('active');
                document.getElementById('agents-panel').classList.add('active');
                document.getElementById('workflow-nav').style.display = 'none';
                document.getElementById('agents-nav').style.display = 'block';
            }

            window.scrollTo(0, 0);
        }

        // Scroll spy with isScrolling flag and 1000ms timeout
        const sections = document.querySelectorAll('.section, .quick-ref');
        const navItems = document.querySelectorAll('#workflow-nav .nav-item');
        let isScrolling = false;
        let scrollTimeout;

        function updateActiveNav() {
            if (isScrolling) return;

            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100;
                if (window.scrollY >= sectionTop) current = section.getAttribute('id');
            });
            navItems.forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('href') === '#' + current) item.classList.add('active');
            });
        }

        // Handle nav click to temporarily disable scroll spy
        navItems.forEach(item => {
            item.addEventListener('click', function(e) {
                isScrolling = true;
                clearTimeout(scrollTimeout);

                // Remove active from all, add to clicked
                navItems.forEach(nav => nav.classList.remove('active'));
                this.classList.add('active');

                // Re-enable scroll spy after 1000ms
                scrollTimeout = setTimeout(() => {
                    isScrolling = false;
                }, 1000);
            });
        });

        window.addEventListener('scroll', updateActiveNav);

        // Modal
        function openDocModal() {
            document.getElementById('docModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closeDocModal() {
            document.getElementById('docModal').classList.remove('show');
            document.body.style.overflow = '';
        }

        async function copyToClipboard() {
            try {
                await navigator.clipboard.writeText(document.getElementById('docContent').textContent);
                const success = document.getElementById('copySuccess');
                success.style.display = 'block';
                setTimeout(() => { success.style.display = 'none'; }, 2000);
            } catch (e) { alert('Failed to copy.'); }
        }

        document.addEventListener('keydown', (e) => { if (e.key === 'Escape') { closeDocModal(); closePromptModal(); } });
        document.getElementById('docModal').addEventListener('click', (e) => { if (e.target.id === 'docModal') closeDocModal(); });

        document.addEventListener('DOMContentLoaded', () => { updateActiveNav(); });

        // Scroll to agent card and highlight
        function scrollToAgent(agentId) {
            const agentCard = document.getElementById(agentId);
            if (agentCard) {
                document.querySelectorAll('.agent-card.highlight').forEach(card => {
                    card.classList.remove('highlight');
                });

                agentCard.scrollIntoView({ behavior: 'smooth', block: 'center' });

                setTimeout(() => {
                    agentCard.classList.add('highlight');
                }, 300);

                setTimeout(() => {
                    agentCard.classList.remove('highlight');
                }, 2500);
            }
        }

        // Agent Prompt System
        const agentPrompts = {
            autoverify: {
                name: 'Auto-Verify Agent',
                tags: ['Data Integration', 'API', 'Medium Complexity', 'Critical Priority'],
                purpose: `This agent automatically triggers and retrieves employment verification from TRUV, TWN, or other 3rd party providers. It parses the response to populate Byte fields and confirms active employment status without manual intervention, reducing verification time from 5+ minutes to seconds.`,
                prompt: `You are building a Data Integration Agent for CMG Financial's Byte LOS VVOE process.

AGENT NAME: Auto-Verify Agent
TYPE: Data Integration / API Automation

OBJECTIVE:
Create an agent that automatically requests and processes electronic employment verifications through TRUV, TWN, or other 3rd party providers when a processor initiates a VVOE.

INPUT DATA:
- Borrower SSN (from loan file)
- Borrower Name
- Employer Name
- Employer EIN (if available)

API INTEGRATION:
1. TRUV API
   - Endpoint: /employment/verify
   - Auth: OAuth 2.0
   - Request payload: { ssn, employer_name, consent_token }

2. TWN (The Work Number) API
   - Endpoint: /verification/employment
   - Auth: API Key + Secret
   - Request payload: { ssn, employer_code }

RESPONSE PARSING:
{
  "status": "ACTIVE" | "TERMINATED" | "NOT_FOUND",
  "employer_name": "string",
  "position_title": "string",
  "start_date": "YYYY-MM-DD",
  "end_date": "YYYY-MM-DD | null",
  "report_date": "YYYY-MM-DD",
  "current_as_of": "YYYY-MM-DD"
}

BYTE FIELD MAPPING:
- Electronic Verification checkbox: TRUE
- Confirm Active checkbox: TRUE (if status = ACTIVE)
- Date of Report: response.report_date
- Current As Of Date: response.current_as_of

ERROR HANDLING:
- If employer not found: Flag for manual telephone verification
- If API timeout: Retry 3x with exponential backoff
- If borrower not found: Alert processor, suggest alternative methods`,
                integration: `INTEGRATION POINTS:
1. Byte LOS API
   - Write to VVOE screen fields
   - Update verification status
   - Store 3rd party report in Stored Docs

2. Vendor APIs
   - TRUV, TWN, Equifax Workforce Solutions
   - Handle OAuth token refresh
   - Store credentials securely

3. Document Storage
   - Auto-attach verification report to VVOE
   - Set document type and expiration

DEPLOYMENT:
- Triggered on VVOE screen load
- Background processing with status indicator
- Fallback to manual entry on failure`
            },
            phonelookup: {
                name: 'Phone Lookup Agent',
                tags: ['Data Validation', 'Web Search', 'Low Complexity', 'High Priority'],
                purpose: `This agent automatically searches for employer phone numbers using public directories and business databases, validates the number format, captures source documentation as proof, and pre-fills the telephone verification fields in Byte.`,
                prompt: `You are building a Data Validation Agent for CMG Financial's Byte LOS VVOE process.

AGENT NAME: Phone Lookup Agent
TYPE: Data Validation / Web Search

OBJECTIVE:
Automatically search for and validate employer phone numbers from independent sources, capturing proof documentation for compliance.

INPUT DATA:
- Employer Name
- Employer Address (City, State, Zip)
- Industry (if available)

SEARCH SOURCES (in priority order):
1. Google Places API
2. Yellow Pages API
3. Yelp Fusion API
4. Better Business Bureau
5. State business registry

SEARCH LOGIC:
1. Query employer name + city + state
2. Validate address match (fuzzy match OK)
3. Extract phone number(s)
4. Validate phone format: (XXX) XXX-XXXX
5. Check if number is toll-free or direct

OUTPUT:
{
  "phone_number": "(555) 123-4567",
  "source": "yellowpages.com",
  "source_url": "https://...",
  "confidence": 0.95,
  "screenshot_path": "/docs/phone_search_proof.png",
  "validation": {
    "format_valid": true,
    "toll_free": false,
    "business_match": true
  }
}

BYTE FIELD MAPPING:
- Source for Phone Number: response.source
- Employer Phone Number: response.phone_number

SCREENSHOT CAPTURE:
- Capture full page of search result
- Highlight matched business listing
- Include timestamp in screenshot
- Save as PDF for Stored Docs`,
                integration: `INTEGRATION POINTS:
1. Search APIs
   - Google Places API key
   - Yellow Pages partner access
   - Rate limiting: 100 requests/minute

2. Screenshot Service
   - Puppeteer/Playwright for capture
   - Highlight injection script
   - PDF conversion

3. Byte LOS
   - Pre-fill phone fields
   - Attach screenshot to Stored Docs
   - Link to VVOE record

4. Caching
   - Cache employer lookups for 30 days
   - Invalidate on address change`
            },
            expiration: {
                name: 'Expiration Monitor Agent',
                tags: ['Monitoring', 'Alerts', 'Low Complexity', 'High Priority'],
                purpose: `This agent continuously monitors VVOE expiration dates across all active loans and sends proactive alerts to processors when documents are approaching expiration, preventing last-minute scrambles and potential closing delays.`,
                prompt: `You are building a Monitoring Agent for CMG Financial's Byte LOS VVOE process.

AGENT NAME: VVOE Expiration Monitor
TYPE: Monitoring / Push Notifications

OBJECTIVE:
Monitor all active loans for VVOE expiration dates and alert processors before documents expire, ensuring timely re-verification.

MONITORING LOGIC:
1. Scan Important Dates screen for Verbal VOE Exp field
2. Calculate days until expiration
3. Trigger alerts based on thresholds

ALERT THRESHOLDS:
- 10 days: INFO alert to processor
- 5 days: WARNING alert to processor + supervisor
- 2 days: URGENT alert to processor + supervisor + manager
- 0 days: CRITICAL - document expired

ALERT CHANNELS:
- Email notification
- Byte dashboard notification
- SMS (for CRITICAL only)
- Microsoft Teams webhook

ALERT MESSAGE FORMAT:
{
  "loan_number": "2026-001234",
  "borrower_name": "John Smith",
  "vvoe_date": "2026-01-15",
  "expiration_date": "2026-01-25",
  "days_remaining": 5,
  "processor": "Jane Doe",
  "alert_level": "WARNING",
  "action_required": "Re-verify employment before 01/25/2026"
}

BATCH PROCESSING:
- Run daily at 6:00 AM local time
- Process all loans in "Processing" status
- Group alerts by processor for digest email

ESCALATION RULES:
- If no action after WARNING: Escalate to supervisor
- If no action after URGENT: Escalate to manager
- Track alert acknowledgment timestamps`,
                integration: `INTEGRATION POINTS:
1. Byte LOS Database
   - Query Important Dates screen
   - Filter by loan status (active/processing)
   - Join with processor assignments

2. Notification Services
   - SendGrid for email
   - Twilio for SMS
   - MS Teams webhooks

3. Tracking Database
   - Log all alerts sent
   - Track acknowledgments
   - Generate compliance reports

4. Dashboard
   - Pipeline view with expiration status
   - Color-coded urgency indicators
   - One-click re-verification initiation`
            },
            docmerge: {
                name: 'Doc Merge Agent',
                tags: ['Document Processing', 'PDF Manipulation', 'Low Complexity', 'Medium Priority'],
                purpose: `This agent automatically identifies supporting documentation based on the verification method used and merges it with the VVOE document in Stored Docs, ensuring complete and compliant documentation packages.`,
                prompt: `You are building a Document Processing Agent for CMG Financial's Byte LOS VVOE process.

AGENT NAME: VVOE Doc Merge Agent
TYPE: Document Processing / PDF Manipulation

OBJECTIVE:
Automatically identify and merge supporting documentation with the VVOE document based on the verification method selected.

DOCUMENT MATCHING RULES:

1. Electronic Verification:
   - Search for: 3rd party report (TRUV, TWN)
   - Document types: "Employment Verification", "VOE Report"
   - Date range: Within 30 days of VVOE date

2. Written Verification:
   - Search for: VOE form, employer letter
   - Document types: "VOE Form", "Employer Correspondence"
   - Must contain employer signature/stamp

3. Alternative Verification:
   - Search for: Recent paystub OR bank statement
   - Document types: "Paystub", "Bank Statement"
   - Date range: Within 30 days

4. Telephone Verification:
   - Search for: Phone search screenshot/printout
   - Document types: "Phone Verification", "Supporting Doc"
   - Must show source (yellowpages, google, etc.)

MERGE PROCESS:
1. Identify VVOE document in Stored Docs
2. Query for matching supporting docs
3. Order: VVOE first, then supporting docs
4. Merge into single PDF
5. Update original VVOE document
6. Archive individual source docs

PDF OPERATIONS:
- Use PyPDF2 or pdf-lib for merging
- Maintain original quality
- Add page numbers to merged doc
- Create bookmarks for each section

OUTPUT:
{
  "merged_doc_id": "VVOE-MERGED-001",
  "page_count": 5,
  "components": [
    { "type": "VVOE", "pages": "1-2" },
    { "type": "3rd Party Report", "pages": "3-5" }
  ],
  "stored_docs_id": "SD-12345"
}`,
                integration: `INTEGRATION POINTS:
1. Byte Stored Documents
   - Query by document type
   - Filter by borrower/loan
   - Update merged document

2. PDF Processing
   - PyPDF2 for Python
   - pdf-lib for Node.js
   - Cloud Functions for processing

3. Document Classification
   - Use document type field
   - Fallback to filename pattern matching
   - ML classification for edge cases

4. Audit Trail
   - Log all merge operations
   - Track source documents
   - Enable un-merge if needed`
            }
        };

        // Show agent prompt modal
        let currentPromptContent = '';

        function showAgentPrompt(agentKey) {
            const agent = agentPrompts[agentKey];
            if (!agent) return;

            document.getElementById('promptModalTitle').textContent = agent.name + ' - Build Prompt';

            const tagsHtml = agent.tags.map(tag => '<span class="prompt-tag">' + tag + '</span>').join('');
            document.getElementById('promptTags').innerHTML = tagsHtml;

            document.getElementById('promptPurpose').textContent = agent.purpose;
            document.getElementById('promptContent').textContent = agent.prompt;
            document.getElementById('promptIntegration').textContent = agent.integration;

            currentPromptContent = '# ' + agent.name + '\n\n## Purpose\n' + agent.purpose + '\n\n## Build Prompt\n' + agent.prompt + '\n\n## Integration Points\n' + agent.integration;

            document.getElementById('promptModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closePromptModal() {
            document.getElementById('promptModal').classList.remove('show');
            document.body.style.overflow = '';
        }

        async function copyPromptToClipboard() {
            try {
                await navigator.clipboard.writeText(currentPromptContent);
                const success = document.getElementById('copySuccess');
                success.style.display = 'block';
                setTimeout(() => { success.style.display = 'none'; }, 2000);
            } catch (e) {
                alert('Failed to copy prompt.');
            }
        }

        document.getElementById('promptModal').addEventListener('click', (e) => {
            if (e.target.id === 'promptModal') closePromptModal();
        });
    </script>
</body>
</html>
