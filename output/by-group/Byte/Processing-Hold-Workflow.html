<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Byte Processing Hold - Process Workflow</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0f1a;
            --bg-secondary: #111827;
            --bg-card: #1a2234;
            --accent-blue: #3b82f6;
            --accent-teal: #14b8a6;
            --accent-amber: #f59e0b;
            --accent-rose: #f43f5e;
            --accent-green: #22c55e;
            --accent-purple: #8b5cf6;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --border-subtle: rgba(255,255,255,0.08);
            --sidebar-width: 280px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
        }

        /* Breadcrumb */
        .breadcrumb {
            background: linear-gradient(90deg, #0d1525 0%, #1a2234 100%);
            padding: 14px 25px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 0.95rem;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1001;
            border-bottom: 1px solid var(--border-subtle);
        }

        .breadcrumb a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 600;
            padding: 8px 16px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
            transition: all 0.2s;
            border: 1px solid var(--border-subtle);
        }

        .breadcrumb a:hover {
            background: rgba(59, 130, 246, 0.15);
            color: var(--accent-blue);
            border-color: rgba(59, 130, 246, 0.3);
        }

        .breadcrumb .separator { color: var(--text-muted); font-size: 1.2rem; }
        .breadcrumb .current { color: var(--accent-amber); font-weight: 600; padding: 8px 16px; }

        /* Sidebar */
        .sidebar {
            position: fixed;
            top: 54px;
            left: 0;
            width: var(--sidebar-width);
            height: calc(100vh - 54px);
            background: var(--bg-secondary);
            overflow-y: auto;
            z-index: 1000;
            border-right: 1px solid var(--border-subtle);
            display: flex;
            flex-direction: column;
        }

        .sidebar-header {
            padding: 25px 20px;
            background: rgba(0,0,0,0.3);
            border-bottom: 1px solid var(--border-subtle);
        }

        .sidebar-header h2 { color: var(--text-primary); font-size: 1.2rem; font-weight: 700; margin-bottom: 5px; }
        .sidebar-header p { color: var(--text-muted); font-size: 0.85rem; }

        /* Tab Switch */
        .sidebar-tabs {
            display: flex;
            border-bottom: 1px solid var(--border-subtle);
        }

        .sidebar-tab {
            flex: 1;
            padding: 14px 10px;
            text-align: center;
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--text-muted);
            cursor: pointer;
            transition: all 0.2s;
            border-bottom: 3px solid transparent;
            background: none;
            border-left: none;
            border-right: none;
            border-top: none;
        }

        .sidebar-tab:hover { background: rgba(255,255,255,0.03); color: var(--text-secondary); }
        .sidebar-tab.active { color: var(--accent-blue); border-bottom-color: var(--accent-blue); background: rgba(59, 130, 246, 0.08); }
        .sidebar-tab.agent-tab.active { color: var(--accent-purple); border-bottom-color: var(--accent-purple); background: rgba(139, 92, 246, 0.08); }

        .sidebar-nav { padding: 15px 0; flex: 1; overflow-y: auto; }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 20px;
            color: var(--text-secondary);
            text-decoration: none;
            border-left: 3px solid transparent;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .nav-item:hover { background: rgba(255,255,255,0.03); color: var(--text-primary); }
        .nav-item.active { background: rgba(59, 130, 246, 0.1); border-left-color: var(--accent-blue); color: var(--text-primary); }

        .nav-number {
            background: rgba(255,255,255,0.1);
            color: var(--text-secondary);
            width: 28px;
            height: 28px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.85rem;
            flex-shrink: 0;
        }

        .nav-item.active .nav-number { background: var(--accent-blue); color: white; }
        .nav-label { font-size: 0.95rem; font-weight: 500; }

        .sidebar-footer {
            padding: 20px;
            border-top: 1px solid var(--border-subtle);
            background: rgba(0,0,0,0.2);
        }

        .doc-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
            padding: 14px 20px;
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            text-decoration: none;
            font-size: 0.95rem;
        }

        .doc-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3); }

        /* Main Content */
        .main-content { margin-left: var(--sidebar-width); padding: 80px 40px 40px 40px; }

        /* Tab Panels */
        .tab-panel { display: none; }
        .tab-panel.active { display: block; }

        .header {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            padding: 35px;
            border-radius: 16px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background:
                radial-gradient(ellipse at 20% 20%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(20, 184, 166, 0.08) 0%, transparent 50%);
            pointer-events: none;
        }

        .header h1 {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 10px;
            position: relative;
            background: linear-gradient(135deg, var(--text-primary) 0%, var(--accent-blue) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header .subtitle { color: var(--text-secondary); font-size: 1.1rem; position: relative; }

        .header .meta { display: flex; gap: 15px; margin-top: 20px; flex-wrap: wrap; position: relative; }

        .header .meta-item {
            background: rgba(255,255,255,0.05);
            border: 1px solid var(--border-subtle);
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Legend */
        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            padding: 18px 22px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            margin-bottom: 25px;
        }

        .legend-item { display: flex; align-items: center; gap: 8px; font-size: 0.85rem; color: var(--text-secondary); }
        .legend-color { width: 18px; height: 18px; border-radius: 4px; }

        /* Sections */
        .section {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            margin-bottom: 25px;
            overflow: hidden;
            scroll-margin-top: 75px;
        }

        .section-header {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, rgba(59, 130, 246, 0.1) 100%);
            border-bottom: 1px solid var(--border-subtle);
            padding: 22px 25px;
            display: flex;
            align-items: center;
            gap: 18px;
        }

        .section-number {
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 1.3rem;
            flex-shrink: 0;
        }

        .section-title h2 { font-size: 1.35rem; font-weight: 700; margin-bottom: 4px; color: var(--text-primary); }
        .section-title span { font-size: 0.9rem; color: var(--text-muted); }
        .section-content { padding: 28px; }

        /* Workflow Diagrams */
        .workflow-diagram {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 28px;
            margin-bottom: 22px;
        }

        .flow-row { display: flex; align-items: center; justify-content: center; flex-wrap: wrap; gap: 12px; margin: 15px 0; }

        .flow-node {
            padding: 14px 22px;
            border-radius: 10px;
            text-align: center;
            font-size: 0.9rem;
            font-weight: 600;
            min-width: 150px;
            border: 1px solid var(--border-subtle);
        }

        .flow-node.start { background: linear-gradient(135deg, var(--accent-green) 0%, #16a34a 100%); color: white; border-radius: 25px; border: none; }
        .flow-node.action { background: linear-gradient(135deg, var(--accent-blue) 0%, #2563eb 100%); color: white; border: none; }
        .flow-node.decision { background: linear-gradient(135deg, var(--accent-amber) 0%, #d97706 100%); color: var(--bg-primary); border: none; }
        .flow-node.input { background: var(--bg-secondary); border: 2px solid var(--accent-blue); color: var(--text-primary); }
        .flow-node.output { background: linear-gradient(135deg, var(--accent-teal) 0%, #0d9488 100%); color: white; border: none; }
        .flow-node.exception { background: linear-gradient(135deg, var(--accent-rose) 0%, #dc2626 100%); color: white; border: none; }

        .flow-arrow { color: var(--accent-blue); font-size: 1.5rem; }
        .flow-arrow.down { transform: rotate(90deg); }

        .decision-branch { display: flex; gap: 40px; justify-content: center; margin: 20px 0; flex-wrap: wrap; }
        .branch { display: flex; flex-direction: column; align-items: center; gap: 10px; }

        .branch-label {
            background: var(--bg-secondary);
            border: 1px solid var(--border-subtle);
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--text-secondary);
        }

        /* Tables */
        .field-table { width: 100%; border-collapse: collapse; margin: 18px 0; }

        .field-table th {
            background: rgba(59, 130, 246, 0.15);
            color: var(--accent-blue);
            padding: 14px 18px;
            text-align: left;
            font-weight: 600;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            border-bottom: 1px solid var(--border-subtle);
        }

        .field-table td { padding: 14px 18px; border-bottom: 1px solid var(--border-subtle); color: var(--text-secondary); }
        .field-table tr:hover { background: rgba(255,255,255,0.02); }

        .badge { display: inline-block; padding: 4px 12px; border-radius: 6px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; }
        .badge.required-badge { background: rgba(244, 63, 94, 0.15); color: var(--accent-rose); }
        .badge.optional-badge { background: rgba(34, 197, 94, 0.15); color: var(--accent-green); }
        .badge.calculated-badge { background: rgba(59, 130, 246, 0.15); color: var(--accent-blue); }

        /* Info Boxes */
        .exception-box, .tip-box, .info-box {
            padding: 18px 22px;
            margin: 18px 0;
            border-radius: 0 10px 10px 0;
            border-left-width: 4px;
            border-left-style: solid;
        }

        .exception-box { background: rgba(244, 63, 94, 0.08); border-color: var(--accent-rose); border: 1px solid rgba(244, 63, 94, 0.2); border-left: 4px solid var(--accent-rose); }
        .exception-box h4 { color: var(--accent-rose); margin-bottom: 10px; font-size: 1rem; }
        .exception-box p, .exception-box li { color: var(--text-secondary); }

        .tip-box { background: rgba(34, 197, 94, 0.08); border-color: var(--accent-green); border: 1px solid rgba(34, 197, 94, 0.2); border-left: 4px solid var(--accent-green); }
        .tip-box h4 { color: var(--accent-green); margin-bottom: 10px; font-size: 1rem; }
        .tip-box p, .tip-box li { color: var(--text-secondary); }

        .info-box { background: rgba(59, 130, 246, 0.08); border-color: var(--accent-blue); border: 1px solid rgba(59, 130, 246, 0.2); border-left: 4px solid var(--accent-blue); }
        .info-box h4 { color: var(--accent-blue); margin-bottom: 10px; font-size: 1rem; }
        .info-box p, .info-box li { color: var(--text-secondary); }

        /* Decision Tree */
        .decision-tree {
            background: rgba(0,0,0,0.2);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 22px;
            margin: 22px 0;
        }

        .decision-tree h3 { color: var(--accent-blue); margin-bottom: 18px; padding-bottom: 12px; border-bottom: 1px solid var(--border-subtle); font-size: 1.1rem; }

        .tree-node { margin-left: 20px; padding: 12px; border-left: 2px solid var(--accent-teal); position: relative; color: var(--text-secondary); }
        .tree-node::before { content: ''; position: absolute; left: -2px; top: 22px; width: 15px; height: 2px; background: var(--accent-teal); }
        .tree-node.level-1 { margin-left: 0; border-left: none; }
        .tree-node.level-1::before { display: none; }

        .tree-label { background: var(--accent-amber); color: var(--bg-primary); padding: 6px 14px; border-radius: 6px; font-weight: 700; display: inline-block; margin-bottom: 6px; font-size: 0.9rem; }

        /* Summary Grid */
        .summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 18px; margin: 22px 0; }

        .summary-card { background: rgba(0,0,0,0.3); border: 1px solid var(--border-subtle); border-radius: 12px; padding: 22px; text-align: center; }
        .summary-card h4 { color: var(--text-secondary); margin-bottom: 12px; font-size: 0.9rem; }
        .summary-card .value {
            font-size: 2.2rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .summary-card .label { font-size: 0.85rem; color: var(--text-muted); margin-top: 8px; }

        /* Hold Reason Cards */
        .reason-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin: 22px 0; }

        .reason-card { background: rgba(0,0,0,0.2); border: 1px solid var(--border-subtle); border-radius: 12px; overflow: hidden; }
        .reason-card-header { background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%); color: white; padding: 18px; text-align: center; }
        .reason-card-header h4 { font-size: 1.05rem; }
        .reason-card-body { padding: 22px; }
        .reason-card ul { list-style: none; padding: 0; }
        .reason-card li { padding: 10px 0; border-bottom: 1px solid var(--border-subtle); display: flex; align-items: center; gap: 12px; color: var(--text-secondary); font-size: 0.95rem; }
        .reason-card li:last-child { border-bottom: none; }
        .check-icon { color: var(--accent-green); font-weight: bold; }
        .x-icon { color: var(--accent-rose); font-weight: bold; }

        /* Quick Reference */
        .quick-ref {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-card) 100%);
            border: 1px solid var(--border-subtle);
            padding: 28px;
            border-radius: 16px;
            margin-top: 30px;
            font-family: 'JetBrains Mono', monospace;
            scroll-margin-top: 75px;
        }

        .quick-ref h3 { color: var(--accent-amber); margin-bottom: 18px; font-family: 'Plus Jakarta Sans', sans-serif; }
        .quick-ref pre { background: rgba(0,0,0,0.4); border: 1px solid var(--border-subtle); padding: 20px; border-radius: 10px; overflow-x: auto; font-size: 0.85rem; line-height: 1.7; color: var(--text-secondary); }

        /* ====== AGENT OPPORTUNITIES STYLES ====== */
        .agent-header {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            padding: 35px;
            border-radius: 16px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .agent-header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background:
                radial-gradient(ellipse at 20% 20%, rgba(139, 92, 246, 0.12) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(245, 158, 11, 0.1) 0%, transparent 50%);
            pointer-events: none;
        }

        .agent-header h1 {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 10px;
            position: relative;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-header .subtitle { color: var(--text-secondary); font-size: 1.1rem; position: relative; }

        /* Heat Map */
        .heat-map-container { margin-bottom: 35px; }
        .heat-map-title { font-size: 1.3rem; font-weight: 700; color: var(--text-primary); margin-bottom: 20px; display: flex; align-items: center; gap: 12px; }

        .heat-map-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .heat-item {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 20px;
            position: relative;
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
        }

        .heat-item:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .heat-item:active { transform: scale(0.98); }

        .heat-item::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; height: 4px;
        }

        .heat-item.critical::before { background: linear-gradient(90deg, #ef4444, #f97316); }
        .heat-item.high::before { background: linear-gradient(90deg, #f97316, #eab308); }
        .heat-item.medium::before { background: linear-gradient(90deg, #eab308, #22c55e); }
        .heat-item.low::before { background: linear-gradient(90deg, #22c55e, #14b8a6); }

        .heat-score {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.8rem;
            font-weight: 800;
        }

        .heat-item.critical .heat-score { color: #ef4444; }
        .heat-item.high .heat-score { color: #f97316; }
        .heat-item.medium .heat-score { color: #eab308; }
        .heat-item.low .heat-score { color: #22c55e; }

        .heat-name { font-size: 1rem; font-weight: 700; color: var(--text-primary); margin-bottom: 6px; padding-right: 50px; }
        .heat-desc { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px; }

        .heat-metrics { display: flex; gap: 15px; margin-top: 12px; }
        .heat-metric { font-size: 0.75rem; color: var(--text-muted); }
        .heat-metric span { color: var(--text-secondary); font-weight: 600; }

        /* Agent Cards */
        .agent-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)); gap: 25px; margin-bottom: 35px; }

        .agent-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .agent-card:hover { transform: translateY(-5px); box-shadow: 0 15px 50px rgba(0,0,0,0.3); }

        .agent-card.highlight {
            animation: highlightPulse 2s ease;
            box-shadow: 0 0 0 3px var(--accent-purple), 0 15px 50px rgba(139, 92, 246, 0.4);
        }

        @keyframes highlightPulse {
            0% { box-shadow: 0 0 0 3px var(--accent-purple), 0 15px 50px rgba(139, 92, 246, 0.6); }
            50% { box-shadow: 0 0 0 6px rgba(139, 92, 246, 0.5), 0 15px 50px rgba(139, 92, 246, 0.3); }
            100% { box-shadow: 0 0 0 0px transparent, 0 15px 50px rgba(0,0,0,0.3); }
        }

        .agent-card-header {
            padding: 22px;
            display: flex;
            align-items: flex-start;
            gap: 18px;
            border-bottom: 1px solid var(--border-subtle);
        }

        .agent-icon {
            width: 55px;
            height: 55px;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.6rem;
            flex-shrink: 0;
        }

        .agent-info { flex: 1; }
        .agent-name { font-size: 1.15rem; font-weight: 700; color: var(--text-primary); margin-bottom: 5px; }
        .agent-type { font-size: 0.8rem; color: var(--accent-purple); font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }

        .agent-priority {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
        }

        .agent-priority.critical { background: rgba(239, 68, 68, 0.15); color: #ef4444; }
        .agent-priority.high { background: rgba(249, 115, 22, 0.15); color: #f97316; }
        .agent-priority.medium { background: rgba(234, 179, 8, 0.15); color: #eab308; }
        .agent-priority.low { background: rgba(34, 197, 94, 0.15); color: #22c55e; }

        .agent-card-body { padding: 22px; }
        .agent-description { font-size: 0.95rem; color: var(--text-secondary); line-height: 1.6; margin-bottom: 20px; }

        .agent-flow {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            padding: 18px;
            margin-bottom: 20px;
        }

        .agent-flow-title { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }

        .agent-flow-diagram { display: flex; align-items: center; flex-wrap: wrap; gap: 8px; justify-content: center; }

        .agent-step {
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
            color: white;
            padding: 8px 14px;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 600;
            white-space: nowrap;
        }

        .agent-arrow { color: var(--accent-purple); font-size: 1.2rem; }

        .agent-stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }

        .agent-stat {
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            padding: 12px;
            text-align: center;
        }

        .agent-stat-value {
            font-size: 1.3rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-stat-label { font-size: 0.7rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.05em; margin-top: 4px; }

        /* View Prompt Button */
        .agent-prompt-btn {
            width: 100%;
            margin-top: 18px;
            padding: 14px 20px;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(59, 130, 246, 0.2) 100%);
            border: 1px solid rgba(139, 92, 246, 0.4);
            border-radius: 10px;
            color: var(--accent-purple);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-size: 0.9rem;
        }

        .agent-prompt-btn:hover {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.3) 0%, rgba(59, 130, 246, 0.3) 100%);
            border-color: var(--accent-purple);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.25);
        }

        /* Summary Stats */
        .agent-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 35px;
        }

        .agent-summary-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 14px;
            padding: 25px;
            text-align: center;
        }

        .agent-summary-value {
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-summary-label { font-size: 0.9rem; color: var(--text-muted); margin-top: 8px; }

        /* Heat Map Legend */
        .heat-legend {
            display: flex;
            gap: 25px;
            padding: 18px 22px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .heat-legend-item { display: flex; align-items: center; gap: 10px; font-size: 0.9rem; color: var(--text-secondary); }
        .heat-legend-color { width: 24px; height: 24px; border-radius: 6px; }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(10, 15, 26, 0.9);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            padding: 20px;
            backdrop-filter: blur(5px);
        }

        .modal-overlay.show { display: flex; }

        .modal {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            width: 100%;
            max-width: 950px;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
            box-shadow: 0 25px 80px rgba(0,0,0,0.5);
        }

        .modal-header {
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            padding: 22px 28px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 16px 16px 0 0;
        }

        .modal-header h3 { font-size: 1.25rem; font-weight: 700; }
        .modal-actions { display: flex; gap: 12px; }

        .modal-btn {
            padding: 10px 18px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 700;
            transition: transform 0.2s;
            font-size: 0.9rem;
        }

        .modal-btn:hover { transform: scale(1.05); }
        .modal-btn.copy { background: white; color: var(--accent-blue); }
        .modal-btn.close { background: rgba(255,255,255,0.2); color: white; }

        .modal-body { padding: 28px; overflow-y: auto; flex: 1; }

        .modal-body pre {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            padding: 22px;
            border-radius: 10px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            line-height: 1.7;
            white-space: pre-wrap;
            word-wrap: break-word;
            color: var(--text-secondary);
        }

        .copy-success {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--accent-green);
            color: white;
            padding: 18px 35px;
            border-radius: 10px;
            font-weight: 700;
            z-index: 3000;
            display: none;
            animation: fadeInOut 2s ease;
        }

        @keyframes fadeInOut { 0%, 100% { opacity: 0; } 10%, 90% { opacity: 1; } }

        /* AI Prompt Modal */
        .prompt-modal .modal {
            max-width: 800px;
        }

        .prompt-modal .modal-header {
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
        }

        .prompt-section {
            margin-bottom: 25px;
        }

        .prompt-section h4 {
            color: var(--accent-purple);
            font-size: 1rem;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .prompt-box {
            background: rgba(0,0,0,0.4);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            padding: 20px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            line-height: 1.7;
            color: var(--text-secondary);
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .prompt-tags {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .prompt-tag {
            background: rgba(139, 92, 246, 0.15);
            color: var(--accent-purple);
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .copy-prompt-btn {
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            margin-top: 15px;
        }

        .copy-prompt-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(139, 92, 246, 0.3);
        }

        @media (max-width: 900px) {
            .sidebar { display: none; }
            .main-content { margin-left: 0; padding: 75px 20px 30px 20px; }
            .agent-grid { grid-template-columns: 1fr; }
        }
            .breadcrumb-logo-link { display: flex; align-items: center; padding: 4px 8px; background: rgba(255,255,255,0.08); border-radius: 8px; border: 1px solid rgba(255,255,255,0.12); transition: all 0.2s; }
        .breadcrumb-logo-link:hover { background: rgba(255,255,255,0.15); }
        .breadcrumb-logo { height: 28px; width: auto; }
    </style>
</head>
<body>
    <!-- Breadcrumb -->
    <nav class="breadcrumb">
        <a href="../../index.html" class="breadcrumb-logo-link"><img src="../../images/clear-ai-logo.png" alt="Clear AI" class="breadcrumb-logo"></a>
        <a href="../../index.html">Portal Home</a>
        <span class="separator">></span>
        <a href="./index.html">Byte</a>
        <span class="separator">></span>
        <span class="current">Processing Hold</span>
    </nav>

    <!-- Fixed Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <h2>Processing Hold</h2>
            <p>Interactive Workflow Guide</p>
        </div>

        <!-- Tab Switcher -->
        <div class="sidebar-tabs">
            <button class="sidebar-tab active" onclick="switchTab('workflow')">Workflow</button>
            <button class="sidebar-tab agent-tab" onclick="switchTab('agents')">AI Agents</button>
        </div>

        <!-- Workflow Navigation -->
        <nav class="sidebar-nav" id="workflow-nav">
            <a href="#section-1" class="nav-item active">
                <span class="nav-number">1</span>
                <span class="nav-label">Open Loan File</span>
            </a>
            <a href="#section-2" class="nav-item">
                <span class="nav-number">2</span>
                <span class="nav-label">Processing Log</span>
            </a>
            <a href="#section-3" class="nav-item">
                <span class="nav-number">3</span>
                <span class="nav-label">Enter Hold Date</span>
            </a>
            <a href="#section-4" class="nav-item">
                <span class="nav-number">4</span>
                <span class="nav-label">Pipeline View</span>
            </a>
            <a href="#section-5" class="nav-item">
                <span class="nav-number">5</span>
                <span class="nav-label">Release Hold</span>
            </a>
            <a href="#section-6" class="nav-item">
                <span class="nav-number">6</span>
                <span class="nav-label">Hold Reasons</span>
            </a>
            <a href="#quick-ref" class="nav-item">
                <span class="nav-number">!</span>
                <span class="nav-label">Quick Reference</span>
            </a>
        </nav>

        <!-- Agent Navigation -->
        <nav class="sidebar-nav" id="agents-nav" style="display: none;">
            <a href="#agent-summary" class="nav-item active">
                <span class="nav-number">S</span>
                <span class="nav-label">Summary</span>
            </a>
            <a href="#agent-heatmap" class="nav-item">
                <span class="nav-number">H</span>
                <span class="nav-label">Heat Map</span>
            </a>
            <a href="#agent-details" class="nav-item">
                <span class="nav-number">A</span>
                <span class="nav-label">Agent Details</span>
            </a>
        </nav>

        <div class="sidebar-footer">
            <button class="doc-btn" onclick="openDocModal()">
                View Workflow Markdown
            </button>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">

        <!-- ==================== WORKFLOW TAB ==================== -->
        <div id="workflow-panel" class="tab-panel active">
            <!-- Header -->
            <div class="header">
                <h1>Byte Processing Hold & Release</h1>
                <p class="subtitle">Managing loan file holds prior to underwriting submission</p>
                <div class="meta">
                    <span class="meta-item">System: Byte LOS</span>
                    <span class="meta-item">Role: Processor</span>
                    <span class="meta-item">Doc: RET181/031119</span>
                    <span class="meta-item">Support: x3999 / 925-359-3999</span>
                </div>
            </div>

            <!-- Legend -->
            <div class="legend">
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #22c55e, #16a34a);"></div><span>Start/End</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #3b82f6, #2563eb);"></div><span>Action Step</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #f59e0b, #d97706);"></div><span>Decision Point</span></div>
                <div class="legend-item"><div class="legend-color" style="background: #111827; border: 2px solid #3b82f6;"></div><span>User Input</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #f43f5e, #dc2626);"></div><span>Exception</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #14b8a6, #0d9488);"></div><span>Output</span></div>
            </div>

            <!-- Section 1: Open Loan File -->
            <section id="section-1" class="section">
                <div class="section-header">
                    <div class="section-number">1</div>
                    <div class="section-title"><h2>Open Loan File in Byte</h2><span>Access the loan record</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node start">Start</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Open Byte LOS</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node input">Search by File Name</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Loan File Opens</div>
                        </div>
                    </div>
                    <div class="info-box">
                        <h4>Loan Search Options</h4>
                        <p>You can search using any of the following criteria:</p>
                        <ul style="margin-top: 10px; margin-left: 20px; color: var(--text-secondary);">
                            <li>File Name (REA#)</li>
                            <li>First Name / Last Name</li>
                            <li>Property Address</li>
                            <li>Loan Officer Name</li>
                            <li>Organization</li>
                        </ul>
                    </div>
                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Search Field</th>
                                <th>Description</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>File Name</td>
                                <td>Unique loan identifier</td>
                                <td>REA000007962</td>
                            </tr>
                            <tr>
                                <td>Last Name</td>
                                <td>Borrower's last name</td>
                                <td>Smith</td>
                            </tr>
                            <tr>
                                <td>Loan Officer</td>
                                <td>Assigned LO name</td>
                                <td>DonBlaze</td>
                            </tr>
                            <tr>
                                <td>Status Filter</td>
                                <td>Filter by loan status</td>
                                <td>Prospect, Disclosed</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Section 2: Processing Log Screen -->
            <section id="section-2" class="section">
                <div class="section-header">
                    <div class="section-number">2</div>
                    <div class="section-title"><h2>Open Processing Log Screen</h2><span>Navigate to the Processing Log</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">All Screens Menu</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Scroll to "Processing"</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Click "Processing Log"</div>
                        </div>
                    </div>
                    <div class="tip-box">
                        <h4>Navigation Tip</h4>
                        <p>The Processing Log is located under the "Processing" section in the All Screens menu. Look for the expandable "Processing" node and click to expand, then select "Processing Log".</p>
                    </div>
                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Processing Log Features</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Add Items</td>
                                <td>Add new processing items to the file</td>
                            </tr>
                            <tr>
                                <td>Add Order Outs</td>
                                <td>Order third-party services</td>
                            </tr>
                            <tr>
                                <td>Add Verifs</td>
                                <td>Add verification items</td>
                            </tr>
                            <tr>
                                <td>Add Predefined Items</td>
                                <td>Add standard processing items</td>
                            </tr>
                            <tr>
                                <td>Add Conditions</td>
                                <td>Add loan conditions</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Section 3: Enter Processing Hold -->
            <section id="section-3" class="section">
                <div class="section-header">
                    <div class="section-number">3</div>
                    <div class="section-title"><h2>Enter Processing Hold Date & Reason</h2><span>Place the file on hold</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node decision">File Ready for UW?</div>
                        </div>
                        <div class="decision-branch">
                            <div class="branch">
                                <div class="branch-label">NO - Not Complete</div>
                                <span class="flow-arrow down">-></span>
                                <div class="flow-node input">Enter Processing Hold Date</div>
                                <span class="flow-arrow down">-></span>
                                <div class="flow-node input">Select Hold Reason</div>
                            </div>
                            <div class="branch">
                                <div class="branch-label">YES - Ready</div>
                                <span class="flow-arrow down">-></span>
                                <div class="flow-node output">Submit to Underwriting</div>
                            </div>
                        </div>
                    </div>
                    <div class="exception-box">
                        <h4>When to Place on Processing Hold</h4>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li>File is NOT complete enough to send to underwriting</li>
                            <li>Insufficient documentation for Underwriter to make credit decision within 3 business days</li>
                            <li>Borrower requests the file be put on hold</li>
                            <li>Loan information or program is about to change</li>
                        </ul>
                    </div>
                    <div class="info-box">
                        <h4>Important</h4>
                        <p>Processing Hold is <strong>ONLY used prior to underwriting submission</strong>. This status indicates the file cannot yet be sent to underwriting.</p>
                    </div>
                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Type</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Processing Hold</td>
                                <td><span class="badge required-badge">Required</span></td>
                                <td>Date field - Enter the date the hold begins (e.g., 01/29/2019)</td>
                            </tr>
                            <tr>
                                <td>Processing Hold Reason</td>
                                <td><span class="badge required-badge">Required</span></td>
                                <td>Dropdown selection - Choose the reason for the hold</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Section 4: Pipeline View -->
            <section id="section-4" class="section">
                <div class="section-header">
                    <div class="section-number">4</div>
                    <div class="section-title"><h2>Pipeline Visibility</h2><span>Processing Hold appears in Pipeline</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Processing Hold Entered</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Reflects on Retail Processing Pipeline</div>
                        </div>
                    </div>
                    <div class="summary-grid">
                        <div class="summary-card">
                            <h4>Pipeline Column</h4>
                            <div class="value">Proc Hold</div>
                            <div class="label">Column shows hold date</div>
                        </div>
                        <div class="summary-card">
                            <h4>Visibility</h4>
                            <div class="value">All</div>
                            <div class="label">Team can see hold status</div>
                        </div>
                        <div class="summary-card">
                            <h4>Tracking</h4>
                            <div class="value">Date</div>
                            <div class="label">Hold duration tracked</div>
                        </div>
                    </div>
                    <div class="tip-box">
                        <h4>Pipeline Tracking</h4>
                        <p>The Processing Hold Date displays in the "Proc Hold" column on the Retail Processing Pipeline, allowing supervisors and team members to track which files are on hold and for how long.</p>
                    </div>
                </div>
            </section>

            <!-- Section 5: Release Hold -->
            <section id="section-5" class="section">
                <div class="section-header">
                    <div class="section-number">5</div>
                    <div class="section-title"><h2>Processing Hold Release</h2><span>Release the file for underwriting</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node decision">File Ready for UW?</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node input">Enter Processing Hold Release Date</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Submit to UW within 2 days</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node start">Complete</div>
                        </div>
                    </div>
                    <div class="exception-box">
                        <h4>2-Day Requirement</h4>
                        <p>Once the Processing Hold Release date is entered, the file <strong>MUST be sent to underwriting within 2 business days</strong>.</p>
                    </div>
                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Type</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Processing Hold</td>
                                <td><span class="badge calculated-badge">Set</span></td>
                                <td>Original hold date remains (e.g., 01/29/2019)</td>
                            </tr>
                            <tr>
                                <td>Processing Hold Release</td>
                                <td><span class="badge required-badge">Required</span></td>
                                <td>Date field - Enter the release date (e.g., 02/05/2019)</td>
                            </tr>
                            <tr>
                                <td>Processing Hold Reason</td>
                                <td><span class="badge calculated-badge">Set</span></td>
                                <td>Original reason remains displayed</td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="info-box">
                        <h4>Non-Responsive Borrowers</h4>
                        <p>For borrowers that are not moving forward or unable to contact, please follow the <strong>Notice of Incompleteness</strong> procedure instead of keeping the file on hold indefinitely.</p>
                    </div>
                </div>
            </section>

            <!-- Section 6: Hold Reasons -->
            <section id="section-6" class="section">
                <div class="section-header">
                    <div class="section-number">6</div>
                    <div class="section-title"><h2>Processing Hold Reasons</h2><span>Available hold reason codes</span></div>
                </div>
                <div class="section-content">
                    <div class="reason-grid">
                        <div class="reason-card">
                            <div class="reason-card-header">
                                <h4>Documentation Issues</h4>
                            </div>
                            <div class="reason-card-body">
                                <ul>
                                    <li><span class="check-icon">*</span> Missing Documentation</li>
                                    <li><span class="check-icon">*</span> Incomplete 1003</li>
                                </ul>
                            </div>
                        </div>
                        <div class="reason-card">
                            <div class="reason-card-header">
                                <h4>Borrower Requests</h4>
                            </div>
                            <div class="reason-card-body">
                                <ul>
                                    <li><span class="check-icon">*</span> Borrower Hold</li>
                                </ul>
                            </div>
                        </div>
                        <div class="reason-card">
                            <div class="reason-card-header">
                                <h4>Eligibility Concerns</h4>
                            </div>
                            <div class="reason-card-body">
                                <ul>
                                    <li><span class="check-icon">*</span> Ineligible AUS</li>
                                    <li><span class="check-icon">*</span> Qualification Concerns</li>
                                </ul>
                            </div>
                        </div>
                        <div class="reason-card">
                            <div class="reason-card-header">
                                <h4>Loan Changes</h4>
                            </div>
                            <div class="reason-card-body">
                                <ul>
                                    <li><span class="check-icon">*</span> Program Change</li>
                                    <li><span class="check-icon">*</span> MCC Program</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="decision-tree">
                        <h3>Hold Reason Selection Guide</h3>
                        <div class="tree-node level-1">
                            <div class="tree-label">Borrower Hold</div>
                            Use when the borrower specifically requests to pause the loan process
                        </div>
                        <div class="tree-node">
                            <div class="tree-label">Incomplete 1003</div>
                            Application is missing required borrower information
                        </div>
                        <div class="tree-node">
                            <div class="tree-label">Ineligible AUS</div>
                            Automated Underwriting System returned ineligible finding
                        </div>
                        <div class="tree-node">
                            <div class="tree-label">Missing Documentation</div>
                            Required documents have not been received or are incomplete
                        </div>
                        <div class="tree-node">
                            <div class="tree-label">Program Change</div>
                            Loan program is being changed (e.g., FHA to Conventional)
                        </div>
                        <div class="tree-node">
                            <div class="tree-label">Qualification Concerns</div>
                            Issues with DTI, credit, or other qualifying factors
                        </div>
                    </div>
                </div>
            </section>

            <!-- Quick Reference -->
            <div id="quick-ref" class="quick-ref">
                <h3>Quick Reference - Processing Hold Checklist</h3>
                <pre>
PROCESSING HOLD WORKFLOW
========================

WHEN TO USE PROCESSING HOLD:
  [ ] File not complete enough for underwriting
  [ ] Missing documentation for 3-day credit decision
  [ ] Borrower requested hold
  [ ] Program or loan info changing

STEPS TO PLACE ON HOLD:
  1. Open loan file in Byte
  2. Navigate: All Screens > Processing > Processing Log
  3. Enter Processing Hold date (MM/DD/YYYY)
  4. Select Processing Hold Reason from dropdown
  5. Save changes

HOLD REASONS AVAILABLE:
  * Borrower Hold
  * Incomplete 1003
  * Ineligible AUS
  * Missing Documentation
  * Program Change
  * Qualification Concerns
  * MCC Program

STEPS TO RELEASE HOLD:
  1. Open loan file in Byte
  2. Navigate to Processing Log
  3. Enter Processing Hold Release date
  4. Submit to underwriting within 2 BUSINESS DAYS

IMPORTANT REMINDERS:
  ! Processing Hold = ONLY used BEFORE underwriting
  ! Release + 2 days = Must submit to UW
  ! Non-responsive borrower = Use Notice of Incompleteness
  ! Pipeline visibility = Proc Hold column shows date

SUPPORT:
  Phone: x3999 or 925-359-3999
  Doc Reference: RET181/031119
                </pre>
            </div>
        </div>

        <!-- ==================== AI AGENTS TAB ==================== -->
        <div id="agents-panel" class="tab-panel">
            <!-- Agent Header -->
            <div class="agent-header" id="agent-summary">
                <h1>AI Agent Opportunities</h1>
                <p class="subtitle">Automation potential for Processing Hold workflows</p>
            </div>

            <!-- Summary Stats -->
            <div class="agent-summary">
                <div class="agent-summary-card">
                    <div class="agent-summary-value">3</div>
                    <div class="agent-summary-label">Agent Opportunities</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">65%</div>
                    <div class="agent-summary-label">Automation Potential</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">4.2</div>
                    <div class="agent-summary-label">Avg ROI Score</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">15min</div>
                    <div class="agent-summary-label">Est. Time Saved/File</div>
                </div>
            </div>

            <!-- Heat Map Legend -->
            <div class="heat-legend" id="agent-heatmap">
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(135deg, #ef4444, #f97316);"></div>
                    <span>Critical (9-10)</span>
                </div>
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(135deg, #f97316, #eab308);"></div>
                    <span>High (7-8)</span>
                </div>
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(135deg, #eab308, #22c55e);"></div>
                    <span>Medium (5-6)</span>
                </div>
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(135deg, #22c55e, #14b8a6);"></div>
                    <span>Low (1-4)</span>
                </div>
            </div>

            <!-- Heat Map Grid -->
            <div class="heat-map-container">
                <div class="heat-map-title">Opportunity Heat Map</div>
                <div class="heat-map-grid">
                    <div class="heat-item critical" onclick="scrollToAgent('agent-hold-monitor')">
                        <div class="heat-score">9.2</div>
                        <div class="heat-name">Hold Duration Monitor</div>
                        <div class="heat-desc">Track and alert on aging holds</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Savings: <span>8hr/week</span></div>
                            <div class="heat-metric">Complexity: <span>Low</span></div>
                        </div>
                    </div>
                    <div class="heat-item high" onclick="scrollToAgent('agent-doc-checker')">
                        <div class="heat-score">8.1</div>
                        <div class="heat-name">Documentation Checker</div>
                        <div class="heat-desc">Auto-detect missing docs</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Savings: <span>6hr/week</span></div>
                            <div class="heat-metric">Complexity: <span>Medium</span></div>
                        </div>
                    </div>
                    <div class="heat-item medium" onclick="scrollToAgent('agent-auto-release')">
                        <div class="heat-score">6.5</div>
                        <div class="heat-name">Auto-Release Suggester</div>
                        <div class="heat-desc">Recommend hold releases</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Savings: <span>3hr/week</span></div>
                            <div class="heat-metric">Complexity: <span>Medium</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Agent Details -->
            <div id="agent-details">
                <h2 style="color: var(--text-primary); margin-bottom: 25px; font-size: 1.5rem;">Agent Specifications</h2>

                <!-- Agent 1: Hold Duration Monitor -->
                <div class="agent-grid">
                    <div class="agent-card" id="agent-hold-monitor">
                        <div class="agent-card-header">
                            <div class="agent-icon">T</div>
                            <div class="agent-info">
                                <div class="agent-name">Hold Duration Monitor</div>
                                <div class="agent-type">Monitoring / Alerting Agent</div>
                            </div>
                            <span class="agent-priority critical">Critical</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">Automatically monitors all files on Processing Hold, tracks duration, and sends escalation alerts when holds exceed SLA thresholds. Prevents files from sitting on hold indefinitely.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Workflow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">Scan Pipeline</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Check Hold Dates</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Calculate Duration</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Send Alerts</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">8hr</div>
                                    <div class="agent-stat-label">Weekly Savings</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">Low</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">9.2</div>
                                    <div class="agent-stat-label">ROI Score</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('holdMonitor')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>

                    <!-- Agent 2: Documentation Checker -->
                    <div class="agent-card" id="agent-doc-checker">
                        <div class="agent-card-header">
                            <div class="agent-icon">D</div>
                            <div class="agent-info">
                                <div class="agent-name">Documentation Checker</div>
                                <div class="agent-type">Document Analysis Agent</div>
                            </div>
                            <span class="agent-priority high">High</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">Analyzes loan files with "Missing Documentation" hold reason and automatically identifies which specific documents are missing based on loan type, program requirements, and AUS findings.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Workflow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">Read AUS</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Check Doc Index</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Compare Required</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Generate List</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">6hr</div>
                                    <div class="agent-stat-label">Weekly Savings</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">Med</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">8.1</div>
                                    <div class="agent-stat-label">ROI Score</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('docChecker')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>

                    <!-- Agent 3: Auto-Release Suggester -->
                    <div class="agent-card" id="agent-auto-release">
                        <div class="agent-card-header">
                            <div class="agent-icon">R</div>
                            <div class="agent-info">
                                <div class="agent-name">Auto-Release Suggester</div>
                                <div class="agent-type">Decision Support Agent</div>
                            </div>
                            <span class="agent-priority medium">Medium</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">Monitors files on hold and suggests when they may be ready for release based on document receipt, AUS resubmission results, and hold reason resolution indicators.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Workflow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">Monitor Docs</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Check AUS</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Evaluate Ready</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Notify Processor</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">3hr</div>
                                    <div class="agent-stat-label">Weekly Savings</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">Med</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">6.5</div>
                                    <div class="agent-stat-label">ROI Score</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('autoRelease')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Documentation Modal -->
    <div class="modal-overlay" id="docModal">
        <div class="modal">
            <div class="modal-header">
                <h3>Processing Hold - Workflow Markdown</h3>
                <div class="modal-actions">
                    <button class="modal-btn copy" onclick="copyToClipboard()">Copy</button>
                    <button class="modal-btn close" onclick="closeDocModal()">Close</button>
                </div>
            </div>
            <div class="modal-body">
                <pre id="docContent"># Processing Hold and Processing Hold Release

## Overview
A file should have a Processing Hold Date entered when:
- It is not complete enough to send to underwriting
- There is not enough documentation for an Underwriter to make a credit decision within 3 business days

**Important:** Processing Hold is ONLY used prior to underwriting submission.

A file should also be put on hold if:
- The Borrower requests this
- The loan information or program is about to change

## Step-by-Step Process

### Step 1: Open the Loan File
1. Open Byte LOS
2. Search for the loan using File Name, Borrower Name, or Property Address
3. Open the loan file

### Step 2: Open Processing Log Screen
1. Click "All Screens" menu
2. Expand the "Processing" section
3. Click "Processing Log"

### Step 3: Enter Processing Hold
1. Enter the Processing Hold date in MM/DD/YYYY format
2. Select the Processing Hold Reason from dropdown:
   - Borrower Hold
   - Incomplete 1003
   - Ineligible AUS
   - Missing Documentation
   - Program Change
   - Qualification Concerns
   - MCC Program

### Step 4: Pipeline Visibility
- The Processing Hold Date reflects on the Retail Processing Pipeline
- Visible in the "Proc Hold" column

### Step 5: Release the Hold
1. Once the file is ready for underwriting, enter the Processing Hold Release date
2. **IMPORTANT:** Once released, file must be sent to underwriting within 2 business days

## Notes
- For borrowers not moving forward or unable to contact, follow the Notice of Incompleteness procedure
- Support: x3999 or 925-359-3999
- Document Reference: RET181/031119</pre>
            </div>
        </div>
    </div>

    <div class="copy-success" id="copySuccess">Copied to clipboard!</div>

    <!-- AI Prompt Modal -->
    <div class="modal-overlay prompt-modal" id="promptModal">
        <div class="modal">
            <div class="modal-header">
                <h3 id="promptModalTitle">AI Agent Build Prompt</h3>
                <div class="modal-actions">
                    <button class="modal-btn copy" onclick="copyPromptToClipboard()">Copy Prompt</button>
                    <button class="modal-btn close" onclick="closePromptModal()">Close</button>
                </div>
            </div>
            <div class="modal-body">
                <div class="prompt-tags" id="promptTags"></div>
                <div class="prompt-section">
                    <h4>Agent Purpose</h4>
                    <div class="prompt-box" id="promptPurpose"></div>
                </div>
                <div class="prompt-section">
                    <h4>Full Build Prompt</h4>
                    <div class="prompt-box" id="promptContent"></div>
                </div>
                <div class="prompt-section">
                    <h4>Integration Points</h4>
                    <div class="prompt-box" id="promptIntegration"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Scroll spy with isScrolling flag and 1000ms timeout
        let isScrolling = false;
        let scrollTimeout;
        const sections = document.querySelectorAll('.section, .quick-ref');
        const navItems = document.querySelectorAll('#workflow-nav .nav-item');

        function updateActiveNav() {
            if (isScrolling) return;

            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100;
                if (window.scrollY >= sectionTop) current = section.getAttribute('id');
            });
            navItems.forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('href') === '#' + current) item.classList.add('active');
            });
        }

        // Handle nav item clicks
        navItems.forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                isScrolling = true;

                // Update active state immediately
                navItems.forEach(nav => nav.classList.remove('active'));
                this.classList.add('active');

                // Scroll to section
                const targetId = this.getAttribute('href').substring(1);
                const targetSection = document.getElementById(targetId);
                if (targetSection) {
                    targetSection.scrollIntoView({ behavior: 'smooth' });
                }

                // Reset isScrolling after 1000ms
                clearTimeout(scrollTimeout);
                scrollTimeout = setTimeout(() => {
                    isScrolling = false;
                }, 1000);
            });
        });

        window.addEventListener('scroll', updateActiveNav);

        // Tab switching
        function switchTab(tab) {
            document.querySelectorAll('.sidebar-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));

            if (tab === 'workflow') {
                document.querySelector('.sidebar-tab:not(.agent-tab)').classList.add('active');
                document.getElementById('workflow-panel').classList.add('active');
                document.getElementById('workflow-nav').style.display = 'block';
                document.getElementById('agents-nav').style.display = 'none';
            } else {
                document.querySelector('.sidebar-tab.agent-tab').classList.add('active');
                document.getElementById('agents-panel').classList.add('active');
                document.getElementById('workflow-nav').style.display = 'none';
                document.getElementById('agents-nav').style.display = 'block';
            }

            window.scrollTo(0, 0);
        }

        // Modal functions
        function openDocModal() {
            document.getElementById('docModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closeDocModal() {
            document.getElementById('docModal').classList.remove('show');
            document.body.style.overflow = '';
        }

        async function copyToClipboard() {
            try {
                const content = document.getElementById('docContent').textContent;
                await navigator.clipboard.writeText(content);
                const success = document.getElementById('copySuccess');
                success.style.display = 'block';
                setTimeout(() => { success.style.display = 'none'; }, 2000);
            } catch (e) { alert('Failed to copy.'); }
        }

        document.addEventListener('keydown', (e) => { if (e.key === 'Escape') { closeDocModal(); closePromptModal(); } });
        document.getElementById('docModal').addEventListener('click', (e) => { if (e.target.id === 'docModal') closeDocModal(); });

        document.addEventListener('DOMContentLoaded', () => { updateActiveNav(); });

        // ====== AGENT PROMPT SYSTEM ======
        const agentPrompts = {
            holdMonitor: {
                name: 'Hold Duration Monitor',
                tags: ['Monitoring', 'Alerting', 'Low Complexity', 'Critical Priority'],
                purpose: `This agent automatically monitors all loan files on Processing Hold, tracks the duration of each hold, and sends escalation alerts when holds exceed defined SLA thresholds (e.g., 5 days, 10 days, 15 days).`,
                prompt: `You are building a Monitoring Agent for CMG Financial's Byte LOS Processing Hold workflow.

AGENT NAME: Hold Duration Monitor
TYPE: Monitoring / Alerting Agent

OBJECTIVE:
Create an agent that monitors the Retail Processing Pipeline for files on Processing Hold, calculates hold duration, and sends tiered alerts to processors and supervisors when holds exceed SLA thresholds.

INPUT DATA SOURCES:
1. Byte LOS Pipeline Data
   - File Name (REA#)
   - Processor Name
   - Processing Hold Date
   - Processing Hold Reason
   - Loan Officer Name
   - Borrower Last Name

ALERT THRESHOLDS:
Level 1 (Yellow): Hold > 5 business days
  - Notify: Assigned Processor
  - Action: Email reminder with file details

Level 2 (Orange): Hold > 10 business days
  - Notify: Processor + Processing Supervisor
  - Action: Escalation email + dashboard flag

Level 3 (Red): Hold > 15 business days
  - Notify: Processor + Supervisor + Operations Manager
  - Action: Urgent escalation + require action plan

CALCULATION LOGIC:
- Use business days only (exclude weekends and holidays)
- Holiday calendar should be configurable
- Calculate: TODAY - Processing_Hold_Date = Hold_Duration

OUTPUT FORMAT:
{
  "fileId": "REA000007962",
  "borrower": "Smith",
  "holdDate": "2019-01-29",
  "holdReason": "Missing Documentation",
  "holdDuration": 12,
  "alertLevel": "Orange",
  "processor": "Jane Doe",
  "escalateTo": ["jane.doe@cmgfi.com", "supervisor@cmgfi.com"]
}

DAILY REPORT:
Generate daily summary report at 8:00 AM showing:
- Total files on hold
- Files by hold reason (breakdown)
- Files by alert level
- Average hold duration
- Longest hold duration`,
                integration: `INTEGRATION POINTS:
1. Byte LOS Database
   - Read-only access to Pipeline data
   - Query Processing Hold fields

2. Email System
   - SMTP integration for alerts
   - HTML email templates with CMG branding
   - Include direct link to loan file

3. Dashboard
   - Real-time hold status widget
   - Color-coded by alert level
   - Click-through to loan details

4. Scheduling
   - Run every 4 hours during business hours
   - Daily summary at 8:00 AM

DEPLOYMENT:
- Scheduled task/cron job
- Database connection to Byte
- Email service integration`
            },
            docChecker: {
                name: 'Documentation Checker',
                tags: ['Document Analysis', 'AI/ML', 'Medium Complexity', 'High Priority'],
                purpose: `This agent analyzes loan files with "Missing Documentation" hold reason and automatically identifies which specific documents are missing by comparing the loan document index against program requirements and AUS conditions.`,
                prompt: `You are building a Document Analysis Agent for CMG Financial's Byte LOS.

AGENT NAME: Documentation Checker
TYPE: Document Analysis / Gap Detection Agent

OBJECTIVE:
Create an agent that analyzes files on "Missing Documentation" hold and generates a specific list of what documents are needed, based on loan type, program guidelines, and AUS findings.

INPUT DATA SOURCES:
1. Loan File Data
   - Loan Program (Conv, FHA, VA, USDA)
   - Loan Purpose (Purchase, Refi, Cash-Out)
   - Occupancy Type
   - Property Type
   - LTV/CLTV

2. Document Index
   - List of documents currently in file
   - Document dates
   - Document status

3. AUS Findings
   - DU/LP findings
   - Required documentation conditions

DOCUMENT REQUIREMENT MATRIX:
Program-specific requirements loaded from configuration:

Conventional:
  - 1003 Application (signed)
  - 2 years W2s
  - 2 years Tax Returns (if self-employed)
  - 30 days paystubs
  - 2 months bank statements
  - Photo ID
  - etc.

FHA:
  - All Conventional docs PLUS
  - FHA Case Number Assignment
  - CAIVRS check
  - etc.

VA:
  - All Conventional docs PLUS
  - DD-214 or Statement of Service
  - VA COE
  - etc.

MATCHING LOGIC:
1. Determine loan program
2. Load required document checklist
3. Parse AUS for additional conditions
4. Compare against document index
5. Generate missing document list

OUTPUT FORMAT:
{
  "fileId": "REA000007962",
  "loanProgram": "FHA",
  "documentsRequired": 18,
  "documentsReceived": 14,
  "missingDocuments": [
    {
      "docType": "2021 W2 - Borrower",
      "reason": "AUS Condition #3",
      "priority": "High"
    },
    {
      "docType": "Gift Letter",
      "reason": "Required for gift funds",
      "priority": "High"
    }
  ],
  "completionPercentage": 78
}`,
                integration: `INTEGRATION POINTS:
1. Byte Document Index
   - Read document list from loan file
   - Parse document types and statuses

2. AUS Integration
   - Parse DU/LP findings XML
   - Extract documentation conditions

3. Program Guidelines Database
   - Configurable document requirements by program
   - Investor overlay requirements

4. Notification System
   - Generate borrower-facing needs list
   - Internal processor checklist

DEPLOYMENT:
- Triggered when file placed on "Missing Documentation" hold
- Or: On-demand analysis button in Byte
- Daily batch scan of all held files`
            },
            autoRelease: {
                name: 'Auto-Release Suggester',
                tags: ['Decision Support', 'Workflow Automation', 'Medium Complexity', 'Medium Priority'],
                purpose: `This agent monitors files on Processing Hold and proactively suggests when a file may be ready for hold release based on document receipt, successful AUS resubmission, or resolution of the original hold reason.`,
                prompt: `You are building a Decision Support Agent for CMG Financial's Byte LOS.

AGENT NAME: Auto-Release Suggester
TYPE: Decision Support / Workflow Automation Agent

OBJECTIVE:
Create an agent that monitors Processing Hold files and notifies processors when a file appears ready for release, reducing the time files sit on hold after issues are resolved.

MONITORING TRIGGERS:
1. Document Receipt
   - New documents uploaded to file
   - Compare against missing document list
   - If all missing docs received -> Suggest Release

2. AUS Resubmission
   - AUS rerun with new findings
   - If findings improved (e.g., Refer -> Approve) -> Suggest Release

3. Hold Reason Resolution Indicators
   - "Borrower Hold": New borrower communication logged
   - "Program Change": New lock/pricing entered
   - "Incomplete 1003": 1003 resubmitted
   - "Qualification Concerns": Income/asset docs added

CONFIDENCE SCORING:
Calculate release readiness score (0-100%):

Score Components:
- Required docs complete: 40 points
- AUS eligible: 30 points
- Hold reason addressed: 20 points
- Time on hold > 3 days: 10 points

Suggestion Thresholds:
- Score >= 85%: "READY - Recommend Release"
- Score 70-84%: "LIKELY READY - Review Recommended"
- Score < 70%: "NOT READY - Continue Hold"

OUTPUT FORMAT:
{
  "fileId": "REA000007962",
  "currentHoldReason": "Missing Documentation",
  "holdDuration": 5,
  "readinessScore": 92,
  "recommendation": "READY - Recommend Release",
  "evidence": [
    "All 4 missing documents now received",
    "AUS shows Approve/Eligible",
    "No outstanding conditions"
  ],
  "suggestedAction": "Enter Processing Hold Release date and submit to underwriting"
}

NOTIFICATION:
Send notification to processor with:
- File details
- Readiness score
- Evidence summary
- One-click link to Processing Log screen`,
                integration: `INTEGRATION POINTS:
1. Byte Document Index
   - Monitor for new document uploads
   - Track document completeness

2. AUS Integration
   - Monitor for AUS resubmissions
   - Parse new findings

3. Activity Log
   - Track file activity for hold reason resolution
   - Borrower communication logs

4. Notification System
   - Email notifications to processors
   - In-app alerts (if available)
   - Dashboard widget for pending releases

DEPLOYMENT:
- Real-time monitoring via event triggers
- Or: Hourly scan of all files on hold
- Daily summary of release-ready files`
            }
        };

        // Scroll to agent card and highlight
        function scrollToAgent(agentId) {
            const agentCard = document.getElementById(agentId);
            if (agentCard) {
                document.querySelectorAll('.agent-card.highlight').forEach(card => {
                    card.classList.remove('highlight');
                });

                agentCard.scrollIntoView({ behavior: 'smooth', block: 'center' });

                setTimeout(() => {
                    agentCard.classList.add('highlight');
                }, 300);

                setTimeout(() => {
                    agentCard.classList.remove('highlight');
                }, 2500);
            }
        }

        // Show agent prompt modal
        let currentPromptContent = '';

        function showAgentPrompt(agentKey) {
            const agent = agentPrompts[agentKey];
            if (!agent) return;

            document.getElementById('promptModalTitle').textContent = `${agent.name} - Build Prompt`;

            const tagsHtml = agent.tags.map(tag => `<span class="prompt-tag">${tag}</span>`).join('');
            document.getElementById('promptTags').innerHTML = tagsHtml;

            document.getElementById('promptPurpose').textContent = agent.purpose;
            document.getElementById('promptContent').textContent = agent.prompt;
            document.getElementById('promptIntegration').textContent = agent.integration;

            currentPromptContent = `# ${agent.name}\n\n## Purpose\n${agent.purpose}\n\n## Build Prompt\n${agent.prompt}\n\n## Integration Points\n${agent.integration}`;

            document.getElementById('promptModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closePromptModal() {
            document.getElementById('promptModal').classList.remove('show');
            document.body.style.overflow = '';
        }

        async function copyPromptToClipboard() {
            try {
                await navigator.clipboard.writeText(currentPromptContent);
                const success = document.getElementById('copySuccess');
                success.style.display = 'block';
                setTimeout(() => { success.style.display = 'none'; }, 2000);
            } catch (e) {
                alert('Failed to copy prompt.');
            }
        }

        document.getElementById('promptModal').addEventListener('click', (e) => {
            if (e.target.id === 'promptModal') closePromptModal();
        });
    </script>
</body>
</html>
