<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adding Signature to Document in Byte Stored Docs - Process Workflow</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0f1a;
            --bg-secondary: #111827;
            --bg-card: #1a2234;
            --accent-blue: #3b82f6;
            --accent-teal: #14b8a6;
            --accent-amber: #f59e0b;
            --accent-rose: #f43f5e;
            --accent-green: #22c55e;
            --accent-purple: #8b5cf6;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --border-subtle: rgba(255,255,255,0.08);
            --sidebar-width: 280px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
        }

        /* Breadcrumb */
        .breadcrumb {
            background: linear-gradient(90deg, #0d1525 0%, #1a2234 100%);
            padding: 14px 25px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 0.95rem;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1001;
            border-bottom: 1px solid var(--border-subtle);
        }

        .breadcrumb a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 600;
            padding: 8px 16px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
            transition: all 0.2s;
            border: 1px solid var(--border-subtle);
        }

        .breadcrumb a:hover {
            background: rgba(59, 130, 246, 0.15);
            color: var(--accent-blue);
            border-color: rgba(59, 130, 246, 0.3);
        }

        .breadcrumb .separator { color: var(--text-muted); font-size: 1.2rem; }
        .breadcrumb .current { color: var(--accent-amber); font-weight: 600; padding: 8px 16px; }

        /* Sidebar */
        .sidebar {
            position: fixed;
            top: 54px;
            left: 0;
            width: var(--sidebar-width);
            height: calc(100vh - 54px);
            background: var(--bg-secondary);
            overflow-y: auto;
            z-index: 1000;
            border-right: 1px solid var(--border-subtle);
            display: flex;
            flex-direction: column;
        }

        .sidebar-header {
            padding: 25px 20px;
            background: rgba(0,0,0,0.3);
            border-bottom: 1px solid var(--border-subtle);
        }

        .sidebar-header h2 { color: var(--text-primary); font-size: 1.1rem; font-weight: 700; margin-bottom: 5px; }
        .sidebar-header p { color: var(--text-muted); font-size: 0.85rem; }

        /* Tab Switch */
        .sidebar-tabs {
            display: flex;
            border-bottom: 1px solid var(--border-subtle);
        }

        .sidebar-tab {
            flex: 1;
            padding: 14px 10px;
            text-align: center;
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--text-muted);
            cursor: pointer;
            transition: all 0.2s;
            border-bottom: 3px solid transparent;
            background: none;
            border-left: none;
            border-right: none;
            border-top: none;
        }

        .sidebar-tab:hover { background: rgba(255,255,255,0.03); color: var(--text-secondary); }
        .sidebar-tab.active { color: var(--accent-blue); border-bottom-color: var(--accent-blue); background: rgba(59, 130, 246, 0.08); }
        .sidebar-tab.agent-tab.active { color: var(--accent-purple); border-bottom-color: var(--accent-purple); background: rgba(139, 92, 246, 0.08); }

        .sidebar-nav { padding: 15px 0; flex: 1; overflow-y: auto; }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 20px;
            color: var(--text-secondary);
            text-decoration: none;
            border-left: 3px solid transparent;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .nav-item:hover { background: rgba(255,255,255,0.03); color: var(--text-primary); }
        .nav-item.active { background: rgba(59, 130, 246, 0.1); border-left-color: var(--accent-blue); color: var(--text-primary); }

        .nav-number {
            background: rgba(255,255,255,0.1);
            color: var(--text-secondary);
            width: 28px;
            height: 28px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.85rem;
            flex-shrink: 0;
        }

        .nav-item.active .nav-number { background: var(--accent-blue); color: white; }
        .nav-label { font-size: 0.95rem; font-weight: 500; }

        .sidebar-footer {
            padding: 20px;
            border-top: 1px solid var(--border-subtle);
            background: rgba(0,0,0,0.2);
        }

        .doc-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
            padding: 14px 20px;
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            text-decoration: none;
            font-size: 0.95rem;
        }

        .doc-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3); }

        /* Main Content */
        .main-content { margin-left: var(--sidebar-width); padding: 80px 40px 40px 40px; }

        /* Tab Panels */
        .tab-panel { display: none; }
        .tab-panel.active { display: block; }

        .header {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            padding: 35px;
            border-radius: 16px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background:
                radial-gradient(ellipse at 20% 20%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(20, 184, 166, 0.08) 0%, transparent 50%);
            pointer-events: none;
        }

        .header h1 {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 10px;
            position: relative;
            background: linear-gradient(135deg, var(--text-primary) 0%, var(--accent-blue) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header .subtitle { color: var(--text-secondary); font-size: 1.1rem; position: relative; }

        .header .meta { display: flex; gap: 15px; margin-top: 20px; flex-wrap: wrap; position: relative; }

        .header .meta-item {
            background: rgba(255,255,255,0.05);
            border: 1px solid var(--border-subtle);
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Legend */
        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            padding: 18px 22px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            margin-bottom: 25px;
        }

        .legend-item { display: flex; align-items: center; gap: 8px; font-size: 0.85rem; color: var(--text-secondary); }
        .legend-color { width: 18px; height: 18px; border-radius: 4px; }

        /* Sections */
        .section {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            margin-bottom: 25px;
            overflow: hidden;
            scroll-margin-top: 75px;
        }

        .section-header {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, rgba(59, 130, 246, 0.1) 100%);
            border-bottom: 1px solid var(--border-subtle);
            padding: 22px 25px;
            display: flex;
            align-items: center;
            gap: 18px;
        }

        .section-number {
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 1.3rem;
            flex-shrink: 0;
        }

        .section-title h2 { font-size: 1.35rem; font-weight: 700; margin-bottom: 4px; color: var(--text-primary); }
        .section-title span { font-size: 0.9rem; color: var(--text-muted); }
        .section-content { padding: 28px; }

        /* Workflow Diagrams */
        .workflow-diagram {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 28px;
            margin-bottom: 22px;
        }

        .flow-row { display: flex; align-items: center; justify-content: center; flex-wrap: wrap; gap: 12px; margin: 15px 0; }

        .flow-node {
            padding: 14px 22px;
            border-radius: 10px;
            text-align: center;
            font-size: 0.9rem;
            font-weight: 600;
            min-width: 150px;
            border: 1px solid var(--border-subtle);
        }

        .flow-node.start { background: linear-gradient(135deg, var(--accent-green) 0%, #16a34a 100%); color: white; border-radius: 25px; border: none; }
        .flow-node.action { background: linear-gradient(135deg, var(--accent-blue) 0%, #2563eb 100%); color: white; border: none; }
        .flow-node.decision { background: linear-gradient(135deg, var(--accent-amber) 0%, #d97706 100%); color: var(--bg-primary); border: none; }
        .flow-node.input { background: var(--bg-secondary); border: 2px solid var(--accent-blue); color: var(--text-primary); }
        .flow-node.output { background: linear-gradient(135deg, var(--accent-teal) 0%, #0d9488 100%); color: white; border: none; }
        .flow-node.exception { background: linear-gradient(135deg, var(--accent-rose) 0%, #dc2626 100%); color: white; border: none; }

        .flow-arrow { color: var(--accent-blue); font-size: 1.5rem; }
        .flow-arrow.down { transform: rotate(90deg); }

        .decision-branch { display: flex; gap: 40px; justify-content: center; margin: 20px 0; flex-wrap: wrap; }
        .branch { display: flex; flex-direction: column; align-items: center; gap: 10px; }

        .branch-label {
            background: var(--bg-secondary);
            border: 1px solid var(--border-subtle);
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--text-secondary);
        }

        /* Tables */
        .field-table { width: 100%; border-collapse: collapse; margin: 18px 0; }

        .field-table th {
            background: rgba(59, 130, 246, 0.15);
            color: var(--accent-blue);
            padding: 14px 18px;
            text-align: left;
            font-weight: 600;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            border-bottom: 1px solid var(--border-subtle);
        }

        .field-table td { padding: 14px 18px; border-bottom: 1px solid var(--border-subtle); color: var(--text-secondary); }
        .field-table tr:hover { background: rgba(255,255,255,0.02); }

        .badge { display: inline-block; padding: 4px 12px; border-radius: 6px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; }
        .badge.required-badge { background: rgba(244, 63, 94, 0.15); color: var(--accent-rose); }
        .badge.optional-badge { background: rgba(34, 197, 94, 0.15); color: var(--accent-green); }
        .badge.calculated-badge { background: rgba(59, 130, 246, 0.15); color: var(--accent-blue); }

        /* Info Boxes */
        .exception-box, .tip-box, .info-box, .warning-box {
            padding: 18px 22px;
            margin: 18px 0;
            border-radius: 0 10px 10px 0;
            border-left-width: 4px;
            border-left-style: solid;
        }

        .exception-box { background: rgba(244, 63, 94, 0.08); border-color: var(--accent-rose); border: 1px solid rgba(244, 63, 94, 0.2); border-left: 4px solid var(--accent-rose); }
        .exception-box h4 { color: var(--accent-rose); margin-bottom: 10px; font-size: 1rem; }
        .exception-box p, .exception-box li { color: var(--text-secondary); }

        .tip-box { background: rgba(34, 197, 94, 0.08); border-color: var(--accent-green); border: 1px solid rgba(34, 197, 94, 0.2); border-left: 4px solid var(--accent-green); }
        .tip-box h4 { color: var(--accent-green); margin-bottom: 10px; font-size: 1rem; }
        .tip-box p, .tip-box li { color: var(--text-secondary); }

        .info-box { background: rgba(59, 130, 246, 0.08); border-color: var(--accent-blue); border: 1px solid rgba(59, 130, 246, 0.2); border-left: 4px solid var(--accent-blue); }
        .info-box h4 { color: var(--accent-blue); margin-bottom: 10px; font-size: 1rem; }
        .info-box p, .info-box li { color: var(--text-secondary); }

        .warning-box { background: rgba(245, 158, 11, 0.08); border-color: var(--accent-amber); border: 1px solid rgba(245, 158, 11, 0.2); border-left: 4px solid var(--accent-amber); }
        .warning-box h4 { color: var(--accent-amber); margin-bottom: 10px; font-size: 1rem; }
        .warning-box p, .warning-box li { color: var(--text-secondary); }

        /* Step List */
        .step-list {
            list-style: none;
            padding: 0;
            margin: 18px 0;
        }

        .step-list li {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            padding: 16px 0;
            border-bottom: 1px solid var(--border-subtle);
        }

        .step-list li:last-child { border-bottom: none; }

        .step-number {
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.9rem;
            flex-shrink: 0;
        }

        .step-content {
            flex: 1;
        }

        .step-content strong {
            color: var(--text-primary);
            display: block;
            margin-bottom: 5px;
        }

        .step-content p {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.6;
        }

        /* Quick Reference */
        .quick-ref {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-card) 100%);
            border: 1px solid var(--border-subtle);
            padding: 28px;
            border-radius: 16px;
            margin-top: 30px;
            font-family: 'JetBrains Mono', monospace;
            scroll-margin-top: 75px;
        }

        .quick-ref h3 { color: var(--accent-amber); margin-bottom: 18px; font-family: 'Plus Jakarta Sans', sans-serif; }
        .quick-ref pre { background: rgba(0,0,0,0.4); border: 1px solid var(--border-subtle); padding: 20px; border-radius: 10px; overflow-x: auto; font-size: 0.85rem; line-height: 1.7; color: var(--text-secondary); }

        /* ====== AGENT OPPORTUNITIES STYLES ====== */
        .agent-header {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            padding: 35px;
            border-radius: 16px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .agent-header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background:
                radial-gradient(ellipse at 20% 20%, rgba(139, 92, 246, 0.12) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(245, 158, 11, 0.1) 0%, transparent 50%);
            pointer-events: none;
        }

        .agent-header h1 {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 10px;
            position: relative;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-header .subtitle { color: var(--text-secondary); font-size: 1.1rem; position: relative; }

        /* Heat Map */
        .heat-map-container { margin-bottom: 35px; }
        .heat-map-title { font-size: 1.3rem; font-weight: 700; color: var(--text-primary); margin-bottom: 20px; display: flex; align-items: center; gap: 12px; }

        .heat-map-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .heat-item {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 20px;
            position: relative;
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
        }

        .heat-item:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .heat-item:active { transform: scale(0.98); }

        .heat-item::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; height: 4px;
        }

        .heat-item.critical::before { background: linear-gradient(90deg, #ef4444, #f97316); }
        .heat-item.high::before { background: linear-gradient(90deg, #f97316, #eab308); }
        .heat-item.medium::before { background: linear-gradient(90deg, #eab308, #22c55e); }
        .heat-item.low::before { background: linear-gradient(90deg, #22c55e, #14b8a6); }

        .heat-score {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.8rem;
            font-weight: 800;
        }

        .heat-item.critical .heat-score { color: #ef4444; }
        .heat-item.high .heat-score { color: #f97316; }
        .heat-item.medium .heat-score { color: #eab308; }
        .heat-item.low .heat-score { color: #22c55e; }

        .heat-name { font-size: 1rem; font-weight: 700; color: var(--text-primary); margin-bottom: 6px; padding-right: 50px; }
        .heat-desc { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px; }

        .heat-metrics { display: flex; gap: 15px; margin-top: 12px; }
        .heat-metric { font-size: 0.75rem; color: var(--text-muted); }
        .heat-metric span { color: var(--text-secondary); font-weight: 600; }

        /* Agent Cards */
        .agent-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)); gap: 25px; margin-bottom: 35px; }

        .agent-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
            scroll-margin-top: 75px;
        }

        .agent-card:hover { transform: translateY(-5px); box-shadow: 0 15px 50px rgba(0,0,0,0.3); }

        .agent-card.highlight {
            animation: highlightPulse 2s ease;
            box-shadow: 0 0 0 3px var(--accent-purple), 0 15px 50px rgba(139, 92, 246, 0.4);
        }

        @keyframes highlightPulse {
            0% { box-shadow: 0 0 0 3px var(--accent-purple), 0 15px 50px rgba(139, 92, 246, 0.6); }
            50% { box-shadow: 0 0 0 6px rgba(139, 92, 246, 0.5), 0 15px 50px rgba(139, 92, 246, 0.3); }
            100% { box-shadow: 0 0 0 0px transparent, 0 15px 50px rgba(0,0,0,0.3); }
        }

        .agent-card-header {
            padding: 22px;
            display: flex;
            align-items: flex-start;
            gap: 18px;
            border-bottom: 1px solid var(--border-subtle);
        }

        .agent-icon {
            width: 55px;
            height: 55px;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.6rem;
            flex-shrink: 0;
        }

        .agent-info { flex: 1; }
        .agent-name { font-size: 1.15rem; font-weight: 700; color: var(--text-primary); margin-bottom: 5px; }
        .agent-type { font-size: 0.8rem; color: var(--accent-purple); font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }

        .agent-priority {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
        }

        .agent-priority.critical { background: rgba(239, 68, 68, 0.15); color: #ef4444; }
        .agent-priority.high { background: rgba(249, 115, 22, 0.15); color: #f97316; }
        .agent-priority.medium { background: rgba(234, 179, 8, 0.15); color: #eab308; }
        .agent-priority.low { background: rgba(34, 197, 94, 0.15); color: #22c55e; }

        .agent-card-body { padding: 22px; }
        .agent-description { font-size: 0.95rem; color: var(--text-secondary); line-height: 1.6; margin-bottom: 20px; }

        .agent-flow {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            padding: 18px;
            margin-bottom: 20px;
        }

        .agent-flow-title { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }

        .agent-flow-diagram { display: flex; align-items: center; flex-wrap: wrap; gap: 8px; justify-content: center; }

        .agent-step {
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
            color: white;
            padding: 8px 14px;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 600;
            white-space: nowrap;
        }

        .agent-arrow { color: var(--accent-purple); font-size: 1.2rem; }

        .agent-stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }

        .agent-stat {
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            padding: 12px;
            text-align: center;
        }

        .agent-stat-value {
            font-size: 1.3rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-stat-label { font-size: 0.7rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.05em; margin-top: 4px; }

        .agent-prompt-btn {
            width: 100%;
            margin-top: 18px;
            padding: 14px 20px;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(59, 130, 246, 0.2) 100%);
            border: 1px solid rgba(139, 92, 246, 0.4);
            border-radius: 10px;
            color: var(--accent-purple);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-size: 0.9rem;
        }

        .agent-prompt-btn:hover {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.3) 0%, rgba(59, 130, 246, 0.3) 100%);
            border-color: var(--accent-purple);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.25);
        }

        /* Summary Stats */
        .agent-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 35px;
        }

        .agent-summary-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 14px;
            padding: 25px;
            text-align: center;
        }

        .agent-summary-value {
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-summary-label { font-size: 0.9rem; color: var(--text-muted); margin-top: 8px; }

        /* Heat Map Legend */
        .heat-legend {
            display: flex;
            gap: 25px;
            padding: 18px 22px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .heat-legend-item { display: flex; align-items: center; gap: 10px; font-size: 0.9rem; color: var(--text-secondary); }
        .heat-legend-color { width: 24px; height: 24px; border-radius: 6px; }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(10, 15, 26, 0.9);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            padding: 20px;
            backdrop-filter: blur(5px);
        }

        .modal-overlay.show { display: flex; }

        .modal {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            width: 100%;
            max-width: 950px;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
            box-shadow: 0 25px 80px rgba(0,0,0,0.5);
        }

        .modal-header {
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            padding: 22px 28px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 16px 16px 0 0;
        }

        .modal-header h3 { font-size: 1.25rem; font-weight: 700; }
        .modal-actions { display: flex; gap: 12px; }

        .modal-btn {
            padding: 10px 18px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 700;
            transition: transform 0.2s;
            font-size: 0.9rem;
        }

        .modal-btn:hover { transform: scale(1.05); }
        .modal-btn.copy { background: white; color: var(--accent-blue); }
        .modal-btn.close { background: rgba(255,255,255,0.2); color: white; }

        .modal-body { padding: 28px; overflow-y: auto; flex: 1; }

        .modal-body pre {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            padding: 22px;
            border-radius: 10px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            line-height: 1.7;
            white-space: pre-wrap;
            word-wrap: break-word;
            color: var(--text-secondary);
        }

        .copy-success {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--accent-green);
            color: white;
            padding: 18px 35px;
            border-radius: 10px;
            font-weight: 700;
            z-index: 3000;
            display: none;
            animation: fadeInOut 2s ease;
        }

        @keyframes fadeInOut { 0%, 100% { opacity: 0; } 10%, 90% { opacity: 1; } }

        /* Prompt Modal */
        .prompt-modal .modal {
            max-width: 800px;
        }

        .prompt-modal .modal-header {
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
        }

        .prompt-section {
            margin-bottom: 25px;
        }

        .prompt-section h4 {
            color: var(--accent-purple);
            font-size: 1rem;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .prompt-box {
            background: rgba(0,0,0,0.4);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            padding: 20px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            line-height: 1.7;
            color: var(--text-secondary);
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .prompt-tags {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .prompt-tag {
            background: rgba(139, 92, 246, 0.15);
            color: var(--accent-purple);
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        @media (max-width: 900px) {
            .sidebar { display: none; }
            .main-content { margin-left: 0; padding: 75px 20px 30px 20px; }
            .agent-grid { grid-template-columns: 1fr; }
        }
            .breadcrumb-logo-link { display: flex; align-items: center; padding: 4px 8px; background: rgba(255,255,255,0.08); border-radius: 8px; border: 1px solid rgba(255,255,255,0.12); transition: all 0.2s; }
        .breadcrumb-logo-link:hover { background: rgba(255,255,255,0.15); }
        .breadcrumb-logo { height: 28px; width: auto; }
    </style>
</head>
<body>
    <!-- Breadcrumb -->
    <nav class="breadcrumb">
        <a href="../../index.html" class="breadcrumb-logo-link"><img src="../../images/clear-ai-logo.png" alt="Clear AI" class="breadcrumb-logo"></a>
        <a href="../../index.html">Portal Home</a>
        <span class="separator">></span>
        <a href="./index.html">Byte</a>
        <span class="separator">></span>
        <span class="current">Adding Signature to Stored Docs</span>
    </nav>

    <!-- Fixed Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <h2>Adding Signature to Stored Docs</h2>
            <p>Interactive Workflow Guide</p>
        </div>

        <!-- Tab Switcher -->
        <div class="sidebar-tabs">
            <button class="sidebar-tab active" onclick="switchTab('workflow')">Workflow</button>
            <button class="sidebar-tab agent-tab" onclick="switchTab('agents')">AI Agents</button>
        </div>

        <!-- Workflow Navigation -->
        <nav class="sidebar-nav" id="workflow-nav">
            <a href="#section-0" class="nav-item active">
                <span class="nav-number">0</span>
                <span class="nav-label">Prerequisites</span>
            </a>
            <a href="#section-1" class="nav-item">
                <span class="nav-number">1</span>
                <span class="nav-label">Open Loan</span>
            </a>
            <a href="#section-2" class="nav-item">
                <span class="nav-number">2</span>
                <span class="nav-label">Print Menu</span>
            </a>
            <a href="#section-3" class="nav-item">
                <span class="nav-number">3</span>
                <span class="nav-label">Store Document</span>
            </a>
            <a href="#section-4" class="nav-item">
                <span class="nav-number">4</span>
                <span class="nav-label">Access Stored Docs</span>
            </a>
            <a href="#section-5" class="nav-item">
                <span class="nav-number">5</span>
                <span class="nav-label">Add Signature</span>
            </a>
            <a href="#quick-ref" class="nav-item">
                <span class="nav-number">*</span>
                <span class="nav-label">Quick Reference</span>
            </a>
        </nav>

        <!-- Agent Navigation -->
        <nav class="sidebar-nav" id="agents-nav" style="display: none;">
            <a href="#agent-summary" class="nav-item active">
                <span class="nav-number">S</span>
                <span class="nav-label">Summary</span>
            </a>
            <a href="#agent-heatmap" class="nav-item">
                <span class="nav-number">H</span>
                <span class="nav-label">Heat Map</span>
            </a>
            <a href="#agent-details" class="nav-item">
                <span class="nav-number">A</span>
                <span class="nav-label">Agent Details</span>
            </a>
        </nav>

        <div class="sidebar-footer">
            <button class="doc-btn" onclick="openDocModal()">
                View Workflow Markdown
            </button>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">

        <!-- ==================== WORKFLOW TAB ==================== -->
        <div id="workflow-panel" class="tab-panel active">
            <!-- Header -->
            <div class="header">
                <h1>Adding Signature to Document in Byte Stored Docs</h1>
                <p class="subtitle">Electronic Signature Workflow for Byte Documents</p>
                <div class="meta">
                    <span class="meta-item">System: Byte (BytePro Enterprise)</span>
                    <span class="meta-item">Role: Loan Officer / Processor</span>
                    <span class="meta-item">Updated: 12/10/2024</span>
                    <span class="meta-item">Duration: 2-5 min</span>
                </div>
            </div>

            <!-- Legend -->
            <div class="legend">
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #22c55e, #16a34a);"></div><span>Start/End</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #3b82f6, #2563eb);"></div><span>Action Step</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #f59e0b, #d97706);"></div><span>Decision Point</span></div>
                <div class="legend-item"><div class="legend-color" style="background: #111827; border: 2px solid #3b82f6;"></div><span>User Input</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #f43f5e, #dc2626);"></div><span>Warning</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #14b8a6, #0d9488);"></div><span>Output</span></div>
            </div>

            <!-- Section 0: Prerequisites -->
            <section id="section-0" class="section">
                <div class="section-header">
                    <div class="section-number">0</div>
                    <div class="section-title"><h2>Prerequisites - Signature Setup</h2><span>One-time setup before signing documents</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node start">Start</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node decision">Signature in Byte?</div>
                        </div>
                        <div class="decision-branch">
                            <div class="branch">
                                <span class="branch-label">NO - Need Setup</span>
                                <span class="flow-arrow down">|</span>
                                <div class="flow-node action">Download Worksheet</div>
                                <span class="flow-arrow down">|</span>
                                <div class="flow-node input">Complete Form</div>
                                <span class="flow-arrow down">|</span>
                                <div class="flow-node action">Email to bytesupport@cmgfi.com</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">YES - Ready</span>
                                <span class="flow-arrow down">|</span>
                                <div class="flow-node output">Proceed to Step 1</div>
                            </div>
                        </div>
                    </div>

                    <div class="info-box">
                        <h4>Signature Setup Process</h4>
                        <p>Before you can sign documents in Byte, your signature must be preloaded in the system:</p>
                        <ul style="margin-top: 10px; margin-left: 20px;">
                            <li style="margin-bottom: 8px;">Download the <strong>"Signature to Store in Byte"</strong> worksheet</li>
                            <li style="margin-bottom: 8px;">Follow the instructions on the worksheet</li>
                            <li style="margin-bottom: 8px;">Send the completed form to <strong>bytesupport@cmgfi.com</strong></li>
                            <li>Wait for confirmation that your signature has been uploaded</li>
                        </ul>
                    </div>

                    <div class="warning-box">
                        <h4>CMG Electronic Signature Policy</h4>
                        <p>Always follow the <strong>CMG Electronic Signature Policy</strong> when using your electronic signature on CMG documents. Only sign documents that are authorized for electronic signature.</p>
                    </div>
                </div>
            </section>

            <!-- Section 1: Open Loan -->
            <section id="section-1" class="section">
                <div class="section-header">
                    <div class="section-number">1</div>
                    <div class="section-title"><h2>Open the Loan in Byte</h2><span>Access the loan file from the pipeline</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node start">Start</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Open Byte Pipeline</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Locate Loan File</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Double-Click to Open</div>
                        </div>
                    </div>

                    <ul class="step-list">
                        <li>
                            <span class="step-number">1</span>
                            <div class="step-content">
                                <strong>Access the Pipeline</strong>
                                <p>Open Byte and navigate to your pipeline view where you can see all your loan files.</p>
                            </div>
                        </li>
                        <li>
                            <span class="step-number">2</span>
                            <div class="step-content">
                                <strong>Locate the Loan</strong>
                                <p>Find the loan file you need to sign documents for. You can use Search or scroll through the pipeline.</p>
                            </div>
                        </li>
                        <li>
                            <span class="step-number">3</span>
                            <div class="step-content">
                                <strong>Open the Loan</strong>
                                <p><strong>Double-click</strong> the loan from the pipeline to open it in Byte.</p>
                            </div>
                        </li>
                    </ul>

                    <div class="tip-box">
                        <h4>Pro Tip</h4>
                        <p>Use the Search function with the file name or borrower name to quickly locate your loan in a large pipeline.</p>
                    </div>
                </div>
            </section>

            <!-- Section 2: Print Menu -->
            <section id="section-2" class="section">
                <div class="section-header">
                    <div class="section-number">2</div>
                    <div class="section-title"><h2>Access Print Menu</h2><span>Navigate to the document print/store interface</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Click Printer Icon</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Print Menu Opens</div>
                        </div>
                    </div>

                    <ul class="step-list">
                        <li>
                            <span class="step-number">1</span>
                            <div class="step-content">
                                <strong>Locate the Printer Icon</strong>
                                <p>On the <strong>Main Window toolbar</strong>, find and click the <strong>Printer icon</strong>.</p>
                            </div>
                        </li>
                        <li>
                            <span class="step-number">2</span>
                            <div class="step-content">
                                <strong>Print Menu Opens</strong>
                                <p>The Print menu will open, displaying Available Documents and Selected Documents panels.</p>
                            </div>
                        </li>
                    </ul>

                    <div class="info-box">
                        <h4>Print Menu Layout</h4>
                        <p>The Print menu contains two main sections:</p>
                        <ul style="margin-top: 10px; margin-left: 20px;">
                            <li style="margin-bottom: 5px;"><strong>Available Documents</strong> - Browse or Search for documents</li>
                            <li><strong>Selected Documents</strong> - Documents ready for Print, Preview, Email, PDF, Store, or E-Sign</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Section 3: Store Document -->
            <section id="section-3" class="section">
                <div class="section-header">
                    <div class="section-number">3</div>
                    <div class="section-title"><h2>Select and Store Document</h2><span>Find the document and send it to Stored Documents</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Select "Search" Radio</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node input">Search for Document</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Check Document Box</div>
                        </div>
                        <div class="flow-row">
                            <span class="flow-arrow down">|</span>
                        </div>
                        <div class="flow-row">
                            <div class="flow-node action">Click "Store" Icon</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node decision">Password Protection?</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node input">Name Document</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Click OK</div>
                        </div>
                    </div>

                    <ul class="step-list">
                        <li>
                            <span class="step-number">1</span>
                            <div class="step-content">
                                <strong>Search for Document</strong>
                                <p>Select the <strong>radio button next to "Search"</strong>. Enter the document name you wish to sign (e.g., "Pre-Qual letter by LO").</p>
                            </div>
                        </li>
                        <li>
                            <span class="step-number">2</span>
                            <div class="step-content">
                                <strong>Select the Document</strong>
                                <p>Click the <strong>checkbox</strong> next to the desired letter/document to select it.</p>
                            </div>
                        </li>
                        <li>
                            <span class="step-number">3</span>
                            <div class="step-content">
                                <strong>Store the Document</strong>
                                <p>Click the <strong>Store icon</strong>. This loads the document to Stored Documents.</p>
                            </div>
                        </li>
                        <li>
                            <span class="step-number">4</span>
                            <div class="step-content">
                                <strong>Choose Password Protection</strong>
                                <p>A PDF Options dialog appears. Choose your password protection preference:</p>
                                <ul style="margin-top: 8px; margin-left: 20px;">
                                    <li style="margin-bottom: 5px;"><strong>Protect Documents with a Password</strong> - 256-bit AES2 encryption</li>
                                    <li><strong>Do not Protect Documents with a Password</strong> - No encryption (not recommended for public networks)</li>
                                </ul>
                            </div>
                        </li>
                        <li>
                            <span class="step-number">5</span>
                            <div class="step-content">
                                <strong>Name the Document</strong>
                                <p>A Byte pop-up appears prompting you to enter a name for the output file. Enter a descriptive name and click <strong>OK</strong>.</p>
                            </div>
                        </li>
                        <li>
                            <span class="step-number">6</span>
                            <div class="step-content">
                                <strong>Confirm and Close</strong>
                                <p>A confirmation pop-up appears noting the document was added. Click <strong>OK</strong>, then <strong>close the Print Menu</strong>.</p>
                            </div>
                        </li>
                    </ul>

                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Password Option</th>
                                <th>Security Level</th>
                                <th>Use Case</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong style="color: var(--text-primary);">Password Protected</strong></td>
                                <td><span class="badge required-badge">256-bit AES2</span></td>
                                <td>Recommended for sensitive documents or external sharing</td>
                            </tr>
                            <tr>
                                <td><strong style="color: var(--text-primary);">No Password</strong></td>
                                <td><span class="badge optional-badge">None</span></td>
                                <td>Internal use only, not for public email networks</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Section 4: Access Stored Documents -->
            <section id="section-4" class="section">
                <div class="section-header">
                    <div class="section-number">4</div>
                    <div class="section-title"><h2>Access Stored Documents</h2><span>Navigate to and open the stored document</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Open Left Navigation</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Favorites or All Screens</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Select "Stored Documents"</div>
                        </div>
                        <div class="flow-row">
                            <span class="flow-arrow down">|</span>
                        </div>
                        <div class="flow-row">
                            <div class="flow-node action">Locate Document</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node decision">Password Required?</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Double-Click to Open</div>
                        </div>
                    </div>

                    <ul class="step-list">
                        <li>
                            <span class="step-number">1</span>
                            <div class="step-content">
                                <strong>Open Stored Documents</strong>
                                <p>In the <strong>Left Navigation</strong>, go to <strong>Favorites</strong> or <strong>All Screens</strong> and select <strong>Stored Documents</strong>.</p>
                            </div>
                        </li>
                        <li>
                            <span class="step-number">2</span>
                            <div class="step-content">
                                <strong>Locate Your Document</strong>
                                <p>Find the document you just stored. You can use the Search field or browse the document tabs (APP, DISC, CRED, INC, ASSET, etc.).</p>
                            </div>
                        </li>
                        <li>
                            <span class="step-number">3</span>
                            <div class="step-content">
                                <strong>Open the Document</strong>
                                <p><strong>Double-click</strong> to open the letter or document you wish to sign.</p>
                            </div>
                        </li>
                        <li>
                            <span class="step-number">4</span>
                            <div class="step-content">
                                <strong>Enter Password (if applicable)</strong>
                                <p>If you added a password when storing the document, you will be required to enter it before the document opens.</p>
                            </div>
                        </li>
                    </ul>

                    <div class="tip-box">
                        <h4>Document Categories</h4>
                        <p>Stored Documents are organized by tabs: <strong>All, APP, DISC, CRED, INC, ASSET, PROP, DOCS, GOV, TITLE, BOND SUB FIN, MCC, RENO, CONST, MISC, PTF DOCS, AUDIT, CORR, WHS, POST CLSNG, Unsigned</strong></p>
                    </div>
                </div>
            </section>

            <!-- Section 5: Add Signature -->
            <section id="section-5" class="section">
                <div class="section-header">
                    <div class="section-number">5</div>
                    <div class="section-title"><h2>Add Signature to Document</h2><span>Apply your electronic signature using the Pen tool</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Click Signature Icon</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node input">Position Cursor</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Click to Place</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Click "Close" to Save</div>
                        </div>
                    </div>

                    <ul class="step-list">
                        <li>
                            <span class="step-number">1</span>
                            <div class="step-content">
                                <strong>Access the Signature Tool</strong>
                                <p>With the document open, locate and click on the <strong>Signature icon</strong> (Pen tool) in the document viewer toolbar.</p>
                            </div>
                        </li>
                        <li>
                            <span class="step-number">2</span>
                            <div class="step-content">
                                <strong>Position Your Signature</strong>
                                <p>Move your cursor to where you want the signature to appear on the document.</p>
                            </div>
                        </li>
                        <li>
                            <span class="step-number">3</span>
                            <div class="step-content">
                                <strong>Place the Signature</strong>
                                <p>Click to place your electronic signature at the cursor location.</p>
                            </div>
                        </li>
                        <li>
                            <span class="step-number">4</span>
                            <div class="step-content">
                                <strong>Save the Document</strong>
                                <p>Click <strong>Close</strong> to save the signature to the document.</p>
                            </div>
                        </li>
                    </ul>

                    <div class="exception-box">
                        <h4>CRITICAL: Signatures are Permanent</h4>
                        <p>Added signatures become a <strong>permanent part of the document and cannot be deleted</strong>. Make sure you are placing your signature in the correct location before clicking.</p>
                    </div>

                    <div class="info-box">
                        <h4>Annotation Details</h4>
                        <p>After signing, the document will show annotation details including:</p>
                        <ul style="margin-top: 10px; margin-left: 20px;">
                            <li style="margin-bottom: 5px;"><strong>Last Modified</strong> - Date and time of signature</li>
                            <li><strong>By</strong> - Name of the person who signed</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Quick Reference -->
            <section id="quick-ref" class="quick-ref">
                <h3>Quick Reference Card</h3>
                <pre>
SIGNATURE SETUP (One-Time):
1. Download "Signature to Store in Byte" worksheet
2. Complete form per instructions
3. Email to bytesupport@cmgfi.com
4. Wait for upload confirmation

SIGNING WORKFLOW:
1. Pipeline -> Double-click loan to open
2. Main Toolbar -> Click Printer icon
3. Print Menu:
   - Select "Search" radio button
   - Search for document (e.g., "Pre-Qual")
   - Check document box
   - Click "Store" icon
   - Choose password protection
   - Name document -> OK
   - Close Print Menu
4. Left Nav -> Favorites/All Screens -> Stored Documents
5. Double-click document to open (enter password if set)
6. Click Signature icon (Pen tool)
7. Position cursor -> Click to place signature
8. Click Close to save

WARNING: Signatures are PERMANENT and cannot be removed!

DOCUMENT TABS:
APP | DISC | CRED | INC | ASSET | PROP | DOCS | GOV | TITLE
BOND SUB FIN | MCC | RENO | CONST | MISC | PTF DOCS | AUDIT
CORR | WHS | POST CLSNG | Unsigned

SUPPORT: bytesupport@cmgfi.com
                </pre>
            </section>
        </div>

        <!-- ==================== AGENT OPPORTUNITIES TAB ==================== -->
        <div id="agents-panel" class="tab-panel">
            <!-- Header -->
            <div class="agent-header">
                <h1>AI Agent Opportunities</h1>
                <p class="subtitle">Automation Analysis for Document Signature Workflow</p>
                <div class="meta">
                    <span class="meta-item">6 Process Steps Analyzed</span>
                    <span class="meta-item">4 Agent Candidates Identified</span>
                    <span class="meta-item">Est. 60% Time Savings</span>
                </div>
            </div>

            <!-- Summary Stats -->
            <div class="agent-summary" id="agent-summary">
                <div class="agent-summary-card">
                    <div class="agent-summary-value">4</div>
                    <div class="agent-summary-label">Agent Candidates</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">2</div>
                    <div class="agent-summary-label">High Priority</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">60%</div>
                    <div class="agent-summary-label">Time Savings</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">90%</div>
                    <div class="agent-summary-label">Automation Potential</div>
                </div>
            </div>

            <!-- Heat Map Legend -->
            <div class="heat-legend" id="agent-heatmap">
                <div class="heat-legend-item"><div class="heat-legend-color" style="background: linear-gradient(135deg, #ef4444, #f97316);"></div><span><strong>Critical (90-100)</strong> - Immediate ROI</span></div>
                <div class="heat-legend-item"><div class="heat-legend-color" style="background: linear-gradient(135deg, #f97316, #eab308);"></div><span><strong>High (70-89)</strong> - Strong candidate</span></div>
                <div class="heat-legend-item"><div class="heat-legend-color" style="background: linear-gradient(135deg, #eab308, #22c55e);"></div><span><strong>Medium (50-69)</strong> - Consider</span></div>
                <div class="heat-legend-item"><div class="heat-legend-color" style="background: linear-gradient(135deg, #22c55e, #14b8a6);"></div><span><strong>Low (0-49)</strong> - Future phase</span></div>
            </div>

            <!-- Heat Map Grid -->
            <div class="heat-map-container">
                <div class="heat-map-title">Automation Priority Heat Map <span style="font-size: 0.8rem; font-weight: 400; color: var(--text-muted);">(Click to jump to agent)</span></div>
                <div class="heat-map-grid">
                    <div class="heat-item critical" onclick="scrollToAgent('agent-autosign')" title="Click to view agent details">
                        <div class="heat-score">95</div>
                        <div class="heat-name">Auto-Sign Agent</div>
                        <div class="heat-desc">Automatically place signature on pre-defined document locations</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Effort: <span>Low</span></div>
                            <div class="heat-metric">Impact: <span>High</span></div>
                            <div class="heat-metric">Step: <span>5</span></div>
                        </div>
                    </div>
                    <div class="heat-item high" onclick="scrollToAgent('agent-docprep')" title="Click to view agent details">
                        <div class="heat-score">85</div>
                        <div class="heat-name">Document Prep Agent</div>
                        <div class="heat-desc">Auto-generate and store documents from templates</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Effort: <span>Medium</span></div>
                            <div class="heat-metric">Impact: <span>High</span></div>
                            <div class="heat-metric">Step: <span>3</span></div>
                        </div>
                    </div>
                    <div class="heat-item medium" onclick="scrollToAgent('agent-sigtracker')" title="Click to view agent details">
                        <div class="heat-score">68</div>
                        <div class="heat-name">Signature Tracker</div>
                        <div class="heat-desc">Monitor unsigned documents and send reminders</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Effort: <span>Low</span></div>
                            <div class="heat-metric">Impact: <span>Medium</span></div>
                            <div class="heat-metric">Step: <span>All</span></div>
                        </div>
                    </div>
                    <div class="heat-item medium" onclick="scrollToAgent('agent-compliance')" title="Click to view agent details">
                        <div class="heat-score">62</div>
                        <div class="heat-name">Compliance Validator</div>
                        <div class="heat-desc">Verify signature placement meets policy requirements</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Effort: <span>Medium</span></div>
                            <div class="heat-metric">Impact: <span>Medium</span></div>
                            <div class="heat-metric">Step: <span>5</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Agent Details -->
            <h2 style="font-size: 1.4rem; margin: 35px 0 22px; color: var(--text-primary);" id="agent-details">Agent Specifications</h2>

            <div class="agent-grid">
                <!-- Agent 1: Auto-Sign Agent -->
                <div class="agent-card" id="agent-autosign">
                    <div class="agent-card-header">
                        <div class="agent-icon">S</div>
                        <div class="agent-info">
                            <div class="agent-name">Auto-Sign Agent</div>
                            <div class="agent-type">Document Automation Agent</div>
                        </div>
                        <span class="agent-priority critical">Critical</span>
                    </div>
                    <div class="agent-card-body">
                        <p class="agent-description">Automatically detects signature fields on standard documents and places the user's pre-loaded signature in the correct locations. Eliminates manual positioning and reduces signing time from minutes to seconds.</p>
                        <div class="agent-flow">
                            <div class="agent-flow-title">Agent Flow</div>
                            <div class="agent-flow-diagram">
                                <div class="agent-step">Detect Doc Type</div>
                                <span class="agent-arrow">-></span>
                                <div class="agent-step">Find Sig Fields</div>
                                <span class="agent-arrow">-></span>
                                <div class="agent-step">Place Signature</div>
                                <span class="agent-arrow">-></span>
                                <div class="agent-step">Verify & Save</div>
                            </div>
                        </div>
                        <div class="agent-stats">
                            <div class="agent-stat"><div class="agent-stat-value">2min</div><div class="agent-stat-label">Time Saved</div></div>
                            <div class="agent-stat"><div class="agent-stat-value">99%</div><div class="agent-stat-label">Accuracy</div></div>
                            <div class="agent-stat"><div class="agent-stat-value">Low</div><div class="agent-stat-label">Complexity</div></div>
                        </div>
                        <button class="agent-prompt-btn" onclick="showAgentPrompt('autosign')">
                            View AI Prompt to Build This Agent
                        </button>
                    </div>
                </div>

                <!-- Agent 2: Document Prep Agent -->
                <div class="agent-card" id="agent-docprep">
                    <div class="agent-card-header">
                        <div class="agent-icon">D</div>
                        <div class="agent-info">
                            <div class="agent-name">Document Prep Agent</div>
                            <div class="agent-type">Workflow Automation Agent</div>
                        </div>
                        <span class="agent-priority high">High</span>
                    </div>
                    <div class="agent-card-body">
                        <p class="agent-description">Automatically generates documents from templates based on loan milestones, stores them with appropriate naming conventions, and queues them for signature. Reduces document preparation from 5+ steps to 1 click.</p>
                        <div class="agent-flow">
                            <div class="agent-flow-title">Agent Flow</div>
                            <div class="agent-flow-diagram">
                                <div class="agent-step">Milestone Trigger</div>
                                <span class="agent-arrow">-></span>
                                <div class="agent-step">Generate Doc</div>
                                <span class="agent-arrow">-></span>
                                <div class="agent-step">Auto-Store</div>
                                <span class="agent-arrow">-></span>
                                <div class="agent-step">Queue for Sig</div>
                            </div>
                        </div>
                        <div class="agent-stats">
                            <div class="agent-stat"><div class="agent-stat-value">5min</div><div class="agent-stat-label">Time Saved</div></div>
                            <div class="agent-stat"><div class="agent-stat-value">100%</div><div class="agent-stat-label">Consistent</div></div>
                            <div class="agent-stat"><div class="agent-stat-value">Med</div><div class="agent-stat-label">Complexity</div></div>
                        </div>
                        <button class="agent-prompt-btn" onclick="showAgentPrompt('docprep')">
                            View AI Prompt to Build This Agent
                        </button>
                    </div>
                </div>

                <!-- Agent 3: Signature Tracker -->
                <div class="agent-card" id="agent-sigtracker">
                    <div class="agent-card-header">
                        <div class="agent-icon">T</div>
                        <div class="agent-info">
                            <div class="agent-name">Signature Tracker Agent</div>
                            <div class="agent-type">Monitoring Agent</div>
                        </div>
                        <span class="agent-priority medium">Medium</span>
                    </div>
                    <div class="agent-card-body">
                        <p class="agent-description">Monitors all documents awaiting signature across the pipeline. Sends automated reminders, tracks aging, and provides dashboard visibility into signature status for compliance and audit purposes.</p>
                        <div class="agent-flow">
                            <div class="agent-flow-title">Agent Flow</div>
                            <div class="agent-flow-diagram">
                                <div class="agent-step">Scan Pipeline</div>
                                <span class="agent-arrow">-></span>
                                <div class="agent-step">Identify Unsigned</div>
                                <span class="agent-arrow">-></span>
                                <div class="agent-step">Check Age</div>
                                <span class="agent-arrow">-></span>
                                <div class="agent-step">Alert/Remind</div>
                            </div>
                        </div>
                        <div class="agent-stats">
                            <div class="agent-stat"><div class="agent-stat-value">24/7</div><div class="agent-stat-label">Monitoring</div></div>
                            <div class="agent-stat"><div class="agent-stat-value">0</div><div class="agent-stat-label">Missed Docs</div></div>
                            <div class="agent-stat"><div class="agent-stat-value">Low</div><div class="agent-stat-label">Complexity</div></div>
                        </div>
                        <button class="agent-prompt-btn" onclick="showAgentPrompt('sigtracker')">
                            View AI Prompt to Build This Agent
                        </button>
                    </div>
                </div>

                <!-- Agent 4: Compliance Validator -->
                <div class="agent-card" id="agent-compliance">
                    <div class="agent-card-header">
                        <div class="agent-icon">C</div>
                        <div class="agent-info">
                            <div class="agent-name">Compliance Validator Agent</div>
                            <div class="agent-type">Quality Assurance Agent</div>
                        </div>
                        <span class="agent-priority medium">Medium</span>
                    </div>
                    <div class="agent-card-body">
                        <p class="agent-description">Validates that signatures are properly placed according to CMG Electronic Signature Policy. Checks for correct signer, date, and placement. Flags non-compliant signatures before loan progression.</p>
                        <div class="agent-flow">
                            <div class="agent-flow-title">Agent Flow</div>
                            <div class="agent-flow-diagram">
                                <div class="agent-step">Scan Signed Doc</div>
                                <span class="agent-arrow">-></span>
                                <div class="agent-step">Check Policy</div>
                                <span class="agent-arrow">-></span>
                                <div class="agent-step">Validate</div>
                                <span class="agent-arrow">-></span>
                                <div class="agent-step">Pass/Flag</div>
                            </div>
                        </div>
                        <div class="agent-stats">
                            <div class="agent-stat"><div class="agent-stat-value">100%</div><div class="agent-stat-label">Compliance</div></div>
                            <div class="agent-stat"><div class="agent-stat-value">0</div><div class="agent-stat-label">Audit Issues</div></div>
                            <div class="agent-stat"><div class="agent-stat-value">Med</div><div class="agent-stat-label">Complexity</div></div>
                        </div>
                        <button class="agent-prompt-btn" onclick="showAgentPrompt('compliance')">
                            View AI Prompt to Build This Agent
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Documentation Modal -->
    <div class="modal-overlay" id="docModal">
        <div class="modal">
            <div class="modal-header">
                <h3>Adding Signature to Stored Docs - Workflow Markdown</h3>
                <div class="modal-actions">
                    <button class="modal-btn copy" onclick="copyToClipboard()">Copy</button>
                    <button class="modal-btn close" onclick="closeDocModal()">Close</button>
                </div>
            </div>
            <div class="modal-body">
                <pre id="docContent"># Adding Signature to Document in Byte Stored Docs

## Prerequisites - One-Time Setup

Before signing documents in Byte, your signature must be preloaded:

1. Download the "Signature to Store in Byte" worksheet
2. Follow the instructions on the worksheet
3. Send completed form to: bytesupport@cmgfi.com
4. Wait for confirmation that your signature has been uploaded

**IMPORTANT:** Follow the CMG Electronic Signature Policy when using your electronic signature.

## Step 1: Open the Loan

1. Access the Byte Pipeline
2. Locate the loan file
3. **Double-click** the loan to open it

## Step 2: Access Print Menu

1. Click the **Printer icon** on the Main Window toolbar
2. The Print menu will open

## Step 3: Select and Store Document

1. Select the **radio button next to "Search"**
2. Search for the document (e.g., "Pre-Qual letter by LO")
3. Click the **checkbox** next to the desired document
4. Click the **Store icon**
5. Choose password protection:
   - Protected (256-bit AES2 encryption) - Recommended
   - Not Protected - Internal use only
6. Name the document and click **OK**
7. Click **OK** on confirmation, then close Print Menu

## Step 4: Access Stored Documents

1. Open **Left Navigation**
2. Go to **Favorites** or **All Screens**
3. Select **Stored Documents**
4. **Double-click** the document to open
5. Enter password if required

## Step 5: Add Signature

1. Click the **Signature icon** (Pen tool)
2. Position cursor where signature should appear
3. Click to place signature
4. Click **Close** to save

**WARNING:** Signatures are PERMANENT and cannot be deleted!

## Support

Contact: bytesupport@cmgfi.com

---
*Updated: 12/10/2024*</pre>
            </div>
        </div>
    </div>

    <div class="copy-success" id="copySuccess">Copied to clipboard!</div>

    <!-- AI Prompt Modal -->
    <div class="modal-overlay prompt-modal" id="promptModal">
        <div class="modal">
            <div class="modal-header">
                <h3 id="promptModalTitle">AI Agent Build Prompt</h3>
                <div class="modal-actions">
                    <button class="modal-btn copy" onclick="copyPromptToClipboard()">Copy Prompt</button>
                    <button class="modal-btn close" onclick="closePromptModal()">Close</button>
                </div>
            </div>
            <div class="modal-body">
                <div class="prompt-tags" id="promptTags"></div>
                <div class="prompt-section">
                    <h4>Agent Purpose</h4>
                    <div class="prompt-box" id="promptPurpose"></div>
                </div>
                <div class="prompt-section">
                    <h4>Full Build Prompt</h4>
                    <div class="prompt-box" id="promptContent"></div>
                </div>
                <div class="prompt-section">
                    <h4>Integration Points</h4>
                    <div class="prompt-box" id="promptIntegration"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Scroll-spy with click debounce
        let isScrolling = false;
        let scrollTimeout = null;

        // Tab switching
        function switchTab(tab) {
            document.querySelectorAll('.sidebar-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));

            if (tab === 'workflow') {
                document.querySelector('.sidebar-tab:not(.agent-tab)').classList.add('active');
                document.getElementById('workflow-panel').classList.add('active');
                document.getElementById('workflow-nav').style.display = 'block';
                document.getElementById('agents-nav').style.display = 'none';
            } else {
                document.querySelector('.sidebar-tab.agent-tab').classList.add('active');
                document.getElementById('agents-panel').classList.add('active');
                document.getElementById('workflow-nav').style.display = 'none';
                document.getElementById('agents-nav').style.display = 'block';
            }

            window.scrollTo(0, 0);
        }

        // Scroll spy with debounce
        const sections = document.querySelectorAll('.section, .quick-ref');
        const navItems = document.querySelectorAll('#workflow-nav .nav-item');

        function updateActiveNav() {
            if (isScrolling) return;

            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100;
                if (window.scrollY >= sectionTop) current = section.getAttribute('id');
            });
            navItems.forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('href') === '#' + current) item.classList.add('active');
            });
        }

        // Add click handler to nav items with debounce
        navItems.forEach(item => {
            item.addEventListener('click', function(e) {
                isScrolling = true;

                // Clear any existing timeout
                if (scrollTimeout) clearTimeout(scrollTimeout);

                // Set timeout to re-enable scroll spy after 1 second
                scrollTimeout = setTimeout(() => {
                    isScrolling = false;
                }, 1000);

                // Manually set active state immediately
                navItems.forEach(nav => nav.classList.remove('active'));
                this.classList.add('active');
            });
        });

        window.addEventListener('scroll', updateActiveNav);

        // Scroll to agent from heat map
        function scrollToAgent(agentId) {
            switchTab('agents');
            setTimeout(() => {
                const agent = document.getElementById(agentId);
                if (agent) {
                    agent.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    agent.classList.add('highlight');
                    setTimeout(() => agent.classList.remove('highlight'), 2000);
                }
            }, 100);
        }

        // Modal functions
        function openDocModal() {
            document.getElementById('docModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closeDocModal() {
            document.getElementById('docModal').classList.remove('show');
            document.body.style.overflow = '';
        }

        async function copyToClipboard() {
            try {
                await navigator.clipboard.writeText(document.getElementById('docContent').textContent);
                const success = document.getElementById('copySuccess');
                success.style.display = 'block';
                setTimeout(() => { success.style.display = 'none'; }, 2000);
            } catch (e) { alert('Failed to copy.'); }
        }

        document.addEventListener('keydown', (e) => { if (e.key === 'Escape') { closeDocModal(); closePromptModal(); } });
        document.getElementById('docModal').addEventListener('click', (e) => { if (e.target.id === 'docModal') closeDocModal(); });

        document.addEventListener('DOMContentLoaded', () => { updateActiveNav(); });

        // Agent Prompt System
        const agentPrompts = {
            autosign: {
                name: 'Auto-Sign Agent',
                tags: ['Document Automation', 'Signature', 'Low Complexity', 'Critical Priority'],
                purpose: `This agent automatically detects signature fields on standard Byte documents and places the user's pre-loaded electronic signature in the correct locations, reducing signing time from minutes to seconds while ensuring consistent placement.`,
                prompt: `You are building a Document Automation Agent for CMG Financial's Byte system.

AGENT NAME: Auto-Sign Agent
TYPE: Document Automation / Signature Placement

OBJECTIVE:
Create an agent that automatically identifies signature fields on standard CMG documents stored in Byte and places the user's pre-loaded electronic signature in the correct locations.

INPUT DATA:
1. Document Type (Pre-Qual Letter, Pre-Approval Letter, etc.)
2. User's pre-loaded signature from Byte signature store
3. Document template signature field coordinates

SIGNATURE FIELD DETECTION:
- Pre-Qual Letter by LO: Bottom of letter, LO signature line
- Pre-Approval Letter: Bottom of letter, LO signature line
- Disclosure documents: Designated signature blocks

PROCESS FLOW:
1. User opens document in Stored Documents
2. Agent detects document type via header/template matching
3. Agent locates signature field coordinates from template map
4. Agent retrieves user's pre-loaded signature
5. Agent places signature at detected coordinates
6. Agent displays preview for user confirmation
7. User clicks "Confirm" to save or "Adjust" to manually reposition

VALIDATION RULES:
- Verify user has signature loaded in Byte (check bytesupport upload)
- Confirm document is authorized for e-signature per CMG policy
- Ensure signature placement doesn't overlap existing content
- Log all auto-sign actions for audit trail

OUTPUT:
{
  "documentId": "string",
  "signatureApplied": true/false,
  "signatureLocation": { "x": number, "y": number, "page": number },
  "timestamp": "ISO 8601",
  "signedBy": "username"
}

ERROR HANDLING:
- Document type not recognized: Prompt manual signature placement
- Signature not found: Direct user to bytesupport@cmgfi.com
- Multiple signature fields: Present list for user selection`,
                integration: `INTEGRATION POINTS:

1. Byte Document Viewer
   - Hook into document open event in Stored Documents
   - Access signature toolbar functions
   - Inject auto-sign button next to manual signature icon

2. Byte Signature Store
   - API call to retrieve user's pre-loaded signature
   - Validate signature exists before enabling auto-sign

3. Document Template Registry
   - Maintain mapping of document types to signature coordinates
   - Update registry when new templates are added

4. Audit Logging
   - Log all signature placements with timestamp, user, document
   - Integrate with compliance reporting system

DEPLOYMENT:
- Byte plugin/extension
- Server-side signature placement API
- Client-side preview and confirmation UI`
            },
            docprep: {
                name: 'Document Prep Agent',
                tags: ['Workflow Automation', 'Document Generation', 'Medium Complexity', 'High Priority'],
                purpose: `This agent automatically generates documents from templates based on loan milestones, stores them with appropriate naming conventions, and queues them for signature, reducing document preparation from multiple manual steps to a single automated workflow.`,
                prompt: `You are building a Workflow Automation Agent for CMG Financial's Byte system.

AGENT NAME: Document Prep Agent
TYPE: Workflow Automation / Document Generation

OBJECTIVE:
Create an agent that monitors loan milestones and automatically generates, stores, and queues documents for signature when specific triggers occur.

MILESTONE TRIGGERS:
1. Loan Created -> Generate Pre-Qual Letter
2. Credit Pulled -> Generate Pre-Approval Letter
3. Application Submitted -> Generate Initial Disclosures
4. Conditional Approval -> Generate Commitment Letter
5. Clear to Close -> Generate Final Disclosures

PROCESS FLOW:
1. Monitor loan status changes in Byte pipeline
2. Detect milestone trigger event
3. Pull loan data for document merge fields
4. Generate document from template with merged data
5. Apply naming convention: [BorrowerLastName]_[DocType]_[Date].pdf
6. Store document in Stored Documents with appropriate category
7. Add to signature queue with priority based on document type

DOCUMENT NAMING CONVENTION:
{LastName}_{DocumentType}_{YYYYMMDD}.pdf
Example: Smith_PreQualLetter_20241210.pdf

STORAGE CATEGORIES:
- Pre-Qual/Pre-Approval: APP tab
- Disclosures: DISC tab
- Commitment Letter: DOCS tab

VALIDATION:
- Verify all merge fields populated before generation
- Check document template version is current
- Confirm loan status allows document generation
- Flag any data quality issues for manual review

OUTPUT:
{
  "loanId": "string",
  "documentGenerated": "string",
  "storedLocation": "category/filename",
  "signatureRequired": true/false,
  "priority": "high/medium/low",
  "timestamp": "ISO 8601"
}`,
                integration: `INTEGRATION POINTS:

1. Byte Pipeline Events
   - Subscribe to loan status change webhooks
   - Monitor milestone completion events
   - Track document generation status

2. Document Template Engine
   - Access CMG document templates
   - Merge loan data into templates
   - Generate PDF output

3. Byte Stored Documents API
   - Programmatic document upload
   - Category assignment
   - Metadata tagging

4. Signature Queue System
   - Add documents to pending signature list
   - Assign priority and due dates
   - Notify assigned signer

DEPLOYMENT:
- Background service monitoring Byte events
- Template management admin interface
- Dashboard for document generation status`
            },
            sigtracker: {
                name: 'Signature Tracker Agent',
                tags: ['Monitoring', 'Compliance', 'Low Complexity', 'Medium Priority'],
                purpose: `This agent continuously monitors all documents awaiting signature across the loan pipeline, tracks aging, sends automated reminders, and provides dashboard visibility for compliance and audit purposes.`,
                prompt: `You are building a Monitoring Agent for CMG Financial's Byte system.

AGENT NAME: Signature Tracker Agent
TYPE: Monitoring / Compliance Tracking

OBJECTIVE:
Create an agent that monitors all unsigned documents in Byte Stored Documents, tracks their age, sends reminders to signers, and provides visibility into signature status across the pipeline.

MONITORING SCOPE:
- All documents in "Unsigned" tab across all loans
- Documents with signature fields but no signature applied
- Documents past expected signature timeline

AGING THRESHOLDS:
- Green (0-24 hours): New, no action needed
- Yellow (24-48 hours): Send first reminder
- Orange (48-72 hours): Send escalation reminder
- Red (72+ hours): Alert supervisor, flag for review

REMINDER WORKFLOW:
1. Scan Unsigned documents every hour
2. Calculate age from document creation timestamp
3. Check against aging thresholds
4. Send appropriate notification:
   - Email reminder to assigned signer
   - Teams/Slack notification
   - Dashboard alert

DASHBOARD METRICS:
- Total unsigned documents by category
- Average time to signature by document type
- Signers with most pending documents
- Loans at risk due to unsigned documents

NOTIFICATION TEMPLATE:
Subject: Signature Required: {DocumentName} for {BorrowerName}
Body:
Document awaiting your signature:
- Loan: {LoanNumber} - {BorrowerName}
- Document: {DocumentType}
- Created: {CreatedDate}
- Age: {Hours} hours

Click here to sign: [Link to document]

OUTPUT:
{
  "unsignedCount": number,
  "byAgeCategory": { "green": n, "yellow": n, "orange": n, "red": n },
  "remindersSent": number,
  "escalations": number
}`,
                integration: `INTEGRATION POINTS:

1. Byte Stored Documents
   - Query Unsigned tab across all loans
   - Read document metadata (creation date, type, assigned signer)
   - Track signature status changes

2. Notification Systems
   - Email (SMTP/Exchange)
   - Microsoft Teams webhook
   - Slack integration (optional)

3. Dashboard/Reporting
   - Power BI or Tableau integration
   - Real-time metrics API
   - Scheduled compliance reports

4. Escalation Workflow
   - Integration with supervisor notification
   - Compliance team alerts for aged items
   - Audit trail for all reminders sent

DEPLOYMENT:
- Scheduled job running every hour
- Real-time webhook for immediate tracking
- Admin panel for threshold configuration`
            },
            compliance: {
                name: 'Compliance Validator Agent',
                tags: ['Quality Assurance', 'Compliance', 'Medium Complexity', 'Medium Priority'],
                purpose: `This agent validates that all signatures are properly placed according to CMG Electronic Signature Policy, verifying correct signer, date, and placement before allowing loan progression.`,
                prompt: `You are building a Quality Assurance Agent for CMG Financial's Byte system.

AGENT NAME: Compliance Validator Agent
TYPE: Quality Assurance / Policy Compliance

OBJECTIVE:
Create an agent that validates all signed documents against CMG Electronic Signature Policy requirements, ensuring proper signer authorization, correct placement, and complete documentation before loan milestone progression.

VALIDATION RULES:

1. SIGNER AUTHORIZATION
   - Verify signer matches authorized user for document type
   - LO documents must be signed by assigned LO
   - Processor documents must be signed by assigned processor
   - Check against role permissions in Byte user profile

2. SIGNATURE PLACEMENT
   - Signature must be within designated signature field
   - No overlap with document content
   - Signature must be legible and complete
   - Date field must be populated if required

3. DOCUMENT COMPLETENESS
   - All required signature fields must be signed
   - Co-signer signatures present if applicable
   - Initial fields completed where required

4. POLICY COMPLIANCE
   - Document type is authorized for electronic signature
   - Signature applied during business hours (audit flag otherwise)
   - No tampering detected (hash validation)

VALIDATION PROCESS:
1. Document is signed and saved
2. Agent retrieves document and signature metadata
3. Run validation checks against all rules
4. Generate validation report:
   - PASS: Document approved for progression
   - FAIL: Document flagged with specific violations
5. Update document status in Byte

OUTPUT:
{
  "documentId": "string",
  "validationStatus": "PASS/FAIL",
  "violations": [
    { "rule": "string", "description": "string", "severity": "high/medium/low" }
  ],
  "validatedBy": "agent",
  "timestamp": "ISO 8601"
}

ERROR HANDLING:
- Signature tampering detected: Lock document, alert compliance
- Unauthorized signer: Reject signature, notify supervisor
- Missing required signatures: Return to signer with checklist`,
                integration: `INTEGRATION POINTS:

1. Byte Document Events
   - Hook into document save/close events
   - Monitor signature application events
   - Track document status changes

2. User Authorization System
   - Query Byte user profiles for role/permissions
   - Validate signer against loan assignment
   - Check document type authorization

3. Compliance Reporting
   - Log all validations with results
   - Generate compliance audit reports
   - Track violation trends over time

4. Loan Progression Gates
   - Block milestone progression on validation failure
   - Require manual override with supervisor approval
   - Document all overrides for audit

DEPLOYMENT:
- Real-time validation on document save
- Batch validation for historical documents
- Admin panel for rule management
- Compliance dashboard for monitoring`
            }
        };

        let currentPromptKey = '';

        function showAgentPrompt(key) {
            const prompt = agentPrompts[key];
            if (!prompt) return;

            currentPromptKey = key;
            document.getElementById('promptModalTitle').textContent = prompt.name + ' - Build Prompt';
            document.getElementById('promptTags').innerHTML = prompt.tags.map(tag => `<span class="prompt-tag">${tag}</span>`).join('');
            document.getElementById('promptPurpose').textContent = prompt.purpose;
            document.getElementById('promptContent').textContent = prompt.prompt;
            document.getElementById('promptIntegration').textContent = prompt.integration;
            document.getElementById('promptModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closePromptModal() {
            document.getElementById('promptModal').classList.remove('show');
            document.body.style.overflow = '';
        }

        async function copyPromptToClipboard() {
            const prompt = agentPrompts[currentPromptKey];
            if (!prompt) return;

            const fullPrompt = `${prompt.purpose}\n\n${prompt.prompt}\n\n${prompt.integration}`;
            try {
                await navigator.clipboard.writeText(fullPrompt);
                const success = document.getElementById('copySuccess');
                success.style.display = 'block';
                setTimeout(() => { success.style.display = 'none'; }, 2000);
            } catch (e) { alert('Failed to copy.'); }
        }

        document.getElementById('promptModal').addEventListener('click', (e) => { if (e.target.id === 'promptModal') closePromptModal(); });
    </script>
</body>
</html>
