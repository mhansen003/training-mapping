<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartApp - CLEAR 2.0 Workflow | CMG Training Portal</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0f1a;
            --bg-secondary: #111827;
            --bg-card: #1a2234;
            --accent-blue: #3b82f6;
            --accent-teal: #14b8a6;
            --accent-amber: #f59e0b;
            --accent-rose: #f43f5e;
            --accent-green: #22c55e;
            --accent-purple: #8b5cf6;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --border-subtle: rgba(255,255,255,0.08);
            --sidebar-width: 280px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
        }

        .breadcrumb {
            background: linear-gradient(90deg, #0d1525 0%, #1a2234 100%);
            padding: 14px 25px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 0.95rem;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1001;
            border-bottom: 1px solid var(--border-subtle);
        }

        .breadcrumb a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 600;
            padding: 8px 16px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
            transition: all 0.2s;
            border: 1px solid var(--border-subtle);
        }

        .breadcrumb a:hover { background: rgba(59, 130, 246, 0.15); color: var(--accent-blue); border-color: rgba(59, 130, 246, 0.3); }
        .breadcrumb .separator { color: var(--text-muted); font-size: 1.2rem; }
        .breadcrumb .current { color: var(--accent-amber); font-weight: 600; padding: 8px 16px; }

        .sidebar {
            position: fixed;
            top: 54px;
            left: 0;
            width: var(--sidebar-width);
            height: calc(100vh - 54px);
            background: var(--bg-secondary);
            overflow-y: auto;
            z-index: 1000;
            border-right: 1px solid var(--border-subtle);
            display: flex;
            flex-direction: column;
        }

        .sidebar-header { padding: 25px 20px; background: rgba(0,0,0,0.3); border-bottom: 1px solid var(--border-subtle); }
        .sidebar-header h2 { color: var(--text-primary); font-size: 1.2rem; font-weight: 700; margin-bottom: 5px; }
        .sidebar-header p { color: var(--text-muted); font-size: 0.85rem; }

        .sidebar-tabs { display: flex; border-bottom: 1px solid var(--border-subtle); }

        .sidebar-tab {
            flex: 1;
            padding: 14px 10px;
            text-align: center;
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--text-muted);
            cursor: pointer;
            transition: all 0.2s;
            border-bottom: 3px solid transparent;
            background: none;
            border-left: none;
            border-right: none;
            border-top: none;
        }

        .sidebar-tab:hover { background: rgba(255,255,255,0.03); color: var(--text-secondary); }
        .sidebar-tab.active { color: var(--accent-blue); border-bottom-color: var(--accent-blue); background: rgba(59, 130, 246, 0.08); }
        .sidebar-tab.agent-tab.active { color: var(--accent-purple); border-bottom-color: var(--accent-purple); background: rgba(139, 92, 246, 0.08); }

        .sidebar-nav { padding: 15px 0; flex: 1; overflow-y: auto; }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 20px;
            color: var(--text-secondary);
            text-decoration: none;
            border-left: 3px solid transparent;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .nav-item:hover { background: rgba(255,255,255,0.03); color: var(--text-primary); }
        .nav-item.active { background: rgba(59, 130, 246, 0.1); border-left-color: var(--accent-blue); color: var(--text-primary); }

        .nav-number {
            background: rgba(255,255,255,0.1);
            color: var(--text-secondary);
            width: 28px;
            height: 28px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.85rem;
            flex-shrink: 0;
        }

        .nav-item.active .nav-number { background: var(--accent-blue); color: white; }
        .nav-label { font-size: 0.95rem; font-weight: 500; }

        .sidebar-footer { padding: 20px; border-top: 1px solid var(--border-subtle); background: rgba(0,0,0,0.2); }

        .doc-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
            padding: 14px 20px;
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            text-decoration: none;
            font-size: 0.95rem;
        }

        .doc-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3); }

        .main-content { margin-left: var(--sidebar-width); padding: 80px 40px 40px 40px; }

        .tab-panel { display: none; }
        .tab-panel.active { display: block; }

        .header {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            padding: 35px;
            border-radius: 16px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: radial-gradient(ellipse at 20% 20%, rgba(59, 130, 246, 0.1) 0%, transparent 50%), radial-gradient(ellipse at 80% 80%, rgba(20, 184, 166, 0.08) 0%, transparent 50%);
            pointer-events: none;
        }

        .header h1 {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 10px;
            position: relative;
            background: linear-gradient(135deg, var(--text-primary) 0%, var(--accent-blue) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header .subtitle { color: var(--text-secondary); font-size: 1.1rem; position: relative; }
        .header .meta { display: flex; gap: 15px; margin-top: 20px; flex-wrap: wrap; position: relative; }
        .header .meta-item { background: rgba(255,255,255,0.05); border: 1px solid var(--border-subtle); padding: 8px 16px; border-radius: 8px; font-size: 0.9rem; color: var(--text-secondary); }

        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            padding: 18px 22px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            margin-bottom: 25px;
        }

        .legend-item { display: flex; align-items: center; gap: 8px; font-size: 0.85rem; color: var(--text-secondary); }
        .legend-color { width: 18px; height: 18px; border-radius: 4px; }

        .section {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            margin-bottom: 25px;
            overflow: hidden;
            scroll-margin-top: 75px;
        }

        .section-header {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, rgba(59, 130, 246, 0.1) 100%);
            border-bottom: 1px solid var(--border-subtle);
            padding: 22px 25px;
            display: flex;
            align-items: center;
            gap: 18px;
        }

        .section-number {
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 1.3rem;
            flex-shrink: 0;
        }

        .section-title h2 { font-size: 1.35rem; font-weight: 700; margin-bottom: 4px; color: var(--text-primary); }
        .section-title span { font-size: 0.9rem; color: var(--text-muted); }
        .section-content { padding: 28px; }

        .workflow-diagram { background: rgba(0,0,0,0.3); border: 1px solid var(--border-subtle); border-radius: 12px; padding: 28px; margin-bottom: 22px; }
        .flow-row { display: flex; align-items: center; justify-content: center; flex-wrap: wrap; gap: 12px; margin: 15px 0; }

        .flow-node { padding: 14px 22px; border-radius: 10px; text-align: center; font-size: 0.9rem; font-weight: 600; min-width: 150px; border: 1px solid var(--border-subtle); }
        .flow-node.start { background: linear-gradient(135deg, var(--accent-green) 0%, #16a34a 100%); color: white; border-radius: 25px; border: none; }
        .flow-node.action { background: linear-gradient(135deg, var(--accent-blue) 0%, #2563eb 100%); color: white; border: none; }
        .flow-node.decision { background: linear-gradient(135deg, var(--accent-amber) 0%, #d97706 100%); color: var(--bg-primary); border: none; }
        .flow-node.input { background: var(--bg-secondary); border: 2px solid var(--accent-blue); color: var(--text-primary); }
        .flow-node.output { background: linear-gradient(135deg, var(--accent-teal) 0%, #0d9488 100%); color: white; border: none; }

        .flow-arrow { color: var(--accent-blue); font-size: 1.5rem; }

        .tip-box, .info-box, .exception-box { padding: 18px 22px; margin: 18px 0; border-radius: 0 10px 10px 0; }
        .tip-box { background: rgba(34, 197, 94, 0.08); border: 1px solid rgba(34, 197, 94, 0.2); border-left: 4px solid var(--accent-green); }
        .tip-box h4 { color: var(--accent-green); margin-bottom: 10px; font-size: 1rem; }
        .tip-box p, .tip-box li { color: var(--text-secondary); }

        .info-box { background: rgba(59, 130, 246, 0.08); border: 1px solid rgba(59, 130, 246, 0.2); border-left: 4px solid var(--accent-blue); }
        .info-box h4 { color: var(--accent-blue); margin-bottom: 10px; font-size: 1rem; }
        .info-box p, .info-box ul { color: var(--text-secondary); }

        .exception-box { background: rgba(244, 63, 94, 0.08); border: 1px solid rgba(244, 63, 94, 0.2); border-left: 4px solid var(--accent-rose); }
        .exception-box h4 { color: var(--accent-rose); margin-bottom: 10px; font-size: 1rem; }
        .exception-box p { color: var(--text-secondary); }

        .field-table { width: 100%; border-collapse: collapse; margin: 18px 0; }
        .field-table th { background: rgba(59, 130, 246, 0.15); color: var(--accent-blue); padding: 14px 18px; text-align: left; font-weight: 600; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.05em; border-bottom: 1px solid var(--border-subtle); }
        .field-table td { padding: 14px 18px; border-bottom: 1px solid var(--border-subtle); color: var(--text-secondary); }
        .field-table tr:hover { background: rgba(255,255,255,0.02); }

        .badge { display: inline-block; padding: 4px 12px; border-radius: 6px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; }
        .badge.required { background: rgba(244, 63, 94, 0.15); color: var(--accent-rose); }
        .badge.optional { background: rgba(34, 197, 94, 0.15); color: var(--accent-green); }

        .quick-ref {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-card) 100%);
            border: 1px solid var(--border-subtle);
            padding: 28px;
            border-radius: 16px;
            margin-top: 30px;
            font-family: 'JetBrains Mono', monospace;
        }

        .quick-ref h3 { color: var(--accent-amber); margin-bottom: 18px; font-family: 'Plus Jakarta Sans', sans-serif; }
        .quick-ref pre { background: rgba(0,0,0,0.4); border: 1px solid var(--border-subtle); padding: 20px; border-radius: 10px; overflow-x: auto; font-size: 0.85rem; line-height: 1.7; color: var(--text-secondary); }

        /* Agent Styles */
        .agent-header { background: var(--bg-card); border: 1px solid var(--border-subtle); padding: 35px; border-radius: 16px; margin-bottom: 30px; position: relative; overflow: hidden; }
        .agent-header::before { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: radial-gradient(ellipse at 20% 20%, rgba(139, 92, 246, 0.12) 0%, transparent 50%), radial-gradient(ellipse at 80% 80%, rgba(245, 158, 11, 0.1) 0%, transparent 50%); pointer-events: none; }
        .agent-header h1 { font-size: 2.2rem; font-weight: 800; margin-bottom: 10px; position: relative; background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .agent-header .subtitle { color: var(--text-secondary); font-size: 1.1rem; position: relative; }

        .agent-summary { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 35px; }
        .agent-summary-card { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 14px; padding: 25px; text-align: center; }
        .agent-summary-value { font-size: 2.5rem; font-weight: 800; background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .agent-summary-label { font-size: 0.9rem; color: var(--text-muted); margin-top: 8px; }

        .heat-legend { display: flex; gap: 25px; padding: 18px 22px; background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 12px; margin-bottom: 25px; flex-wrap: wrap; }
        .heat-legend-item { display: flex; align-items: center; gap: 10px; font-size: 0.9rem; color: var(--text-secondary); }
        .heat-legend-color { width: 24px; height: 24px; border-radius: 6px; }

        .heat-map-container { margin-bottom: 35px; }
        .heat-map-title { font-size: 1.3rem; font-weight: 700; color: var(--text-primary); margin-bottom: 20px; display: flex; align-items: center; gap: 12px; }
        .heat-map-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; }

        .heat-item { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 12px; padding: 20px; position: relative; overflow: hidden; transition: transform 0.2s, box-shadow 0.2s; cursor: pointer; }
        .heat-item:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .heat-item::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 4px; }
        .heat-item.critical::before { background: linear-gradient(90deg, #ef4444, #f97316); }
        .heat-item.high::before { background: linear-gradient(90deg, #f97316, #eab308); }
        .heat-item.medium::before { background: linear-gradient(90deg, #eab308, #22c55e); }
        .heat-item.low::before { background: linear-gradient(90deg, #22c55e, #14b8a6); }

        .heat-score { position: absolute; top: 15px; right: 15px; font-size: 1.8rem; font-weight: 800; }
        .heat-item.critical .heat-score { color: #ef4444; }
        .heat-item.high .heat-score { color: #f97316; }
        .heat-item.medium .heat-score { color: #eab308; }
        .heat-item.low .heat-score { color: #22c55e; }

        .heat-name { font-size: 1rem; font-weight: 700; color: var(--text-primary); margin-bottom: 6px; padding-right: 50px; }
        .heat-desc { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px; }
        .heat-metrics { display: flex; gap: 15px; margin-top: 12px; }
        .heat-metric { font-size: 0.75rem; color: var(--text-muted); }
        .heat-metric span { color: var(--text-secondary); font-weight: 600; }

        .agent-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)); gap: 25px; margin-bottom: 35px; }
        .agent-card { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 16px; overflow: hidden; transition: transform 0.2s, box-shadow 0.2s; scroll-margin-top: 80px; }
        .agent-card:hover { transform: translateY(-5px); box-shadow: 0 15px 50px rgba(0,0,0,0.3); }
        .agent-card.highlight { animation: highlightPulse 2s ease; box-shadow: 0 0 0 3px var(--accent-purple), 0 15px 50px rgba(139, 92, 246, 0.4); }
        @keyframes highlightPulse { 0% { box-shadow: 0 0 0 3px var(--accent-purple), 0 15px 50px rgba(139, 92, 246, 0.6); } 50% { box-shadow: 0 0 0 6px rgba(139, 92, 246, 0.5), 0 15px 50px rgba(139, 92, 246, 0.3); } 100% { box-shadow: 0 0 0 0px transparent, 0 15px 50px rgba(0,0,0,0.3); } }

        .agent-card-header { padding: 22px; display: flex; align-items: flex-start; gap: 18px; border-bottom: 1px solid var(--border-subtle); }
        .agent-icon { width: 55px; height: 55px; background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%); border-radius: 14px; display: flex; align-items: center; justify-content: center; font-size: 1.6rem; flex-shrink: 0; }
        .agent-info { flex: 1; }
        .agent-name { font-size: 1.15rem; font-weight: 700; color: var(--text-primary); margin-bottom: 5px; }
        .agent-type { font-size: 0.8rem; color: var(--accent-purple); font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }
        .agent-priority { padding: 6px 12px; border-radius: 20px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; }
        .agent-priority.critical { background: rgba(239, 68, 68, 0.15); color: #ef4444; }
        .agent-priority.high { background: rgba(249, 115, 22, 0.15); color: #f97316; }
        .agent-priority.medium { background: rgba(234, 179, 8, 0.15); color: #eab308; }
        .agent-priority.low { background: rgba(34, 197, 94, 0.15); color: #22c55e; }

        .agent-card-body { padding: 22px; }
        .agent-description { font-size: 0.95rem; color: var(--text-secondary); line-height: 1.6; margin-bottom: 20px; }

        .agent-flow { background: rgba(0,0,0,0.3); border: 1px solid var(--border-subtle); border-radius: 10px; padding: 18px; margin-bottom: 20px; }
        .agent-flow-title { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }
        .agent-flow-diagram { display: flex; align-items: center; flex-wrap: wrap; gap: 8px; justify-content: center; }
        .agent-step { background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%); color: white; padding: 8px 14px; border-radius: 6px; font-size: 0.8rem; font-weight: 600; white-space: nowrap; }
        .agent-arrow { color: var(--accent-purple); font-size: 1.2rem; }

        .agent-stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
        .agent-stat { background: rgba(0,0,0,0.2); border-radius: 8px; padding: 12px; text-align: center; }
        .agent-stat-value { font-size: 1.3rem; font-weight: 800; background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .agent-stat-label { font-size: 0.7rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.05em; margin-top: 4px; }

        .agent-prompt-btn { width: 100%; margin-top: 18px; padding: 14px 20px; background: linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(59, 130, 246, 0.2) 100%); border: 1px solid rgba(139, 92, 246, 0.4); border-radius: 10px; color: var(--accent-purple); font-weight: 700; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; justify-content: center; gap: 10px; font-size: 0.9rem; }
        .agent-prompt-btn:hover { background: linear-gradient(135deg, rgba(139, 92, 246, 0.3) 0%, rgba(59, 130, 246, 0.3) 100%); border-color: var(--accent-purple); transform: translateY(-2px); box-shadow: 0 8px 25px rgba(139, 92, 246, 0.25); }

        /* Modal */
        .modal-overlay { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(10, 15, 26, 0.9); z-index: 2000; justify-content: center; align-items: center; padding: 20px; backdrop-filter: blur(5px); }
        .modal-overlay.show { display: flex; }
        .modal { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 16px; width: 100%; max-width: 900px; max-height: 90vh; display: flex; flex-direction: column; box-shadow: 0 25px 80px rgba(0,0,0,0.5); }
        .modal-header { background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%); color: white; padding: 22px 28px; display: flex; justify-content: space-between; align-items: center; border-radius: 16px 16px 0 0; }
        .modal-header h3 { font-size: 1.25rem; font-weight: 700; }
        .modal-actions { display: flex; gap: 12px; }
        .modal-btn { padding: 10px 18px; border: none; border-radius: 8px; cursor: pointer; font-weight: 700; transition: transform 0.2s; font-size: 0.9rem; }
        .modal-btn:hover { transform: scale(1.05); }
        .modal-btn.copy { background: white; color: var(--accent-purple); }
        .modal-btn.close { background: rgba(255,255,255,0.2); color: white; }
        .modal-body { padding: 28px; overflow-y: auto; flex: 1; }
        .prompt-section { margin-bottom: 25px; }
        .prompt-section h4 { color: var(--accent-purple); font-size: 1rem; margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }
        .prompt-box { background: rgba(0,0,0,0.4); border: 1px solid var(--border-subtle); border-radius: 10px; padding: 20px; font-family: 'JetBrains Mono', monospace; font-size: 0.85rem; line-height: 1.7; color: var(--text-secondary); white-space: pre-wrap; word-wrap: break-word; }
        .prompt-tags { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 20px; }
        .prompt-tag { background: rgba(139, 92, 246, 0.15); color: var(--accent-purple); padding: 6px 14px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; }
        .copy-success { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: var(--accent-green); color: white; padding: 18px 35px; border-radius: 10px; font-weight: 700; z-index: 3000; display: none; }

        @media (max-width: 900px) {
            .sidebar { display: none; }
            .main-content { margin-left: 0; padding: 75px 20px 30px 20px; }
            .agent-grid { grid-template-columns: 1fr; }
        }
        .breadcrumb-logo-link { display: inline-flex; align-items: center; padding: 4px 8px; background: rgba(255,255,255,0.08); border-radius: 8px; border: 1px solid rgba(255,255,255,0.12); transition: all 0.2s; flex-shrink: 0; margin-right: 4px; }
        .breadcrumb-logo-link:hover { background: rgba(255,255,255,0.15); }
        .breadcrumb-logo { height: 24px; width: auto; display: block; }
    </style>
</head>
<body>
    <!-- Breadcrumb -->
    <nav class="breadcrumb">
<a href="../../index.html" class="breadcrumb-logo-link"><img src="../../images/clear-ai-logo.png" alt="Clear AI" class="breadcrumb-logo"></a>
        <a href="../../index.html">üè† Portal Home</a>
        <span class="separator">‚Ä∫</span>
        <a href="./README.md">üè¶ CLEAR 2.0</a>
        <span class="separator">‚Ä∫</span>
        <span class="current">üì± SmartApp</span>
    </nav>

    <!-- Fixed Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <h2>üì± SmartApp</h2>
            <p>Online Loan Application System</p>
        </div>

        <!-- Tab Switcher -->
        <div class="sidebar-tabs">
            <button class="sidebar-tab active" onclick="switchTab('workflow')">üìã Workflow</button>
            <button class="sidebar-tab agent-tab" onclick="switchTab('agents')">ü§ñ AI Agents</button>
        </div>

        <!-- Workflow Navigation -->
        <nav class="sidebar-nav" id="workflow-nav">
            <a href="#section-1" class="nav-item active">
                <span class="nav-number">1</span>
                <span class="nav-label">SmartApp Overview</span>
            </a>
            <a href="#section-2" class="nav-item">
                <span class="nav-number">2</span>
                <span class="nav-label">Initial Setup</span>
            </a>
            <a href="#section-3" class="nav-item">
                <span class="nav-number">3</span>
                <span class="nav-label">Starting Applications</span>
            </a>
            <a href="#section-4" class="nav-item">
                <span class="nav-number">4</span>
                <span class="nav-label">Borrower Experience</span>
            </a>
            <a href="#section-5" class="nav-item">
                <span class="nav-number">5</span>
                <span class="nav-label">Truv & Plaid Integration</span>
            </a>
            <a href="#section-6" class="nav-item">
                <span class="nav-number">6</span>
                <span class="nav-label">Submitted Applications</span>
            </a>
            <a href="#section-7" class="nav-item">
                <span class="nav-number">7</span>
                <span class="nav-label">Partner Portal</span>
            </a>
            <a href="#quick-ref" class="nav-item">
                <span class="nav-number">‚ö°</span>
                <span class="nav-label">Quick Reference</span>
            </a>
        </nav>

        <!-- Agent Navigation -->
        <nav class="sidebar-nav" id="agents-nav" style="display: none;">
            <a href="#agent-summary" class="nav-item active">
                <span class="nav-number">üìä</span>
                <span class="nav-label">Summary</span>
            </a>
            <a href="#agent-heatmap" class="nav-item">
                <span class="nav-number">üî•</span>
                <span class="nav-label">Heat Map</span>
            </a>
            <a href="#agent-details" class="nav-item">
                <span class="nav-number">ü§ñ</span>
                <span class="nav-label">Agent Details</span>
            </a>
        </nav>

        <div class="sidebar-footer">
            <a href="./README.md" class="doc-btn">
                ‚Üê Back to CLEAR Index
            </a>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">

        <!-- ==================== WORKFLOW TAB ==================== -->
        <div id="workflow-panel" class="tab-panel active">
            <!-- Header -->
            <div class="header">
                <h1>üì± SmartApp in CLEAR 2.0</h1>
                <p class="subtitle">CMG's proprietary online loan application platform with Truv and Plaid integrations</p>
                <div class="meta">
                    <span class="meta-item">üè¢ System: CLEAR 2.0</span>
                    <span class="meta-item">üë§ Role: Loan Officer</span>
                    <span class="meta-item">üìÖ Updated: Jan 2026</span>
                    <span class="meta-item">‚è±Ô∏è Duration: 5-10 min</span>
                </div>
            </div>

            <!-- Legend -->
            <div class="legend">
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #22c55e, #16a34a);"></div><span>Start/End</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #3b82f6, #2563eb);"></div><span>Action Step</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #f59e0b, #d97706);"></div><span>Decision Point</span></div>
                <div class="legend-item"><div class="legend-color" style="background: #111827; border: 2px solid #3b82f6;"></div><span>User Input</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #14b8a6, #0d9488);"></div><span>Output</span></div>
            </div>

            <!-- Section 1: Overview -->
            <section id="section-1" class="section">
                <div class="section-header">
                    <div class="section-number">1</div>
                    <div class="section-title">
                        <h2>SmartApp Overview</h2>
                        <span>Understanding CMG's online loan application platform</span>
                    </div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node start">Borrower Receives Link</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node action">Creates Account</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node action">Completes Application</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node output">Syncs to Clear LOS</div>
                        </div>
                    </div>

                    <div class="info-box">
                        <h4>üì± What is SmartApp?</h4>
                        <p>SmartApp is CMG Financial's proprietary online loan application platform that provides borrowers with a streamlined, digital-first experience for submitting mortgage applications. Key features include:</p>
                        <ul style="margin-top: 10px; margin-left: 20px;">
                            <li>24/7 availability for borrower applications</li>
                            <li>Automated income verification via Truv (VOIE)</li>
                            <li>Automated asset verification via Plaid (VOA)</li>
                            <li>Real-time sync with Clear LOS</li>
                            <li>Partner co-branding capabilities</li>
                        </ul>
                    </div>

                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Feature</th>
                                <th>SmartApp</th>
                                <th>nCino (Legacy)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Truv Integration</td>
                                <td>Yes - Built-in VOIE</td>
                                <td>No</td>
                            </tr>
                            <tr>
                                <td>Plaid Integration</td>
                                <td>Yes - Built-in VOA</td>
                                <td>Limited</td>
                            </tr>
                            <tr>
                                <td>Clear LOS Sync</td>
                                <td>Real-time</td>
                                <td>Batch processing</td>
                            </tr>
                            <tr>
                                <td>Partner Portal</td>
                                <td>Full co-branding</td>
                                <td>Basic</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Section 2: Initial Setup -->
            <section id="section-2" class="section">
                <div class="section-header">
                    <div class="section-number">2</div>
                    <div class="section-title">
                        <h2>Initial Setup & Configuration</h2>
                        <span>Configure your SmartApp profile and settings</span>
                    </div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Dashboard ‚Üí Tools</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node action">SmartApp Settings</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node input">Configure Profile</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node output">Get Apply Now Link</div>
                        </div>
                    </div>

                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Setting</th>
                                <th>Description</th>
                                <th>Required</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Profile Photo</td>
                                <td>Professional headshot (400x400px recommended)</td>
                                <td><span class="badge optional">Optional</span></td>
                            </tr>
                            <tr>
                                <td>NMLS Number</td>
                                <td>Your individual NMLS license number</td>
                                <td><span class="badge required">Required</span></td>
                            </tr>
                            <tr>
                                <td>Contact Info</td>
                                <td>Phone and email for borrower communications</td>
                                <td><span class="badge required">Required</span></td>
                            </tr>
                            <tr>
                                <td>Bio/Description</td>
                                <td>Personal message displayed to borrowers</td>
                                <td><span class="badge optional">Optional</span></td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="tip-box">
                        <h4>üí° Apply Now Link Usage</h4>
                        <p>Your unique SmartApp URL format: <code>https://smartapp.cmgfi.com/apply/[YOUR-NMLS-NUMBER]</code></p>
                        <ul style="margin-top: 10px; margin-left: 20px;">
                            <li>Add to email signature</li>
                            <li>Include on business cards</li>
                            <li>Share on social media profiles</li>
                            <li>Embed on personal website</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Section 3: Starting Applications -->
            <section id="section-3" class="section">
                <div class="section-header">
                    <div class="section-number">3</div>
                    <div class="section-title">
                        <h2>Starting Applications</h2>
                        <span>Two methods to initiate borrower applications</span>
                    </div>
                </div>
                <div class="section-content">
                    <h3 style="color: var(--accent-blue); margin-bottom: 15px;">Method 1: Borrower Self-Start</h3>
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node start">Share Your Link</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node action">Borrower Creates Account</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node action">Completes Application</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node output">Appears in Pipeline</div>
                        </div>
                    </div>

                    <h3 style="color: var(--accent-blue); margin-bottom: 15px; margin-top: 30px;">Method 2: LO-Initiated Application</h3>
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Clear ‚Üí Create</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node action">New SmartApp Application</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node input">Enter Borrower Info</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node output">Send Invitation</div>
                        </div>
                    </div>

                    <div class="exception-box">
                        <h4>‚ö†Ô∏è Important Note</h4>
                        <p>When using LO-initiated method, the borrower receives an email invitation to complete their application. The application appears in your Applications Pipeline immediately with "Invited" status.</p>
                    </div>
                </div>
            </section>

            <!-- Section 4: Borrower Experience -->
            <section id="section-4" class="section">
                <div class="section-header">
                    <div class="section-number">4</div>
                    <div class="section-title">
                        <h2>Borrower Experience</h2>
                        <span>Understanding the borrower's application journey</span>
                    </div>
                </div>
                <div class="section-content">
                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Application Page</th>
                                <th>Information Collected</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Personal Information</td>
                                <td>Name, SSN, DOB, Contact Info, Citizenship Status</td>
                            </tr>
                            <tr>
                                <td>Property Information</td>
                                <td>Property Address, Type, Use, Purchase Price/Value</td>
                            </tr>
                            <tr>
                                <td>Loan Details</td>
                                <td>Loan Amount, Down Payment, Loan Type Preferences</td>
                            </tr>
                            <tr>
                                <td>Employment</td>
                                <td>Current/Previous Employers, Income, Years Employed</td>
                            </tr>
                            <tr>
                                <td>Assets</td>
                                <td>Bank Accounts, Investments, Other Assets</td>
                            </tr>
                            <tr>
                                <td>Liabilities</td>
                                <td>Current Mortgage, Auto Loans, Credit Cards</td>
                            </tr>
                            <tr>
                                <td>Declarations</td>
                                <td>URLA Section 5 Questions, Prior Bankruptcies</td>
                            </tr>
                            <tr>
                                <td>Review & Sign</td>
                                <td>eConsent, Application Review, eSignature</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="tip-box">
                        <h4>üí° Pro Tip: Prepare Borrowers</h4>
                        <p>Encourage borrowers to have documents ready before starting:</p>
                        <ul style="margin-top: 10px; margin-left: 20px;">
                            <li>Last 2 years W-2s</li>
                            <li>Last 30 days pay stubs</li>
                            <li>Last 2 months bank statements</li>
                            <li>Government-issued ID</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Section 5: Truv & Plaid -->
            <section id="section-5" class="section">
                <div class="section-header">
                    <div class="section-number">5</div>
                    <div class="section-title">
                        <h2>Truv & Plaid Integration</h2>
                        <span>Automated income and asset verification</span>
                    </div>
                </div>
                <div class="section-content">
                    <h3 style="color: var(--accent-blue); margin-bottom: 15px;">Truv - Verification of Income & Employment (VOIE)</h3>
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Select Employer</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node input">Login to Payroll</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node action">Data Retrieved</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node output">VOIE Report Generated</div>
                        </div>
                    </div>

                    <div class="info-box">
                        <h4>üìã Supported Payroll Providers</h4>
                        <p>Truv connects to 20,000+ employers including: ADP, Paychex, Gusto, Workday, Paylocity, Paycom, and more.</p>
                    </div>

                    <h3 style="color: var(--accent-blue); margin-bottom: 15px; margin-top: 30px;">Plaid - Verification of Assets (VOA)</h3>
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Select Bank</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node input">Secure Login</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node action">Select Accounts</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node output">VOA Report Generated</div>
                        </div>
                    </div>

                    <div class="exception-box">
                        <h4>üîí Security Note</h4>
                        <p>Plaid uses bank-level encryption. CMG never sees borrower login credentials. The connection is read-only and cannot initiate transactions.</p>
                    </div>
                </div>
            </section>

            <!-- Section 6: Submitted Applications -->
            <section id="section-6" class="section">
                <div class="section-header">
                    <div class="section-number">6</div>
                    <div class="section-title">
                        <h2>Submitted Applications</h2>
                        <span>Post-submission workflow and status tracking</span>
                    </div>
                </div>
                <div class="section-content">
                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Status</th>
                                <th>Meaning</th>
                                <th>Action Required</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Invited</td>
                                <td>LO sent invitation, borrower hasn't started</td>
                                <td>Follow up with borrower</td>
                            </tr>
                            <tr>
                                <td>In Progress</td>
                                <td>Borrower has started but not submitted</td>
                                <td>Check progress, offer assistance</td>
                            </tr>
                            <tr>
                                <td>Submitted</td>
                                <td>Application complete and submitted</td>
                                <td>Review in Clear, run credit</td>
                            </tr>
                            <tr>
                                <td>Processing</td>
                                <td>Converted to full loan in Clear</td>
                                <td>Continue loan workflow</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node start">App Submitted</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node action">Review in Clear</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node action">Order Credit</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node action">Run Pricing</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node output">Send Disclosures</div>
                        </div>
                    </div>

                    <div class="tip-box">
                        <h4>üí° Best Practice</h4>
                        <p>Contact borrower within 1 hour of submission to confirm receipt and discuss next steps.</p>
                    </div>
                </div>
            </section>

            <!-- Section 7: Partner Portal -->
            <section id="section-7" class="section">
                <div class="section-header">
                    <div class="section-number">7</div>
                    <div class="section-title">
                        <h2>Clear Partners & Partner Portal</h2>
                        <span>Collaborate with real estate agents and referral partners</span>
                    </div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Pipeline ‚Üí Partners</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node action">Add Partner</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node input">Enter Details</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node output">Create Co-Brand Link</div>
                        </div>
                    </div>

                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Partner Portal Feature</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Active Loans</td>
                                <td>View all loans partner has referred</td>
                            </tr>
                            <tr>
                                <td>Milestone Tracking</td>
                                <td>Application, UW, Closing status updates</td>
                            </tr>
                            <tr>
                                <td>Loan Calculators</td>
                                <td>Payment and affordability tools</td>
                            </tr>
                            <tr>
                                <td>Document Status</td>
                                <td>What's been received vs. needed</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="info-box">
                        <h4>üîê Privacy Note</h4>
                        <p>Partners only see limited loan information appropriate for their role. Sensitive borrower data is protected per compliance requirements.</p>
                    </div>
                </div>
            </section>

            <!-- Quick Reference -->
            <section id="quick-ref" class="quick-ref">
                <h3>‚ö° Quick Reference Card</h3>
                <pre>
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                    SMARTAPP QUICK REFERENCE                          ‚ïë
‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
‚ïë                                                                      ‚ïë
‚ïë  ACCESS SMARTAPP SETTINGS                                            ‚ïë
‚ïë  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ                                           ‚ïë
‚ïë  Dashboard ‚Üí Tools ‚Üí SmartApp Settings                               ‚ïë
‚ïë                                                                      ‚ïë
‚ïë  YOUR APPLY NOW LINK                                                 ‚ïë
‚ïë  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ                                                 ‚ïë
‚ïë  https://smartapp.cmgfi.com/apply/[YOUR-NMLS]                        ‚ïë
‚ïë                                                                      ‚ïë
‚ïë  LO-INITIATED APPLICATION                                            ‚ïë
‚ïë  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ                                            ‚ïë
‚ïë  Clear ‚Üí Create ‚Üí New SmartApp Application                           ‚ïë
‚ïë                                                                      ‚ïë
‚ïë  VIEW APPLICATIONS                                                   ‚ïë
‚ïë  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ                                                   ‚ïë
‚ïë  Pipeline ‚Üí Applications                                             ‚ïë
‚ïë                                                                      ‚ïë
‚ïë  VERIFICATION REPORTS                                                ‚ïë
‚ïë  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ                                                ‚ïë
‚ïë  Truv (VOIE): Loan ‚Üí Services ‚Üí Truv                                 ‚ïë
‚ïë  Plaid (VOA): Loan ‚Üí Services ‚Üí Plaid/VOA                            ‚ïë
‚ïë                                                                      ‚ïë
‚ïë  ADD PARTNER                                                         ‚ïë
‚ïë  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ                                                         ‚ïë
‚ïë  Pipeline ‚Üí Partners ‚Üí Add Partner                                   ‚ïë
‚ïë                                                                      ‚ïë
‚ïë  APPLICATION STATUSES                                                ‚ïë
‚ïë  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ                                                ‚ïë
‚ïë  Invited ‚Üí In Progress ‚Üí Submitted ‚Üí Processing                      ‚ïë
‚ïë                                                                      ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
                </pre>
            </section>
        </div>

        <!-- ==================== AGENT OPPORTUNITIES TAB ==================== -->
        <div id="agents-panel" class="tab-panel">
            <!-- Header -->
            <div class="agent-header">
                <h1>ü§ñ AI Agent Opportunities</h1>
                <p class="subtitle">Automation Analysis for SmartApp Workflow</p>
                <div class="meta">
                    <span class="meta-item">ü§ñ 5 Agent Candidates Identified</span>
                    <span class="meta-item">‚è±Ô∏è Est. 65% Time Savings</span>
                </div>
            </div>

            <!-- Summary Stats -->
            <div class="agent-summary" id="agent-summary">
                <div class="agent-summary-card">
                    <div class="agent-summary-value">5</div>
                    <div class="agent-summary-label">Agent Candidates</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">2</div>
                    <div class="agent-summary-label">Critical Priority</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">65%</div>
                    <div class="agent-summary-label">Time Savings</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">78%</div>
                    <div class="agent-summary-label">Automation Potential</div>
                </div>
            </div>

            <!-- Heat Map Legend -->
            <div class="heat-legend" id="agent-heatmap">
                <div class="heat-legend-item"><div class="heat-legend-color" style="background: linear-gradient(135deg, #ef4444, #f97316);"></div><span><strong>Critical (90-100)</strong> - Immediate ROI</span></div>
                <div class="heat-legend-item"><div class="heat-legend-color" style="background: linear-gradient(135deg, #f97316, #eab308);"></div><span><strong>High (70-89)</strong> - Strong candidate</span></div>
                <div class="heat-legend-item"><div class="heat-legend-color" style="background: linear-gradient(135deg, #eab308, #22c55e);"></div><span><strong>Medium (50-69)</strong> - Consider</span></div>
                <div class="heat-legend-item"><div class="heat-legend-color" style="background: linear-gradient(135deg, #22c55e, #14b8a6);"></div><span><strong>Low (0-49)</strong> - Future phase</span></div>
            </div>

            <!-- Heat Map Grid -->
            <div class="heat-map-container">
                <div class="heat-map-title">üî• Automation Priority Heat Map <span style="font-size: 0.8rem; font-weight: 400; color: var(--text-muted);">(Click to jump to agent)</span></div>
                <div class="heat-map-grid">
                    <div class="heat-item critical" onclick="scrollToAgent('agent-1')">
                        <div class="heat-score">95</div>
                        <div class="heat-name">Application Intake Assistant</div>
                        <div class="heat-desc">Auto-process submitted applications</div>
                        <div class="heat-metrics">
                            <span class="heat-metric">Frequency: <span>High</span></span>
                            <span class="heat-metric">Complexity: <span>Medium</span></span>
                        </div>
                    </div>
                    <div class="heat-item critical" onclick="scrollToAgent('agent-2')">
                        <div class="heat-score">92</div>
                        <div class="heat-name">Borrower Follow-up Agent</div>
                        <div class="heat-desc">Automated outreach for incomplete apps</div>
                        <div class="heat-metrics">
                            <span class="heat-metric">Frequency: <span>High</span></span>
                            <span class="heat-metric">Complexity: <span>Low</span></span>
                        </div>
                    </div>
                    <div class="heat-item high" onclick="scrollToAgent('agent-3')">
                        <div class="heat-score">85</div>
                        <div class="heat-name">VOIE/VOA Monitor</div>
                        <div class="heat-desc">Track verification completion status</div>
                        <div class="heat-metrics">
                            <span class="heat-metric">Frequency: <span>Medium</span></span>
                            <span class="heat-metric">Complexity: <span>Medium</span></span>
                        </div>
                    </div>
                    <div class="heat-item high" onclick="scrollToAgent('agent-4')">
                        <div class="heat-score">78</div>
                        <div class="heat-name">Partner Notification Agent</div>
                        <div class="heat-desc">Auto-update partners on milestones</div>
                        <div class="heat-metrics">
                            <span class="heat-metric">Frequency: <span>Medium</span></span>
                            <span class="heat-metric">Complexity: <span>Low</span></span>
                        </div>
                    </div>
                    <div class="heat-item medium" onclick="scrollToAgent('agent-5')">
                        <div class="heat-score">65</div>
                        <div class="heat-name">Document Pre-Analyzer</div>
                        <div class="heat-desc">Pre-screen uploaded documents</div>
                        <div class="heat-metrics">
                            <span class="heat-metric">Frequency: <span>High</span></span>
                            <span class="heat-metric">Complexity: <span>High</span></span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Agent Cards -->
            <h2 style="margin-bottom: 25px; color: var(--text-primary);" id="agent-details">ü§ñ Agent Details</h2>
            <div class="agent-grid">
                <!-- Agent 1 -->
                <div class="agent-card" id="agent-1">
                    <div class="agent-card-header">
                        <div class="agent-icon">üì•</div>
                        <div class="agent-info">
                            <div class="agent-name">Application Intake Assistant</div>
                            <div class="agent-type">Process Automation</div>
                        </div>
                        <span class="agent-priority critical">Critical</span>
                    </div>
                    <div class="agent-card-body">
                        <p class="agent-description">Automatically processes submitted SmartApp applications by running initial data validation, pulling credit, and preparing the file for LO review.</p>
                        <div class="agent-flow">
                            <div class="agent-flow-title">Agent Flow</div>
                            <div class="agent-flow-diagram">
                                <span class="agent-step">Detect Submission</span>
                                <span class="agent-arrow">‚Üí</span>
                                <span class="agent-step">Validate Data</span>
                                <span class="agent-arrow">‚Üí</span>
                                <span class="agent-step">Pull Credit</span>
                                <span class="agent-arrow">‚Üí</span>
                                <span class="agent-step">Notify LO</span>
                            </div>
                        </div>
                        <div class="agent-stats">
                            <div class="agent-stat">
                                <div class="agent-stat-value">15min</div>
                                <div class="agent-stat-label">Saved/App</div>
                            </div>
                            <div class="agent-stat">
                                <div class="agent-stat-value">95</div>
                                <div class="agent-stat-label">Priority</div>
                            </div>
                            <div class="agent-stat">
                                <div class="agent-stat-value">High</div>
                                <div class="agent-stat-label">ROI</div>
                            </div>
                        </div>
                        <button class="agent-prompt-btn" onclick="openPromptModal('intake')">
                            ‚ú® View Build Prompt
                        </button>
                    </div>
                </div>

                <!-- Agent 2 -->
                <div class="agent-card" id="agent-2">
                    <div class="agent-card-header">
                        <div class="agent-icon">üìß</div>
                        <div class="agent-info">
                            <div class="agent-name">Borrower Follow-up Agent</div>
                            <div class="agent-type">Communication Automation</div>
                        </div>
                        <span class="agent-priority critical">Critical</span>
                    </div>
                    <div class="agent-card-body">
                        <p class="agent-description">Monitors applications with "In Progress" status and sends automated, personalized follow-up messages to borrowers who haven't completed their application.</p>
                        <div class="agent-flow">
                            <div class="agent-flow-title">Agent Flow</div>
                            <div class="agent-flow-diagram">
                                <span class="agent-step">Monitor Status</span>
                                <span class="agent-arrow">‚Üí</span>
                                <span class="agent-step">Check Last Activity</span>
                                <span class="agent-arrow">‚Üí</span>
                                <span class="agent-step">Send Reminder</span>
                            </div>
                        </div>
                        <div class="agent-stats">
                            <div class="agent-stat">
                                <div class="agent-stat-value">20%</div>
                                <div class="agent-stat-label">‚Üë Completion</div>
                            </div>
                            <div class="agent-stat">
                                <div class="agent-stat-value">92</div>
                                <div class="agent-stat-label">Priority</div>
                            </div>
                            <div class="agent-stat">
                                <div class="agent-stat-value">High</div>
                                <div class="agent-stat-label">ROI</div>
                            </div>
                        </div>
                        <button class="agent-prompt-btn" onclick="openPromptModal('followup')">
                            ‚ú® View Build Prompt
                        </button>
                    </div>
                </div>

                <!-- Agent 3 -->
                <div class="agent-card" id="agent-3">
                    <div class="agent-card-header">
                        <div class="agent-icon">‚úÖ</div>
                        <div class="agent-info">
                            <div class="agent-name">VOIE/VOA Monitor</div>
                            <div class="agent-type">Status Tracking</div>
                        </div>
                        <span class="agent-priority high">High</span>
                    </div>
                    <div class="agent-card-body">
                        <p class="agent-description">Monitors Truv and Plaid verification statuses, alerts LO when complete or if issues arise, and suggests manual alternatives when automated verification fails.</p>
                        <div class="agent-flow">
                            <div class="agent-flow-title">Agent Flow</div>
                            <div class="agent-flow-diagram">
                                <span class="agent-step">Check Status</span>
                                <span class="agent-arrow">‚Üí</span>
                                <span class="agent-step">Detect Issues</span>
                                <span class="agent-arrow">‚Üí</span>
                                <span class="agent-step">Alert LO</span>
                            </div>
                        </div>
                        <div class="agent-stats">
                            <div class="agent-stat">
                                <div class="agent-stat-value">10min</div>
                                <div class="agent-stat-label">Saved/Loan</div>
                            </div>
                            <div class="agent-stat">
                                <div class="agent-stat-value">85</div>
                                <div class="agent-stat-label">Priority</div>
                            </div>
                            <div class="agent-stat">
                                <div class="agent-stat-value">Med</div>
                                <div class="agent-stat-label">ROI</div>
                            </div>
                        </div>
                        <button class="agent-prompt-btn" onclick="openPromptModal('voievoa')">
                            ‚ú® View Build Prompt
                        </button>
                    </div>
                </div>

                <!-- Agent 4 -->
                <div class="agent-card" id="agent-4">
                    <div class="agent-card-header">
                        <div class="agent-icon">ü§ù</div>
                        <div class="agent-info">
                            <div class="agent-name">Partner Notification Agent</div>
                            <div class="agent-type">Communication Automation</div>
                        </div>
                        <span class="agent-priority high">High</span>
                    </div>
                    <div class="agent-card-body">
                        <p class="agent-description">Automatically sends milestone updates to referral partners when key loan events occur, keeping real estate agents informed without manual LO effort.</p>
                        <div class="agent-flow">
                            <div class="agent-flow-title">Agent Flow</div>
                            <div class="agent-flow-diagram">
                                <span class="agent-step">Detect Milestone</span>
                                <span class="agent-arrow">‚Üí</span>
                                <span class="agent-step">Find Partner</span>
                                <span class="agent-arrow">‚Üí</span>
                                <span class="agent-step">Send Update</span>
                            </div>
                        </div>
                        <div class="agent-stats">
                            <div class="agent-stat">
                                <div class="agent-stat-value">5min</div>
                                <div class="agent-stat-label">Saved/Update</div>
                            </div>
                            <div class="agent-stat">
                                <div class="agent-stat-value">78</div>
                                <div class="agent-stat-label">Priority</div>
                            </div>
                            <div class="agent-stat">
                                <div class="agent-stat-value">Med</div>
                                <div class="agent-stat-label">ROI</div>
                            </div>
                        </div>
                        <button class="agent-prompt-btn" onclick="openPromptModal('partner')">
                            ‚ú® View Build Prompt
                        </button>
                    </div>
                </div>

                <!-- Agent 5 -->
                <div class="agent-card" id="agent-5">
                    <div class="agent-card-header">
                        <div class="agent-icon">üìÑ</div>
                        <div class="agent-info">
                            <div class="agent-name">Document Pre-Analyzer</div>
                            <div class="agent-type">Document AI</div>
                        </div>
                        <span class="agent-priority medium">Medium</span>
                    </div>
                    <div class="agent-card-body">
                        <p class="agent-description">Pre-screens documents uploaded via SmartApp, identifies document types, checks for completeness, and flags potential issues before processor review.</p>
                        <div class="agent-flow">
                            <div class="agent-flow-title">Agent Flow</div>
                            <div class="agent-flow-diagram">
                                <span class="agent-step">Detect Upload</span>
                                <span class="agent-arrow">‚Üí</span>
                                <span class="agent-step">Classify Doc</span>
                                <span class="agent-arrow">‚Üí</span>
                                <span class="agent-step">Check Quality</span>
                            </div>
                        </div>
                        <div class="agent-stats">
                            <div class="agent-stat">
                                <div class="agent-stat-value">8min</div>
                                <div class="agent-stat-label">Saved/Doc</div>
                            </div>
                            <div class="agent-stat">
                                <div class="agent-stat-value">65</div>
                                <div class="agent-stat-label">Priority</div>
                            </div>
                            <div class="agent-stat">
                                <div class="agent-stat-value">Med</div>
                                <div class="agent-stat-label">ROI</div>
                            </div>
                        </div>
                        <button class="agent-prompt-btn" onclick="openPromptModal('docanalyzer')">
                            ‚ú® View Build Prompt
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Prompt Modal -->
    <div class="modal-overlay" id="promptModal">
        <div class="modal">
            <div class="modal-header">
                <h3 id="modalTitle">‚ú® AI Agent Build Prompt</h3>
                <div class="modal-actions">
                    <button class="modal-btn copy" onclick="copyPrompt()">üìã Copy Prompt</button>
                    <button class="modal-btn close" onclick="closeModal()">‚úï Close</button>
                </div>
            </div>
            <div class="modal-body">
                <div class="prompt-tags" id="promptTags"></div>
                <div class="prompt-section">
                    <h4>üéØ Purpose</h4>
                    <div class="prompt-box" id="promptPurpose"></div>
                </div>
                <div class="prompt-section">
                    <h4>üìù Full Build Prompt</h4>
                    <div class="prompt-box" id="promptFull"></div>
                </div>
                <div class="prompt-section">
                    <h4>üîó Integration Points</h4>
                    <div class="prompt-box" id="promptIntegration"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="copy-success" id="copySuccess">‚úì Copied to clipboard!</div>

    <script>
        // Agent Prompt Data
        const agentPrompts = {
            'intake': {
                title: 'Application Intake Assistant',
                tags: ['Process Automation', 'SmartApp', 'Credit'],
                purpose: 'Automatically process newly submitted SmartApp applications by validating data completeness, pulling credit reports, and preparing the loan file for LO review.',
                fullPrompt: `Create an AI agent that monitors the SmartApp Applications Pipeline for newly submitted applications.

When a new submission is detected:
1. Validate all required fields are complete
2. Check for data inconsistencies (e.g., income vs. stated employment)
3. Automatically order credit report via Clear's credit ordering system
4. Flag any validation errors or missing information
5. Send notification to assigned LO with summary

The agent should run every 5 minutes during business hours and provide a daily summary report of processed applications.`,
                integration: `- SmartApp Applications Pipeline API
- Clear Credit Ordering System
- LO Notification System (email/SMS)
- Clear Loan Data Validation Rules`
            },
            'followup': {
                title: 'Borrower Follow-up Agent',
                tags: ['Communication', 'SmartApp', 'Engagement'],
                purpose: 'Monitor applications with "In Progress" status and send personalized follow-up messages to borrowers who haven\'t completed their application within specified timeframes.',
                fullPrompt: `Create an AI agent that monitors SmartApp applications with "In Progress" status.

Follow-up Schedule:
- 24 hours: Friendly reminder with help offer
- 72 hours: Check-in with specific guidance on remaining sections
- 7 days: Final reminder with LO contact info

Message personalization:
- Include borrower's first name
- Reference specific incomplete sections
- Provide direct link to resume application
- Include LO's contact information

Do not send follow-ups if borrower has logged in within past 6 hours.`,
                integration: `- SmartApp Application Status API
- SmartApp Activity Log
- Email/SMS Communication Service
- LO Contact Information Database`
            },
            'voievoa': {
                title: 'VOIE/VOA Monitor',
                tags: ['Status Tracking', 'Truv', 'Plaid'],
                purpose: 'Monitor Truv (VOIE) and Plaid (VOA) verification statuses, alert LOs when verifications complete or fail, and suggest manual alternatives when automated verification is unavailable.',
                fullPrompt: `Create an AI agent that monitors Truv and Plaid verification statuses for all active SmartApp applications.

Monitoring Rules:
1. Check verification status every 15 minutes
2. Alert LO immediately when verification completes successfully
3. Alert LO if verification fails with specific error details
4. Suggest manual document alternatives if employer/bank not supported

Status Categories:
- Pending: Awaiting borrower action
- In Progress: Verification processing
- Complete: Successfully verified
- Failed: Error occurred, manual docs needed
- Unsupported: Provider not in Truv/Plaid network

Include verification report summary in LO notification.`,
                integration: `- Truv API (VOIE Status)
- Plaid API (VOA Status)
- Clear Services Tab
- LO Notification System`
            },
            'partner': {
                title: 'Partner Notification Agent',
                tags: ['Communication', 'Partners', 'Milestones'],
                purpose: 'Automatically send milestone updates to referral partners when key loan events occur, keeping real estate agents informed without requiring manual LO effort.',
                fullPrompt: `Create an AI agent that sends automated milestone updates to referral partners.

Milestone Triggers:
1. Application Submitted - Notify partner of new referral
2. Credit Pulled - Share general qualification status (no specific scores)
3. Pre-Approved - Celebrate with partner
4. Under Contract - Confirm property details received
5. Clear to Close - Closing date confirmation
6. Funded - Thank partner for referral

Partner Communication Rules:
- Only share information appropriate per compliance
- Include estimated timeline for next milestone
- Provide LO contact info for questions
- Track partner communication preferences (email/text)`,
                integration: `- Clear Partners Database
- Loan Milestone Events
- Partner Portal API
- Email/SMS Communication Service`
            },
            'docanalyzer': {
                title: 'Document Pre-Analyzer',
                tags: ['Document AI', 'Classification', 'Quality'],
                purpose: 'Pre-screen documents uploaded via SmartApp by identifying document types, checking for completeness and quality, and flagging potential issues before processor review.',
                fullPrompt: `Create an AI agent that analyzes documents uploaded through SmartApp.

Document Analysis Tasks:
1. Classify document type (pay stub, W-2, bank statement, ID, etc.)
2. Extract key data points for validation
3. Check image quality (readable, complete pages)
4. Verify document dates are within acceptable ranges
5. Flag potential issues (blurry, incomplete, outdated)

Classification Categories:
- Income: Pay stubs, W-2s, tax returns, 1099s
- Assets: Bank statements, investment statements
- Identity: Driver's license, passport, SSN card
- Property: Purchase contract, appraisal, title

Generate pre-screening report for processor review.`,
                integration: `- SmartApp Document Upload Events
- Clear Docs System
- Document Classification AI Model
- Processor Task Queue`
            }
        };

        let currentPrompt = '';

        // Tab Switching
        function switchTab(tab) {
            document.querySelectorAll('.sidebar-tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));
            document.getElementById(tab + '-panel').classList.add('active');
            document.getElementById('workflow-nav').style.display = tab === 'workflow' ? 'block' : 'none';
            document.getElementById('agents-nav').style.display = tab === 'agents' ? 'block' : 'none';
        }

        // Scroll to Agent
        function scrollToAgent(agentId) {
            const card = document.getElementById(agentId);
            if (card) {
                card.scrollIntoView({ behavior: 'smooth', block: 'center' });
                card.classList.add('highlight');
                setTimeout(() => card.classList.remove('highlight'), 2000);
            }
        }

        // Modal Functions
        function openPromptModal(agentKey) {
            const agent = agentPrompts[agentKey];
            document.getElementById('modalTitle').textContent = '‚ú® ' + agent.title + ' - Build Prompt';
            document.getElementById('promptTags').innerHTML = agent.tags.map(t => `<span class="prompt-tag">${t}</span>`).join('');
            document.getElementById('promptPurpose').textContent = agent.purpose;
            document.getElementById('promptFull').textContent = agent.fullPrompt;
            document.getElementById('promptIntegration').textContent = agent.integration;
            currentPrompt = agent.fullPrompt;
            document.getElementById('promptModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            document.getElementById('promptModal').classList.remove('show');
            document.body.style.overflow = '';
        }

        async function copyPrompt() {
            try {
                await navigator.clipboard.writeText(currentPrompt);
                const success = document.getElementById('copySuccess');
                success.style.display = 'block';
                setTimeout(() => success.style.display = 'none', 2000);
            } catch (e) {
                alert('Failed to copy to clipboard');
            }
        }

        document.getElementById('promptModal').addEventListener('click', (e) => {
            if (e.target.id === 'promptModal') closeModal();
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeModal();
        });

        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function() {
                document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
                this.classList.add('active');
            });
        });
    </script>
</body>
</html>
