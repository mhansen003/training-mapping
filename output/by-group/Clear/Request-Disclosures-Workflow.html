<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request Initial Disclosures - CLEAR 2.0 Workflow | CMG Training Portal</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root { --bg-primary: #0a0f1a; --bg-secondary: #111827; --bg-card: #1a2234; --accent-blue: #3b82f6; --accent-teal: #14b8a6; --accent-amber: #f59e0b; --accent-rose: #f43f5e; --accent-green: #22c55e; --accent-purple: #8b5cf6; --text-primary: #f1f5f9; --text-secondary: #94a3b8; --text-muted: #64748b; --border-subtle: rgba(255,255,255,0.08); --sidebar-width: 280px; }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body { font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, sans-serif; background: var(--bg-primary); color: var(--text-primary); min-height: 100vh; }
        .breadcrumb { background: linear-gradient(90deg, #0d1525 0%, #1a2234 100%); padding: 14px 25px; display: flex; align-items: center; gap: 12px; font-size: 0.95rem; position: fixed; top: 0; left: 0; right: 0; z-index: 1001; border-bottom: 1px solid var(--border-subtle); }
        .breadcrumb a { color: var(--text-secondary); text-decoration: none; font-weight: 600; padding: 8px 16px; background: rgba(255,255,255,0.05); border-radius: 8px; transition: all 0.2s; border: 1px solid var(--border-subtle); }
        .breadcrumb a:hover { background: rgba(59, 130, 246, 0.15); color: var(--accent-blue); border-color: rgba(59, 130, 246, 0.3); }
        .breadcrumb .separator { color: var(--text-muted); font-size: 1.2rem; }
        .breadcrumb .current { color: var(--accent-amber); font-weight: 600; padding: 8px 16px; }
        .sidebar { position: fixed; top: 54px; left: 0; width: var(--sidebar-width); height: calc(100vh - 54px); background: var(--bg-secondary); overflow-y: auto; z-index: 1000; border-right: 1px solid var(--border-subtle); display: flex; flex-direction: column; }
        .sidebar-header { padding: 25px 20px; background: rgba(0,0,0,0.3); border-bottom: 1px solid var(--border-subtle); }
        .sidebar-header h2 { color: var(--text-primary); font-size: 1.2rem; font-weight: 700; margin-bottom: 5px; }
        .sidebar-header p { color: var(--text-muted); font-size: 0.85rem; }
        .sidebar-tabs { display: flex; border-bottom: 1px solid var(--border-subtle); }
        .sidebar-tab { flex: 1; padding: 14px 10px; text-align: center; font-size: 0.8rem; font-weight: 700; color: var(--text-muted); cursor: pointer; transition: all 0.2s; border-bottom: 3px solid transparent; background: none; border-left: none; border-right: none; border-top: none; }
        .sidebar-tab:hover { background: rgba(255,255,255,0.03); color: var(--text-secondary); }
        .sidebar-tab.active { color: var(--accent-blue); border-bottom-color: var(--accent-blue); background: rgba(59, 130, 246, 0.08); }
        .sidebar-tab.agent-tab.active { color: var(--accent-purple); border-bottom-color: var(--accent-purple); background: rgba(139, 92, 246, 0.08); }
        .sidebar-nav { padding: 15px 0; flex: 1; overflow-y: auto; }
        .nav-item { display: flex; align-items: center; gap: 12px; padding: 14px 20px; color: var(--text-secondary); text-decoration: none; border-left: 3px solid transparent; transition: all 0.2s ease; cursor: pointer; }
        .nav-item:hover { background: rgba(255,255,255,0.03); color: var(--text-primary); }
        .nav-item.active { background: rgba(59, 130, 246, 0.1); border-left-color: var(--accent-blue); color: var(--text-primary); }
        .nav-number { background: rgba(255,255,255,0.1); color: var(--text-secondary); width: 28px; height: 28px; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.85rem; flex-shrink: 0; }
        .nav-item.active .nav-number { background: var(--accent-blue); color: white; }
        .nav-label { font-size: 0.95rem; font-weight: 500; }
        .sidebar-footer { padding: 20px; border-top: 1px solid var(--border-subtle); background: rgba(0,0,0,0.2); }
        .doc-btn { display: flex; align-items: center; justify-content: center; gap: 8px; width: 100%; padding: 14px 20px; background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%); color: white; border: none; border-radius: 10px; font-weight: 600; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; text-decoration: none; font-size: 0.95rem; }
        .doc-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3); }
        .main-content { margin-left: var(--sidebar-width); padding: 80px 40px 40px 40px; }
        .tab-panel { display: none; }
        .tab-panel.active { display: block; }
        .header { background: var(--bg-card); border: 1px solid var(--border-subtle); padding: 35px; border-radius: 16px; margin-bottom: 30px; position: relative; overflow: hidden; }
        .header::before { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: radial-gradient(ellipse at 20% 20%, rgba(59, 130, 246, 0.1) 0%, transparent 50%), radial-gradient(ellipse at 80% 80%, rgba(20, 184, 166, 0.08) 0%, transparent 50%); pointer-events: none; }
        .header h1 { font-size: 2.2rem; font-weight: 800; margin-bottom: 10px; position: relative; background: linear-gradient(135deg, var(--text-primary) 0%, var(--accent-blue) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .header .subtitle { color: var(--text-secondary); font-size: 1.1rem; position: relative; }
        .header .meta { display: flex; gap: 15px; margin-top: 20px; flex-wrap: wrap; position: relative; }
        .header .meta-item { background: rgba(255,255,255,0.05); border: 1px solid var(--border-subtle); padding: 8px 16px; border-radius: 8px; font-size: 0.9rem; color: var(--text-secondary); }
        .legend { display: flex; flex-wrap: wrap; gap: 15px; padding: 18px 22px; background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 12px; margin-bottom: 25px; }
        .legend-item { display: flex; align-items: center; gap: 8px; font-size: 0.85rem; color: var(--text-secondary); }
        .legend-color { width: 18px; height: 18px; border-radius: 4px; }
        .section { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 16px; margin-bottom: 25px; overflow: hidden; scroll-margin-top: 75px; }
        .section-header { background: linear-gradient(135deg, var(--bg-secondary) 0%, rgba(59, 130, 246, 0.1) 100%); border-bottom: 1px solid var(--border-subtle); padding: 22px 25px; display: flex; align-items: center; gap: 18px; }
        .section-number { background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%); color: white; width: 48px; height: 48px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-weight: 800; font-size: 1.3rem; flex-shrink: 0; }
        .section-title h2 { font-size: 1.35rem; font-weight: 700; margin-bottom: 4px; color: var(--text-primary); }
        .section-title span { font-size: 0.9rem; color: var(--text-muted); }
        .section-content { padding: 28px; }
        .workflow-diagram { background: rgba(0,0,0,0.3); border: 1px solid var(--border-subtle); border-radius: 12px; padding: 28px; margin-bottom: 22px; }
        .flow-row { display: flex; align-items: center; justify-content: center; flex-wrap: wrap; gap: 12px; margin: 15px 0; }
        .flow-node { padding: 14px 22px; border-radius: 10px; text-align: center; font-size: 0.9rem; font-weight: 600; min-width: 150px; border: 1px solid var(--border-subtle); }
        .flow-node.start { background: linear-gradient(135deg, var(--accent-green) 0%, #16a34a 100%); color: white; border-radius: 25px; border: none; }
        .flow-node.action { background: linear-gradient(135deg, var(--accent-blue) 0%, #2563eb 100%); color: white; border: none; }
        .flow-node.decision { background: linear-gradient(135deg, var(--accent-amber) 0%, #d97706 100%); color: var(--bg-primary); border: none; }
        .flow-node.input { background: var(--bg-secondary); border: 2px solid var(--accent-blue); color: var(--text-primary); }
        .flow-node.output { background: linear-gradient(135deg, var(--accent-teal) 0%, #0d9488 100%); color: white; border: none; }
        .flow-arrow { color: var(--accent-blue); font-size: 1.5rem; }
        .field-table { width: 100%; border-collapse: collapse; margin: 18px 0; }
        .field-table th { background: rgba(59, 130, 246, 0.15); color: var(--accent-blue); padding: 14px 18px; text-align: left; font-weight: 600; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.05em; border-bottom: 1px solid var(--border-subtle); }
        .field-table td { padding: 14px 18px; border-bottom: 1px solid var(--border-subtle); color: var(--text-secondary); }
        .field-table tr:hover { background: rgba(255,255,255,0.02); }
        .badge { display: inline-block; padding: 4px 12px; border-radius: 6px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; }
        .badge.required-badge { background: rgba(244, 63, 94, 0.15); color: var(--accent-rose); }
        .badge.optional-badge { background: rgba(34, 197, 94, 0.15); color: var(--accent-green); }
        .exception-box, .tip-box, .info-box { padding: 18px 22px; margin: 18px 0; border-radius: 0 10px 10px 0; }
        .exception-box { background: rgba(244, 63, 94, 0.08); border: 1px solid rgba(244, 63, 94, 0.2); border-left: 4px solid var(--accent-rose); }
        .exception-box h4 { color: var(--accent-rose); margin-bottom: 10px; font-size: 1rem; }
        .exception-box p, .exception-box li { color: var(--text-secondary); }
        .tip-box { background: rgba(34, 197, 94, 0.08); border: 1px solid rgba(34, 197, 94, 0.2); border-left: 4px solid var(--accent-green); }
        .tip-box h4 { color: var(--accent-green); margin-bottom: 10px; font-size: 1rem; }
        .tip-box p, .tip-box li { color: var(--text-secondary); }
        .info-box { background: rgba(59, 130, 246, 0.08); border: 1px solid rgba(59, 130, 246, 0.2); border-left: 4px solid var(--accent-blue); }
        .info-box h4 { color: var(--accent-blue); margin-bottom: 10px; font-size: 1rem; }
        .info-box p, .info-box li { color: var(--text-secondary); }
        .quick-ref { background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-card) 100%); border: 1px solid var(--border-subtle); padding: 28px; border-radius: 16px; margin-top: 30px; font-family: 'JetBrains Mono', monospace; }
        .quick-ref h3 { color: var(--accent-amber); margin-bottom: 18px; font-family: 'Plus Jakarta Sans', sans-serif; }
        .quick-ref pre { background: rgba(0,0,0,0.4); border: 1px solid var(--border-subtle); padding: 20px; border-radius: 10px; overflow-x: auto; font-size: 0.85rem; line-height: 1.7; color: var(--text-secondary); }
        .agent-header { background: var(--bg-card); border: 1px solid var(--border-subtle); padding: 35px; border-radius: 16px; margin-bottom: 30px; position: relative; overflow: hidden; }
        .agent-header::before { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: radial-gradient(ellipse at 20% 20%, rgba(139, 92, 246, 0.12) 0%, transparent 50%), radial-gradient(ellipse at 80% 80%, rgba(245, 158, 11, 0.1) 0%, transparent 50%); pointer-events: none; }
        .agent-header h1 { font-size: 2.2rem; font-weight: 800; margin-bottom: 10px; position: relative; background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .agent-header .subtitle { color: var(--text-secondary); font-size: 1.1rem; position: relative; }
        .agent-summary { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 35px; }
        .agent-summary-card { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 14px; padding: 25px; text-align: center; }
        .agent-summary-value { font-size: 2.5rem; font-weight: 800; background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .agent-summary-label { font-size: 0.9rem; color: var(--text-muted); margin-top: 8px; }
        .heat-legend { display: flex; gap: 25px; padding: 18px 22px; background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 12px; margin-bottom: 25px; flex-wrap: wrap; }
        .heat-legend-item { display: flex; align-items: center; gap: 10px; font-size: 0.9rem; color: var(--text-secondary); }
        .heat-legend-color { width: 24px; height: 24px; border-radius: 6px; }
        .heat-map-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 35px; }
        .heat-item { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 12px; padding: 20px; position: relative; overflow: hidden; transition: transform 0.2s, box-shadow 0.2s; cursor: pointer; }
        .heat-item:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .heat-item::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 4px; }
        .heat-item.critical::before { background: linear-gradient(90deg, #ef4444, #f97316); }
        .heat-item.high::before { background: linear-gradient(90deg, #f97316, #eab308); }
        .heat-score { position: absolute; top: 15px; right: 15px; font-size: 1.8rem; font-weight: 800; }
        .heat-item.critical .heat-score { color: #ef4444; }
        .heat-item.high .heat-score { color: #f97316; }
        .heat-name { font-size: 1rem; font-weight: 700; color: var(--text-primary); margin-bottom: 6px; padding-right: 50px; }
        .heat-desc { font-size: 0.85rem; color: var(--text-muted); }
        .agent-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)); gap: 25px; margin-bottom: 35px; }
        .agent-card { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 16px; overflow: hidden; transition: transform 0.2s, box-shadow 0.2s; scroll-margin-top: 75px; }
        .agent-card:hover { transform: translateY(-5px); box-shadow: 0 15px 50px rgba(0,0,0,0.3); }
        .agent-card.highlight { animation: highlightPulse 2s ease; }
        @keyframes highlightPulse { 0% { box-shadow: 0 0 0 3px var(--accent-purple); } 100% { box-shadow: none; } }
        .agent-card-header { padding: 22px; display: flex; align-items: flex-start; gap: 18px; border-bottom: 1px solid var(--border-subtle); }
        .agent-icon { width: 55px; height: 55px; background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%); border-radius: 14px; display: flex; align-items: center; justify-content: center; font-size: 1.6rem; flex-shrink: 0; }
        .agent-info { flex: 1; }
        .agent-name { font-size: 1.15rem; font-weight: 700; color: var(--text-primary); margin-bottom: 5px; }
        .agent-type { font-size: 0.8rem; color: var(--accent-purple); font-weight: 600; text-transform: uppercase; }
        .agent-priority { padding: 6px 12px; border-radius: 20px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; }
        .agent-priority.critical { background: rgba(239, 68, 68, 0.15); color: #ef4444; }
        .agent-priority.high { background: rgba(249, 115, 22, 0.15); color: #f97316; }
        .agent-card-body { padding: 22px; }
        .agent-description { font-size: 0.95rem; color: var(--text-secondary); line-height: 1.6; margin-bottom: 20px; }
        .agent-flow { background: rgba(0,0,0,0.3); border: 1px solid var(--border-subtle); border-radius: 10px; padding: 18px; margin-bottom: 20px; }
        .agent-flow-title { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px; font-weight: 600; text-transform: uppercase; }
        .agent-flow-diagram { display: flex; align-items: center; flex-wrap: wrap; gap: 8px; justify-content: center; }
        .agent-step { background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%); color: white; padding: 8px 14px; border-radius: 6px; font-size: 0.8rem; font-weight: 600; }
        .agent-arrow { color: var(--accent-purple); font-size: 1.2rem; }
        .agent-stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
        .agent-stat { background: rgba(0,0,0,0.2); border-radius: 8px; padding: 12px; text-align: center; }
        .agent-stat-value { font-size: 1.3rem; font-weight: 800; background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .agent-stat-label { font-size: 0.7rem; color: var(--text-muted); text-transform: uppercase; margin-top: 4px; }
        .agent-prompt-btn { width: 100%; margin-top: 18px; padding: 14px 20px; background: linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(59, 130, 246, 0.2) 100%); border: 1px solid rgba(139, 92, 246, 0.4); border-radius: 10px; color: var(--accent-purple); font-weight: 700; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; justify-content: center; gap: 10px; font-size: 0.9rem; }
        .agent-prompt-btn:hover { background: linear-gradient(135deg, rgba(139, 92, 246, 0.3) 0%, rgba(59, 130, 246, 0.3) 100%); transform: translateY(-2px); }
        .modal-overlay { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(10, 15, 26, 0.9); z-index: 2000; justify-content: center; align-items: center; padding: 20px; backdrop-filter: blur(5px); }
        .modal-overlay.show { display: flex; }
        .modal { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 16px; width: 100%; max-width: 900px; max-height: 90vh; display: flex; flex-direction: column; }
        .modal-header { background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%); color: white; padding: 22px 28px; display: flex; justify-content: space-between; align-items: center; border-radius: 16px 16px 0 0; }
        .modal-header h3 { font-size: 1.25rem; font-weight: 700; }
        .modal-actions { display: flex; gap: 12px; }
        .modal-btn { padding: 10px 18px; border: none; border-radius: 8px; cursor: pointer; font-weight: 700; font-size: 0.9rem; }
        .modal-btn.copy { background: white; color: var(--accent-purple); }
        .modal-btn.close { background: rgba(255,255,255,0.2); color: white; }
        .modal-body { padding: 28px; overflow-y: auto; flex: 1; }
        .prompt-section { margin-bottom: 25px; }
        .prompt-section h4 { color: var(--accent-purple); font-size: 1rem; margin-bottom: 12px; }
        .prompt-box { background: rgba(0,0,0,0.4); border: 1px solid var(--border-subtle); border-radius: 10px; padding: 20px; font-family: 'JetBrains Mono', monospace; font-size: 0.85rem; line-height: 1.7; color: var(--text-secondary); white-space: pre-wrap; }
        .prompt-tags { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 20px; }
        .prompt-tag { background: rgba(139, 92, 246, 0.15); color: var(--accent-purple); padding: 6px 14px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; }
        .copy-success { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: var(--accent-green); color: white; padding: 18px 35px; border-radius: 10px; font-weight: 700; z-index: 3000; display: none; }
        @media (max-width: 900px) { .sidebar { display: none; } .main-content { margin-left: 0; padding: 75px 20px 30px 20px; } .agent-grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <nav class="breadcrumb">
        <a href="../../index.html">ğŸ  Portal Home</a>
        <span class="separator">â€º</span>
        <a href="./index.html">ğŸ¦ CLEAR 2.0</a>
        <span class="separator">â€º</span>
        <span class="current">ğŸ“œ Request Initial Disclosures</span>
    </nav>

    <aside class="sidebar">
        <div class="sidebar-header">
            <h2>ğŸ“œ Initial Disclosures</h2>
            <p>Interactive Workflow Guide</p>
        </div>
        <div class="sidebar-tabs">
            <button class="sidebar-tab active" onclick="switchTab('workflow')">ğŸ“‹ Workflow</button>
            <button class="sidebar-tab agent-tab" onclick="switchTab('agents')">ğŸ¤– AI Agents</button>
        </div>
        <nav class="sidebar-nav" id="workflow-nav">
            <a href="#section-1" class="nav-item active"><span class="nav-number">1</span><span class="nav-label">Overview</span></a>
            <a href="#section-2" class="nav-item"><span class="nav-number">2</span><span class="nav-label">Pre-Disclosure Check</span></a>
            <a href="#section-3" class="nav-item"><span class="nav-number">3</span><span class="nav-label">Generate Disclosures</span></a>
            <a href="#section-4" class="nav-item"><span class="nav-number">4</span><span class="nav-label">Send & Track</span></a>
        </nav>
        <nav class="sidebar-nav" id="agents-nav" style="display: none;">
            <a href="#agent-summary" class="nav-item active"><span class="nav-number">ğŸ“Š</span><span class="nav-label">Summary</span></a>
            <a href="#agent-details" class="nav-item"><span class="nav-number">ğŸ¤–</span><span class="nav-label">Agent Details</span></a>
        </nav>
        <div class="sidebar-footer">
            <a href="./index.html" class="doc-btn">â† Back to CLEAR Index</a>
        </div>
    </aside>

    <main class="main-content">
        <div id="workflow-panel" class="tab-panel active">
            <div class="header">
                <h1>ğŸ“œ Request Initial Disclosures in CLEAR 2.0</h1>
                <p class="subtitle">Complete workflow for generating and sending initial loan disclosures</p>
                <div class="meta">
                    <span class="meta-item">ğŸ¢ System: CLEAR 2.0</span>
                    <span class="meta-item">ğŸ‘¤ Role: Loan Officer</span>
                    <span class="meta-item">ğŸ“… Updated: Jan 2026</span>
                    <span class="meta-item">â±ï¸ Duration: 5-10 min</span>
                </div>
            </div>

            <div class="legend">
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #22c55e, #16a34a);"></div><span>Start/End</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #3b82f6, #2563eb);"></div><span>Action Step</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #f59e0b, #d97706);"></div><span>Decision Point</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #14b8a6, #0d9488);"></div><span>Output</span></div>
            </div>

            <section id="section-1" class="section">
                <div class="section-header">
                    <div class="section-number">1</div>
                    <div class="section-title"><h2>Overview</h2><span>Understanding initial disclosure requirements</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node start">Application Received</div>
                            <span class="flow-arrow">â†’</span>
                            <div class="flow-node action">Validate Data</div>
                            <span class="flow-arrow">â†’</span>
                            <div class="flow-node action">Generate LE</div>
                            <span class="flow-arrow">â†’</span>
                            <div class="flow-node output">Send to Borrower</div>
                        </div>
                    </div>
                    <div class="info-box">
                        <h4>â° TRID Timeline Requirements</h4>
                        <p>The Loan Estimate (LE) must be delivered to the borrower within <strong>3 business days</strong> of receiving a completed application. The 6 pieces of information that trigger this requirement are:</p>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li>Borrower name</li>
                            <li>Social Security Number</li>
                            <li>Property address</li>
                            <li>Estimated property value</li>
                            <li>Loan amount</li>
                            <li>Borrower income</li>
                        </ul>
                    </div>
                    <table class="field-table">
                        <thead><tr><th>Disclosure</th><th>Purpose</th><th>Timing</th></tr></thead>
                        <tbody>
                            <tr><td>Loan Estimate (LE)</td><td>Summary of loan terms and costs</td><td>Within 3 business days</td></tr>
                            <tr><td>Intent to Proceed</td><td>Borrower confirmation to continue</td><td>Before ordering appraisal</td></tr>
                            <tr><td>State Disclosures</td><td>State-specific requirements</td><td>With LE package</td></tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <section id="section-2" class="section">
                <div class="section-header">
                    <div class="section-number">2</div>
                    <div class="section-title"><h2>Pre-Disclosure Check</h2><span>Verify data before generating disclosures</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Review Loan Data</div>
                            <span class="flow-arrow">â†’</span>
                            <div class="flow-node decision">Data Complete?</div>
                            <span class="flow-arrow">â†’</span>
                            <div class="flow-node action">Run Compliance Check</div>
                        </div>
                    </div>
                    <table class="field-table">
                        <thead><tr><th>Field</th><th>Requirement</th><th>Status</th></tr></thead>
                        <tbody>
                            <tr><td>Borrower Info</td><td>Name, SSN, DOB</td><td><span class="badge required-badge">Required</span></td></tr>
                            <tr><td>Property Address</td><td>Complete address</td><td><span class="badge required-badge">Required</span></td></tr>
                            <tr><td>Loan Amount</td><td>Confirmed amount</td><td><span class="badge required-badge">Required</span></td></tr>
                            <tr><td>Interest Rate</td><td>Locked or estimated</td><td><span class="badge required-badge">Required</span></td></tr>
                            <tr><td>Closing Costs</td><td>Fees calculated</td><td><span class="badge required-badge">Required</span></td></tr>
                        </tbody>
                    </table>
                    <div class="exception-box">
                        <h4>âš ï¸ Common Disclosure Errors</h4>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li>Missing or incorrect property address</li>
                            <li>Rate not matching pricing scenario</li>
                            <li>Incorrect loan product selected</li>
                            <li>Missing state-specific fees</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="section-3" class="section">
                <div class="section-header">
                    <div class="section-number">3</div>
                    <div class="section-title"><h2>Generate Disclosures</h2><span>Create the disclosure package</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Services â†’ Disclosures</div>
                            <span class="flow-arrow">â†’</span>
                            <div class="flow-node action">Request Initial LE</div>
                            <span class="flow-arrow">â†’</span>
                            <div class="flow-node action">Review Package</div>
                            <span class="flow-arrow">â†’</span>
                            <div class="flow-node output">Approve & Queue</div>
                        </div>
                    </div>
                    <div class="tip-box">
                        <h4>ğŸ’¡ Navigation Path</h4>
                        <p><strong>Loan File â†’ Services â†’ Disclosures â†’ Request Initial Disclosures</strong></p>
                    </div>
                    <table class="field-table">
                        <thead><tr><th>Package Component</th><th>Description</th></tr></thead>
                        <tbody>
                            <tr><td>Loan Estimate</td><td>3-page summary of loan terms</td></tr>
                            <tr><td>Intent to Proceed</td><td>Borrower consent form</td></tr>
                            <tr><td>State Disclosures</td><td>State-required forms</td></tr>
                            <tr><td>eConsent</td><td>Electronic delivery consent</td></tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <section id="section-4" class="section">
                <div class="section-header">
                    <div class="section-number">4</div>
                    <div class="section-title"><h2>Send & Track</h2><span>Deliver and monitor borrower response</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Select Delivery Method</div>
                            <span class="flow-arrow">â†’</span>
                            <div class="flow-node action">Send Package</div>
                            <span class="flow-arrow">â†’</span>
                            <div class="flow-node decision">Signed?</div>
                            <span class="flow-arrow">â†’</span>
                            <div class="flow-node output">Intent Received</div>
                        </div>
                    </div>
                    <table class="field-table">
                        <thead><tr><th>Delivery Method</th><th>Timeline</th><th>Best For</th></tr></thead>
                        <tbody>
                            <tr><td>eSign Portal</td><td>Immediate</td><td>Tech-savvy borrowers</td></tr>
                            <tr><td>Email (PDF)</td><td>3 days deemed received</td><td>Standard delivery</td></tr>
                            <tr><td>Mail</td><td>3 days + mail time</td><td>No email access</td></tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <section id="quick-ref" class="quick-ref">
                <h3>âš¡ Quick Reference Card</h3>
                <pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“œ INITIAL DISCLOSURES QUICK REFERENCE                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  NAVIGATION: Loan File â†’ Services â†’ Disclosures                 â”‚
â”‚  DEADLINE:   3 business days from application                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  APPLICATION TRIGGER (All 6 Required):                          â”‚
â”‚  1. Borrower Name                                               â”‚
â”‚  2. Social Security Number                                      â”‚
â”‚  3. Property Address                                            â”‚
â”‚  4. Estimated Property Value                                    â”‚
â”‚  5. Loan Amount                                                 â”‚
â”‚  6. Borrower Income                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  PACKAGE CONTENTS:                                              â”‚
â”‚  â€¢ Loan Estimate (LE)                                           â”‚
â”‚  â€¢ Intent to Proceed                                            â”‚
â”‚  â€¢ State Disclosures                                            â”‚
â”‚  â€¢ eConsent Form                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  DELIVERY TIMING:                                               â”‚
â”‚  eSign = Immediate  |  Email = +3 days  |  Mail = +3 + mail    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                </pre>
            </section>
        </div>

        <div id="agents-panel" class="tab-panel">
            <div class="agent-header">
                <h1>ğŸ¤– AI Agent Opportunities</h1>
                <p class="subtitle">Automation Analysis for Initial Disclosures Workflow</p>
                <div class="meta">
                    <span class="meta-item">ğŸ¤– 2 Agent Candidates Identified</span>
                    <span class="meta-item">â±ï¸ Est. 50% Time Savings</span>
                </div>
            </div>

            <div class="agent-summary" id="agent-summary">
                <div class="agent-summary-card"><div class="agent-summary-value">2</div><div class="agent-summary-label">Agent Candidates</div></div>
                <div class="agent-summary-card"><div class="agent-summary-value">1</div><div class="agent-summary-label">Critical Priority</div></div>
                <div class="agent-summary-card"><div class="agent-summary-value">50%</div><div class="agent-summary-label">Time Savings</div></div>
                <div class="agent-summary-card"><div class="agent-summary-value">70%</div><div class="agent-summary-label">Automation Potential</div></div>
            </div>

            <div class="heat-legend">
                <div class="heat-legend-item"><div class="heat-legend-color" style="background: linear-gradient(135deg, #ef4444, #f97316);"></div><span><strong>Critical (90-100)</strong></span></div>
                <div class="heat-legend-item"><div class="heat-legend-color" style="background: linear-gradient(135deg, #f97316, #eab308);"></div><span><strong>High (70-89)</strong></span></div>
            </div>

            <div class="heat-map-grid">
                <div class="heat-item critical" onclick="scrollToAgent('agent-disclosure-validator')">
                    <div class="heat-score">92</div>
                    <div class="heat-name">Disclosure Validator</div>
                    <div class="heat-desc">Pre-validates data before disclosure generation</div>
                </div>
                <div class="heat-item high" onclick="scrollToAgent('agent-trid-monitor')">
                    <div class="heat-score">85</div>
                    <div class="heat-name">TRID Deadline Monitor</div>
                    <div class="heat-desc">Tracks and alerts on 3-day disclosure deadline</div>
                </div>
            </div>

            <h2 style="margin-bottom: 25px; color: var(--text-primary);" id="agent-details">ğŸ¤– Agent Details</h2>
            <div class="agent-grid">
                <div class="agent-card" id="agent-disclosure-validator">
                    <div class="agent-card-header">
                        <div class="agent-icon">âœ“</div>
                        <div class="agent-info"><div class="agent-name">Disclosure Validator</div><div class="agent-type">Validation Agent</div></div>
                        <span class="agent-priority critical">Critical</span>
                    </div>
                    <div class="agent-card-body">
                        <p class="agent-description">Automatically validates all required data fields before disclosure generation to prevent errors and redisclosures.</p>
                        <div class="agent-flow">
                            <div class="agent-flow-title">Agent Flow</div>
                            <div class="agent-flow-diagram">
                                <span class="agent-step">Scan Fields</span>
                                <span class="agent-arrow">â†’</span>
                                <span class="agent-step">Validate Data</span>
                                <span class="agent-arrow">â†’</span>
                                <span class="agent-step">Check Compliance</span>
                                <span class="agent-arrow">â†’</span>
                                <span class="agent-step">Report Issues</span>
                            </div>
                        </div>
                        <div class="agent-stats">
                            <div class="agent-stat"><div class="agent-stat-value">92</div><div class="agent-stat-label">Priority</div></div>
                            <div class="agent-stat"><div class="agent-stat-value">5min</div><div class="agent-stat-label">Saved</div></div>
                            <div class="agent-stat"><div class="agent-stat-value">95%</div><div class="agent-stat-label">Accuracy</div></div>
                        </div>
                        <button class="agent-prompt-btn" onclick="openPromptModal('disclosureValidator')">âœ¨ View Build Prompt</button>
                    </div>
                </div>

                <div class="agent-card" id="agent-trid-monitor">
                    <div class="agent-card-header">
                        <div class="agent-icon">â°</div>
                        <div class="agent-info"><div class="agent-name">TRID Deadline Monitor</div><div class="agent-type">Compliance Agent</div></div>
                        <span class="agent-priority high">High</span>
                    </div>
                    <div class="agent-card-body">
                        <p class="agent-description">Monitors all applications and sends escalating alerts as the 3-day disclosure deadline approaches.</p>
                        <div class="agent-flow">
                            <div class="agent-flow-title">Agent Flow</div>
                            <div class="agent-flow-diagram">
                                <span class="agent-step">Track Apps</span>
                                <span class="agent-arrow">â†’</span>
                                <span class="agent-step">Calculate Deadline</span>
                                <span class="agent-arrow">â†’</span>
                                <span class="agent-step">Alert LO</span>
                                <span class="agent-arrow">â†’</span>
                                <span class="agent-step">Escalate</span>
                            </div>
                        </div>
                        <div class="agent-stats">
                            <div class="agent-stat"><div class="agent-stat-value">85</div><div class="agent-stat-label">Priority</div></div>
                            <div class="agent-stat"><div class="agent-stat-value">100%</div><div class="agent-stat-label">Compliance</div></div>
                            <div class="agent-stat"><div class="agent-stat-value">24/7</div><div class="agent-stat-label">Monitoring</div></div>
                        </div>
                        <button class="agent-prompt-btn" onclick="openPromptModal('tridMonitor')">âœ¨ View Build Prompt</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <div class="modal-overlay" id="promptModal">
        <div class="modal">
            <div class="modal-header">
                <h3 id="modalTitle">âœ¨ AI Agent Build Prompt</h3>
                <div class="modal-actions">
                    <button class="modal-btn copy" onclick="copyPrompt()">ğŸ“‹ Copy</button>
                    <button class="modal-btn close" onclick="closeModal()">âœ•</button>
                </div>
            </div>
            <div class="modal-body">
                <div class="prompt-tags" id="promptTags"></div>
                <div class="prompt-section"><h4>ğŸ¯ Purpose</h4><div class="prompt-box" id="promptPurpose"></div></div>
                <div class="prompt-section"><h4>ğŸ“ Full Build Prompt</h4><div class="prompt-box" id="promptFull"></div></div>
                <div class="prompt-section"><h4>ğŸ”— Integration Points</h4><div class="prompt-box" id="promptIntegration"></div></div>
            </div>
        </div>
    </div>
    <div class="copy-success" id="copySuccess">âœ“ Copied!</div>

    <script>
        const agentPrompts = {
            disclosureValidator: {
                title: "Disclosure Validator",
                tags: ["Validation", "Compliance", "Pre-Check"],
                purpose: "Validate all required data fields before disclosure generation to prevent errors, redisclosures, and compliance violations.",
                fullPrompt: `You are a Disclosure Validation Agent for CMG Financial's CLEAR 2.0 system.

OBJECTIVE:
Validate all loan data fields required for accurate disclosure generation before the LE is created.

VALIDATION CHECKLIST:

1. Borrower Information
- Full legal name matches credit report
- SSN format valid and consistent
- DOB entered and reasonable
- Email address valid format
- Mailing address complete

2. Property Information
- Complete street address
- City, State, ZIP valid
- Property type selected
- Occupancy type set
- Estimated value entered

3. Loan Terms
- Loan amount entered
- Loan product selected
- Interest rate (locked or estimated)
- Loan term specified
- Amortization type set

4. Fees & Costs
- Origination fees calculated
- Third-party fees populated
- Title fees estimated
- Recording fees by state
- Prepaid items calculated

5. Compliance Checks
- HMDA data complete
- Fair lending flags clear
- State-specific requirements met
- TRID tolerance thresholds

OUTPUT:
âœ… READY FOR DISCLOSURE
or
âš ï¸ ISSUES FOUND:
[List specific issues with field locations and required corrections]`,
                integration: `CLEAR 2.0 Integration Points:
â€¢ Loan Data API - Field validation
â€¢ Compliance Engine - Regulatory checks
â€¢ Fee Calculator - Cost verification
â€¢ State Rules Engine - State requirements

Trigger: Before disclosure generation`
            },
            tridMonitor: {
                title: "TRID Deadline Monitor",
                tags: ["Compliance", "Monitoring", "Alerts"],
                purpose: "Monitor all applications and send escalating alerts as the 3-business-day disclosure deadline approaches to ensure TRID compliance.",
                fullPrompt: `You are a TRID Deadline Monitoring Agent for CMG Financial's CLEAR 2.0 system.

OBJECTIVE:
Track all loan applications and ensure initial disclosures are sent within the required 3 business days.

MONITORING LOGIC:

1. Application Date Detection
- Identify when all 6 trigger items received
- Calculate business day deadline
- Account for weekends and holidays

2. Alert Schedule
- Day 1: Reminder - "Disclosure due in 2 days"
- Day 2 AM: Warning - "Disclosure due tomorrow"
- Day 2 PM: Urgent - "Final day to disclose"
- Day 3: Critical - "Deadline TODAY"
- Missed: Escalate to compliance

3. Deadline Calculation
Business days exclude:
- Saturdays and Sundays
- Federal holidays
- State-specific holidays

4. Status Tracking
- Pending disclosure
- Disclosure sent
- Intent received
- Compliant

ESCALATION PATH:
LO â†’ Branch Manager â†’ Compliance â†’ Risk

OUTPUT:
Daily report of all applications and their TRID status
Real-time alerts for approaching deadlines`,
                integration: `CLEAR 2.0 Integration Points:
â€¢ Application Intake - Detect trigger date
â€¢ Disclosure Service - Send status
â€¢ Calendar API - Business day calculation
â€¢ Notification Service - Alert delivery

Trigger: Daily scan + real-time monitoring`
            }
        };

        let currentPrompt = '';

        function switchTab(tab) {
            document.querySelectorAll('.sidebar-tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));
            document.getElementById(tab + '-panel').classList.add('active');
            document.getElementById('workflow-nav').style.display = tab === 'workflow' ? 'block' : 'none';
            document.getElementById('agents-nav').style.display = tab === 'agents' ? 'block' : 'none';
        }

        function scrollToAgent(agentId) {
            const card = document.getElementById(agentId);
            if (card) { card.scrollIntoView({ behavior: 'smooth', block: 'center' }); card.classList.add('highlight'); setTimeout(() => card.classList.remove('highlight'), 2000); }
        }

        function openPromptModal(agentKey) {
            const agent = agentPrompts[agentKey];
            document.getElementById('modalTitle').textContent = 'âœ¨ ' + agent.title;
            document.getElementById('promptTags').innerHTML = agent.tags.map(t => `<span class="prompt-tag">${t}</span>`).join('');
            document.getElementById('promptPurpose').textContent = agent.purpose;
            document.getElementById('promptFull').textContent = agent.fullPrompt;
            document.getElementById('promptIntegration').textContent = agent.integration;
            currentPrompt = agent.fullPrompt;
            document.getElementById('promptModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() { document.getElementById('promptModal').classList.remove('show'); document.body.style.overflow = ''; }

        async function copyPrompt() {
            try { await navigator.clipboard.writeText(currentPrompt); document.getElementById('copySuccess').style.display = 'block'; setTimeout(() => document.getElementById('copySuccess').style.display = 'none', 2000); } catch (e) { alert('Failed to copy'); }
        }

        document.getElementById('promptModal').addEventListener('click', (e) => { if (e.target.id === 'promptModal') closeModal(); });
        document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeModal(); });
    </script>
</body>
</html>
