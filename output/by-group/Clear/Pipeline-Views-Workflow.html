<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pipeline Views - CLEAR 2.0 Workflow | CMG Training Portal</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root { --bg-primary: #0a0f1a; --bg-secondary: #111827; --bg-card: #1a2234; --accent-blue: #3b82f6; --accent-teal: #14b8a6; --accent-amber: #f59e0b; --accent-rose: #f43f5e; --accent-green: #22c55e; --accent-purple: #8b5cf6; --text-primary: #f1f5f9; --text-secondary: #94a3b8; --text-muted: #64748b; --border-subtle: rgba(255,255,255,0.08); }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, sans-serif; background: var(--bg-primary); color: var(--text-primary); min-height: 100vh; display: flex; flex-direction: column; }
        .breadcrumb { background: linear-gradient(90deg, #0d1525 0%, #1a2234 100%); padding: 14px 25px; display: flex; align-items: center; gap: 12px; font-size: 0.95rem; position: sticky; top: 0; z-index: 1000; border-bottom: 1px solid var(--border-subtle); }
        .breadcrumb a { color: var(--text-secondary); text-decoration: none; font-weight: 600; padding: 8px 16px; background: rgba(255,255,255,0.05); border-radius: 8px; transition: all 0.2s; border: 1px solid var(--border-subtle); }
        .breadcrumb a:hover { background: rgba(59, 130, 246, 0.15); color: var(--accent-blue); border-color: rgba(59, 130, 246, 0.3); }
        .breadcrumb .separator { color: var(--text-muted); font-size: 1.2rem; }
        .breadcrumb .current { color: var(--accent-amber); font-weight: 600; padding: 8px 16px; }
        .page-layout { display: flex; flex: 1; overflow: hidden; }
        .sidebar { width: 280px; background: var(--bg-secondary); border-right: 1px solid var(--border-subtle); display: flex; flex-direction: column; position: sticky; top: 52px; height: calc(100vh - 52px); overflow: hidden; }
        .sidebar-header { padding: 24px 20px; border-bottom: 1px solid var(--border-subtle); }
        .sidebar-title { font-size: 1rem; font-weight: 700; color: var(--text-primary); margin-bottom: 4px; }
        .sidebar-subtitle { font-size: 0.8rem; color: var(--text-muted); }
        .tab-switcher { display: flex; padding: 12px; gap: 8px; border-bottom: 1px solid var(--border-subtle); }
        .tab-btn { flex: 1; padding: 12px; border: none; border-radius: 8px; cursor: pointer; font-weight: 700; font-size: 0.85rem; transition: all 0.2s; background: transparent; color: var(--text-muted); }
        .tab-btn.active { background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%); color: white; }
        .tab-btn:not(.active):hover { background: rgba(255,255,255,0.05); color: var(--text-primary); }
        .section-nav { flex: 1; overflow-y: auto; padding: 12px; }
        .nav-group { margin-bottom: 20px; }
        .nav-group-title { font-size: 0.7rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.1em; color: var(--text-muted); padding: 8px 12px; }
        .nav-item { display: block; padding: 10px 12px; color: var(--text-secondary); text-decoration: none; font-size: 0.85rem; border-radius: 6px; margin-bottom: 2px; transition: all 0.2s; border-left: 3px solid transparent; }
        .nav-item:hover { background: rgba(255,255,255,0.05); color: var(--text-primary); }
        .nav-item.active { background: rgba(59, 130, 246, 0.15); color: var(--accent-blue); border-left-color: var(--accent-blue); }
        .main-content { flex: 1; overflow-y: auto; padding: 40px; max-width: 1000px; }
        .content-section { margin-bottom: 50px; }
        .section-header { display: flex; align-items: center; gap: 15px; margin-bottom: 25px; padding-bottom: 15px; border-bottom: 1px solid var(--border-subtle); }
        .section-icon { font-size: 2rem; }
        .section-title { font-size: 1.6rem; font-weight: 800; }
        .flow-diagram { display: flex; flex-wrap: wrap; gap: 12px; margin: 25px 0; align-items: center; }
        .flow-node { padding: 14px 20px; border-radius: 10px; font-weight: 600; font-size: 0.9rem; text-align: center; min-width: 140px; }
        .flow-node.start { background: linear-gradient(135deg, var(--accent-green) 0%, #16a34a 100%); color: white; border-radius: 25px; }
        .flow-node.action { background: linear-gradient(135deg, var(--accent-blue) 0%, #2563eb 100%); color: white; }
        .flow-node.decision { background: linear-gradient(135deg, var(--accent-amber) 0%, #d97706 100%); color: white; clip-path: polygon(15% 0%, 85% 0%, 100% 50%, 85% 100%, 15% 100%, 0% 50%); padding: 14px 30px; }
        .flow-node.input { background: var(--bg-card); border: 2px solid var(--accent-blue); color: var(--text-primary); }
        .flow-node.output { background: linear-gradient(135deg, var(--accent-teal) 0%, #0d9488 100%); color: white; }
        .flow-arrow { color: var(--text-muted); font-size: 1.5rem; }
        .info-box { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 12px; padding: 20px; margin: 20px 0; }
        .info-box.tip { border-left: 4px solid var(--accent-green); }
        .info-box.warning { border-left: 4px solid var(--accent-amber); }
        .info-box-title { font-weight: 700; margin-bottom: 8px; display: flex; align-items: center; gap: 8px; }
        .field-table { width: 100%; border-collapse: collapse; margin: 20px 0; font-size: 0.9rem; }
        .field-table th, .field-table td { padding: 14px 16px; text-align: left; border-bottom: 1px solid var(--border-subtle); }
        .field-table th { background: var(--bg-card); font-weight: 700; color: var(--text-primary); }
        .field-table td { color: var(--text-secondary); }
        .badge { display: inline-block; padding: 4px 10px; border-radius: 5px; font-size: 0.75rem; font-weight: 700; }
        .badge.required { background: rgba(239, 68, 68, 0.15); color: #f87171; }
        .badge.optional { background: rgba(100, 116, 139, 0.15); color: var(--text-muted); }
        .step-list { counter-reset: step; list-style: none; padding: 0; }
        .step-item { display: flex; gap: 16px; margin-bottom: 20px; padding: 18px; background: var(--bg-card); border-radius: 10px; border: 1px solid var(--border-subtle); }
        .step-item::before { counter-increment: step; content: counter(step); display: flex; align-items: center; justify-content: center; width: 32px; height: 32px; background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%); border-radius: 50%; font-weight: 700; font-size: 0.9rem; flex-shrink: 0; }
        .step-content h4 { font-weight: 700; margin-bottom: 6px; }
        .step-content p { color: var(--text-secondary); font-size: 0.9rem; line-height: 1.6; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .heat-map-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 12px; margin: 20px 0; }
        .heat-tile { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 10px; padding: 16px; cursor: pointer; transition: all 0.3s; position: relative; overflow: hidden; }
        .heat-tile::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 4px; }
        .heat-tile.critical::before { background: var(--accent-rose); }
        .heat-tile.high::before { background: var(--accent-amber); }
        .heat-tile.medium::before { background: var(--accent-blue); }
        .heat-tile.low::before { background: var(--accent-green); }
        .heat-tile:hover { transform: translateY(-3px); box-shadow: 0 8px 25px rgba(0,0,0,0.3); }
        .heat-tile.highlighted { border-color: var(--accent-blue); box-shadow: 0 0 20px rgba(59, 130, 246, 0.3); }
        .heat-score { font-size: 1.8rem; font-weight: 800; margin-bottom: 8px; }
        .heat-tile.critical .heat-score { color: var(--accent-rose); }
        .heat-tile.high .heat-score { color: var(--accent-amber); }
        .heat-tile.medium .heat-score { color: var(--accent-blue); }
        .heat-tile.low .heat-score { color: var(--accent-green); }
        .heat-name { font-weight: 700; font-size: 0.9rem; margin-bottom: 4px; }
        .heat-desc { font-size: 0.8rem; color: var(--text-muted); }
        .agent-card { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 14px; padding: 24px; margin-bottom: 20px; transition: all 0.3s; }
        .agent-card.highlighted { border-color: var(--accent-blue); box-shadow: 0 0 30px rgba(59, 130, 246, 0.2); }
        .agent-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 18px; }
        .agent-title { font-size: 1.2rem; font-weight: 700; }
        .agent-type { font-size: 0.8rem; color: var(--text-muted); margin-top: 4px; }
        .agent-score { text-align: right; }
        .agent-score-value { font-size: 2rem; font-weight: 800; }
        .agent-score-label { font-size: 0.75rem; color: var(--text-muted); }
        .agent-flow { display: flex; align-items: center; gap: 8px; flex-wrap: wrap; margin: 18px 0; padding: 16px; background: rgba(0,0,0,0.2); border-radius: 8px; }
        .agent-flow-step { padding: 8px 14px; background: var(--bg-secondary); border-radius: 6px; font-size: 0.8rem; font-weight: 600; }
        .agent-flow-arrow { color: var(--text-muted); }
        .agent-metrics { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin: 18px 0; }
        .agent-metric { text-align: center; padding: 12px; background: rgba(0,0,0,0.2); border-radius: 8px; }
        .agent-metric-value { font-size: 1.1rem; font-weight: 700; color: var(--accent-teal); }
        .agent-metric-label { font-size: 0.75rem; color: var(--text-muted); margin-top: 4px; }
        .view-prompt-btn { width: 100%; padding: 14px; background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%); border: none; border-radius: 8px; color: white; font-weight: 700; cursor: pointer; transition: all 0.2s; font-size: 0.9rem; }
        .view-prompt-btn:hover { transform: scale(1.02); box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3); }
        .modal-overlay { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(10, 15, 26, 0.9); z-index: 2000; justify-content: center; align-items: center; padding: 20px; backdrop-filter: blur(5px); }
        .modal { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 16px; width: 100%; max-width: 800px; max-height: 90vh; display: flex; flex-direction: column; box-shadow: 0 25px 80px rgba(0,0,0,0.5); }
        .modal-header { background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%); color: white; padding: 22px 28px; display: flex; justify-content: space-between; align-items: center; border-radius: 16px 16px 0 0; }
        .modal-header h3 { font-size: 1.25rem; font-weight: 700; }
        .modal-btn { padding: 10px 18px; border: none; border-radius: 8px; cursor: pointer; font-weight: 700; font-size: 0.9rem; }
        .modal-btn.copy { background: white; color: var(--accent-purple); }
        .modal-btn.close { background: rgba(255,255,255,0.2); color: white; }
        .modal-body { padding: 28px; overflow-y: auto; flex: 1; }
        .prompt-section { margin-bottom: 24px; }
        .prompt-section-title { font-weight: 700; color: var(--accent-teal); margin-bottom: 12px; font-size: 0.9rem; text-transform: uppercase; }
        .prompt-content { background: rgba(0,0,0,0.3); border: 1px solid var(--border-subtle); padding: 18px; border-radius: 10px; font-family: 'JetBrains Mono', monospace; font-size: 0.85rem; line-height: 1.7; white-space: pre-wrap; color: var(--text-secondary); }
        .prompt-tags { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 20px; }
        .prompt-tag { padding: 6px 14px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; }
        .prompt-tag.type { background: rgba(139, 92, 246, 0.15); color: var(--accent-purple); }
        .prompt-tag.complexity { background: rgba(59, 130, 246, 0.15); color: var(--accent-blue); }
        .prompt-tag.priority { background: rgba(245, 158, 11, 0.15); color: var(--accent-amber); }
        #copySuccess { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: var(--accent-green); color: white; padding: 18px 35px; border-radius: 10px; font-weight: 700; z-index: 3000; display: none; }
        .quick-ref { background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(20, 184, 166, 0.1) 100%); border: 1px solid var(--border-subtle); border-radius: 12px; padding: 24px; margin: 30px 0; }
        .quick-ref h3 { font-size: 1.1rem; font-weight: 700; margin-bottom: 16px; }
        .quick-ref-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 12px; }
        .quick-ref-item { background: rgba(0,0,0,0.2); padding: 14px; border-radius: 8px; }
        .quick-ref-item strong { display: block; font-size: 0.8rem; color: var(--text-muted); margin-bottom: 4px; }
        .quick-ref-item span { font-weight: 600; color: var(--text-primary); }
    </style>
</head>
<body>
    <nav class="breadcrumb">
        <a href="../../index.html">üè† Portal Home</a>
        <span class="separator">‚Ä∫</span>
        <a href="./index.html">üè¶ CLEAR 2.0</a>
        <span class="separator">‚Ä∫</span>
        <span class="current">üìà Pipeline Views</span>
    </nav>

    <div class="page-layout">
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-title">Pipeline Views</div>
                <div class="sidebar-subtitle">CLEAR 2.0 Module</div>
            </div>
            <div class="tab-switcher">
                <button class="tab-btn active" onclick="switchTab('workflow')">üìã Workflow</button>
                <button class="tab-btn" onclick="switchTab('agents')">ü§ñ AI Agents</button>
            </div>
            <nav class="section-nav" id="workflowNav">
                <div class="nav-group">
                    <div class="nav-group-title">Overview</div>
                    <a href="#overview" class="nav-item active">Pipeline Overview</a>
                </div>
                <div class="nav-group">
                    <div class="nav-group-title">Features</div>
                    <a href="#type-view" class="nav-item">Type & View Selection</a>
                    <a href="#columns" class="nav-item">Column Management</a>
                    <a href="#actionbolt" class="nav-item">Action Bolt</a>
                    <a href="#tags" class="nav-item">Tags & Filters</a>
                </div>
                <div class="nav-group">
                    <div class="nav-group-title">Reference</div>
                    <a href="#quickref" class="nav-item">Quick Reference</a>
                </div>
            </nav>
            <nav class="section-nav" id="agentsNav" style="display: none;">
                <div class="nav-group">
                    <div class="nav-group-title">Heat Map</div>
                    <a href="#heatmap" class="nav-item active">Priority Overview</a>
                </div>
                <div class="nav-group">
                    <div class="nav-group-title">Agents</div>
                    <a href="#agent1" class="nav-item">Smart Filter Agent</a>
                    <a href="#agent2" class="nav-item">Priority Ranker</a>
                </div>
            </nav>
        </aside>

        <main class="main-content">
            <div id="workflowContent" class="tab-content active">
                <section id="overview" class="content-section">
                    <div class="section-header">
                        <span class="section-icon">üìà</span>
                        <h2 class="section-title">Pipeline Views in CLEAR 2.0</h2>
                    </div>
                    <p style="color: var(--text-secondary); line-height: 1.8; margin-bottom: 20px;">
                        CLEAR 2.0's Pipeline View provides powerful tools to manage and organize your loan pipeline. Use Type and View dropdowns to filter loans, customize columns, apply tags, and quickly access loan actions via the Action Bolt.
                    </p>
                    <div class="flow-diagram">
                        <div class="flow-node start">Pipeline</div>
                        <span class="flow-arrow">‚Üí</span>
                        <div class="flow-node input">Type Filter</div>
                        <span class="flow-arrow">‚Üí</span>
                        <div class="flow-node input">View Selection</div>
                        <span class="flow-arrow">‚Üí</span>
                        <div class="flow-node action">Custom Columns</div>
                        <span class="flow-arrow">‚Üí</span>
                        <div class="flow-node output">Filtered Results</div>
                    </div>
                </section>

                <section id="type-view" class="content-section">
                    <div class="section-header">
                        <span class="section-icon">üîç</span>
                        <h2 class="section-title">Type & View Selection</h2>
                    </div>
                    <table class="field-table">
                        <thead><tr><th>Dropdown</th><th>Options</th><th>Purpose</th></tr></thead>
                        <tbody>
                            <tr><td><strong>Type</strong></td><td>All Loans, My Loans, Opportunity Loans</td><td>Filter by loan ownership/category</td></tr>
                            <tr><td><strong>View</strong></td><td>Default, Custom Views, Status-based</td><td>Apply saved column/filter configurations</td></tr>
                        </tbody>
                    </table>
                    <ol class="step-list">
                        <li class="step-item">
                            <div class="step-content">
                                <h4>Select Type</h4>
                                <p>Use the Type dropdown to filter between All Loans, My Loans (assigned to you), or Opportunity Loans (servicing portfolio).</p>
                            </div>
                        </li>
                        <li class="step-item">
                            <div class="step-content">
                                <h4>Choose View</h4>
                                <p>Select a View to apply a specific column configuration. You can save custom views for quick access to your preferred layout.</p>
                            </div>
                        </li>
                    </ol>
                </section>

                <section id="columns" class="content-section">
                    <div class="section-header">
                        <span class="section-icon">üìä</span>
                        <h2 class="section-title">Column Management</h2>
                    </div>
                    <p style="color: var(--text-secondary); margin-bottom: 20px;">Customize your pipeline view by adding, removing, or reordering columns.</p>
                    <ol class="step-list">
                        <li class="step-item">
                            <div class="step-content">
                                <h4>Click Columns Button</h4>
                                <p>Click the "Columns" button above the pipeline grid to open column configuration.</p>
                            </div>
                        </li>
                        <li class="step-item">
                            <div class="step-content">
                                <h4>Add/Remove Columns</h4>
                                <p>Check columns to add or uncheck to remove. Available columns include: Loan #, Borrower, Status, Rate, Lock Expiration, Closing Date, and more.</p>
                            </div>
                        </li>
                        <li class="step-item">
                            <div class="step-content">
                                <h4>Reorder Columns</h4>
                                <p>Drag and drop columns to reorder them. Your first few columns will be visible without scrolling.</p>
                            </div>
                        </li>
                        <li class="step-item">
                            <div class="step-content">
                                <h4>Save View</h4>
                                <p>Click "Save" to save your custom column configuration as a named view for future use.</p>
                            </div>
                        </li>
                    </ol>
                </section>

                <section id="actionbolt" class="content-section">
                    <div class="section-header">
                        <span class="section-icon">‚ö°</span>
                        <h2 class="section-title">Action Bolt Quick Actions</h2>
                    </div>
                    <p style="color: var(--text-secondary); margin-bottom: 20px;">The Action Bolt (‚ö°) in the first column provides quick access to loan actions without opening the full loan file.</p>
                    <table class="field-table">
                        <thead><tr><th>Action</th><th>Description</th></tr></thead>
                        <tbody>
                            <tr><td><strong>Loan Details</strong></td><td>View loan summary information</td></tr>
                            <tr><td><strong>Notes</strong></td><td>Add or view loan notes</td></tr>
                            <tr><td><strong>Upload Docs</strong></td><td>Quick document upload</td></tr>
                            <tr><td><strong>Email Borrowers</strong></td><td>Send email to borrowers</td></tr>
                            <tr><td><strong>Copy Loan</strong></td><td>Duplicate the loan file</td></tr>
                            <tr><td><strong>AUS</strong></td><td>Run AUS directly</td></tr>
                            <tr><td><strong>Parties</strong></td><td>View/edit loan parties</td></tr>
                            <tr><td><strong>Condo Processing</strong></td><td>Access condo workflow (if applicable)</td></tr>
                            <tr><td><strong>Disclosures</strong></td><td>Access disclosure tools</td></tr>
                        </tbody>
                    </table>
                </section>

                <section id="tags" class="content-section">
                    <div class="section-header">
                        <span class="section-icon">üè∑Ô∏è</span>
                        <h2 class="section-title">Tags & Global Search</h2>
                    </div>
                    <p style="color: var(--text-secondary); margin-bottom: 20px;">Use tags to categorize loans and Global Search to quickly find specific loans.</p>
                    <div class="info-box tip">
                        <div class="info-box-title">üí° Global Search</div>
                        <p style="color: var(--text-secondary); font-size: 0.9rem;">Use the search bar at the top of the pipeline to search by Loan #, Borrower Name, Property Address, or other identifiers. Click "Show All Details" to expand search results.</p>
                    </div>
                </section>

                <section id="quickref" class="content-section">
                    <div class="quick-ref">
                        <h3>‚ö° Quick Reference</h3>
                        <div class="quick-ref-grid">
                            <div class="quick-ref-item"><strong>Access Point</strong><span>Pipeline Menu</span></div>
                            <div class="quick-ref-item"><strong>Quick Action</strong><span>Action Bolt (‚ö°)</span></div>
                            <div class="quick-ref-item"><strong>Custom Views</strong><span>Save ‚Üí Name View</span></div>
                            <div class="quick-ref-item"><strong>Search Shortcut</strong><span>Global Search Bar</span></div>
                        </div>
                    </div>
                </section>
            </div>

            <div id="agentsContent" class="tab-content">
                <section id="heatmap" class="content-section">
                    <div class="section-header">
                        <span class="section-icon">üéØ</span>
                        <h2 class="section-title">AI Agent Opportunity Heat Map</h2>
                    </div>
                    <div class="heat-map-grid">
                        <div class="heat-tile high" onclick="scrollToAgent('agent1')">
                            <div class="heat-score">80</div>
                            <div class="heat-name">Smart Filter Agent</div>
                            <div class="heat-desc">ML Classification ‚Ä¢ View</div>
                        </div>
                        <div class="heat-tile medium" onclick="scrollToAgent('agent2')">
                            <div class="heat-score">68</div>
                            <div class="heat-name">Priority Ranker</div>
                            <div class="heat-desc">Decision Support ‚Ä¢ Sort</div>
                        </div>
                    </div>
                </section>

                <section id="agent1" class="content-section">
                    <div class="agent-card" data-agent="agent1">
                        <div class="agent-header">
                            <div>
                                <div class="agent-title">Smart Pipeline Filter Agent</div>
                                <div class="agent-type">ML Classification / Personalization</div>
                            </div>
                            <div class="agent-score">
                                <div class="agent-score-value" style="color: var(--accent-amber);">80</div>
                                <div class="agent-score-label">Priority Score</div>
                            </div>
                        </div>
                        <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 16px;">
                            Learns user behavior patterns to automatically suggest optimal pipeline filters and views based on time of day, workload, and historical actions.
                        </p>
                        <div class="agent-flow">
                            <div class="agent-flow-step">üìä User Behavior</div>
                            <span class="agent-flow-arrow">‚Üí</span>
                            <div class="agent-flow-step">ü§ñ Pattern Analysis</div>
                            <span class="agent-flow-arrow">‚Üí</span>
                            <div class="agent-flow-step">üí° Suggest View</div>
                            <span class="agent-flow-arrow">‚Üí</span>
                            <div class="agent-flow-step">‚úì Apply Filter</div>
                        </div>
                        <div class="agent-metrics">
                            <div class="agent-metric"><div class="agent-metric-value">2 min</div><div class="agent-metric-label">Time Saved</div></div>
                            <div class="agent-metric"><div class="agent-metric-value">85%</div><div class="agent-metric-label">Accuracy</div></div>
                            <div class="agent-metric"><div class="agent-metric-value">Medium</div><div class="agent-metric-label">Complexity</div></div>
                        </div>
                        <button class="view-prompt-btn" onclick="openPromptModal('agent1')">‚ú® View AI Prompt to Build This Agent</button>
                    </div>
                </section>

                <section id="agent2" class="content-section">
                    <div class="agent-card" data-agent="agent2">
                        <div class="agent-header">
                            <div>
                                <div class="agent-title">Loan Priority Ranker</div>
                                <div class="agent-type">Decision Support / Prioritization</div>
                            </div>
                            <div class="agent-score">
                                <div class="agent-score-value" style="color: var(--accent-blue);">68</div>
                                <div class="agent-score-label">Priority Score</div>
                            </div>
                        </div>
                        <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 16px;">
                            Automatically ranks pipeline loans by urgency using lock expiration, closing dates, pending conditions, and borrower responsiveness.
                        </p>
                        <div class="agent-flow">
                            <div class="agent-flow-step">üìã Loan Data</div>
                            <span class="agent-flow-arrow">‚Üí</span>
                            <div class="agent-flow-step">‚è∞ Urgency Factors</div>
                            <span class="agent-flow-arrow">‚Üí</span>
                            <div class="agent-flow-step">üìä Score & Rank</div>
                            <span class="agent-flow-arrow">‚Üí</span>
                            <div class="agent-flow-step">üì± Alert LO</div>
                        </div>
                        <div class="agent-metrics">
                            <div class="agent-metric"><div class="agent-metric-value">5 min</div><div class="agent-metric-label">Time Saved</div></div>
                            <div class="agent-metric"><div class="agent-metric-value">90%</div><div class="agent-metric-label">Accuracy</div></div>
                            <div class="agent-metric"><div class="agent-metric-value">Low</div><div class="agent-metric-label">Complexity</div></div>
                        </div>
                        <button class="view-prompt-btn" onclick="openPromptModal('agent2')">‚ú® View AI Prompt to Build This Agent</button>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <div class="modal-overlay" id="promptModal">
        <div class="modal">
            <div class="modal-header">
                <h3 id="modalTitle">‚ú® AI Agent Build Prompt</h3>
                <div style="display: flex; gap: 12px;">
                    <button class="modal-btn copy" onclick="copyPrompt()">üìã Copy Prompt</button>
                    <button class="modal-btn close" onclick="closePromptModal()">‚úï Close</button>
                </div>
            </div>
            <div class="modal-body">
                <div class="prompt-tags" id="promptTags"></div>
                <div class="prompt-section"><div class="prompt-section-title">Agent Purpose</div><div class="prompt-content" id="promptPurpose"></div></div>
                <div class="prompt-section"><div class="prompt-section-title">Full Build Prompt</div><div class="prompt-content" id="promptFull"></div></div>
                <div class="prompt-section"><div class="prompt-section-title">Integration Points</div><div class="prompt-content" id="promptIntegration"></div></div>
            </div>
        </div>
    </div>
    <div id="copySuccess">‚úì Copied to clipboard!</div>

    <script>
        const agentPrompts = {
            agent1: {
                title: "Smart Pipeline Filter Agent", type: "ML Classification", complexity: "Medium", priority: "High (80)",
                purpose: "Learns user behavior to automatically suggest optimal pipeline filters and views.",
                fullPrompt: `You are building a Smart Pipeline Filter Agent for CMG Financial's CLEAR 2.0.

AGENT NAME: Smart Pipeline Filter Agent
TYPE: ML Classification / Personalization

OBJECTIVE:
Analyze user behavior patterns to suggest optimal pipeline views and filters based on context.

INPUT: User ID, time of day, recent actions, current workload
OUTPUT: { "suggested_view": "...", "suggested_filters": [...], "confidence": 0.85 }`,
                integration: `Integration: User activity logs, Pipeline API, View preferences storage`
            },
            agent2: {
                title: "Loan Priority Ranker", type: "Decision Support", complexity: "Low", priority: "Medium (68)",
                purpose: "Ranks pipeline loans by urgency using multiple factors.",
                fullPrompt: `You are building a Loan Priority Ranker Agent for CMG Financial's CLEAR 2.0.

AGENT NAME: Loan Priority Ranker
TYPE: Decision Support / Prioritization

OBJECTIVE:
Score and rank loans by urgency to help LOs focus on high-priority items.

SCORING FACTORS:
- Lock expiration (weight: 30%)
- Closing date proximity (weight: 25%)
- Pending conditions count (weight: 20%)
- Days since last activity (weight: 15%)
- Borrower responsiveness (weight: 10%)

OUTPUT: { "rankings": [{"loan_id": "...", "score": 95, "top_factor": "lock_expires_2_days"}] }`,
                integration: `Integration: Pipeline data, Lock desk API, Condition tracking`
            }
        };

        function switchTab(tab) {
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            event.target.classList.add('active');
            document.getElementById(tab + 'Content').classList.add('active');
            document.getElementById('workflowNav').style.display = tab === 'workflow' ? 'block' : 'none';
            document.getElementById('agentsNav').style.display = tab === 'agents' ? 'block' : 'none';
        }

        function scrollToAgent(id) {
            document.querySelectorAll('.heat-tile, .agent-card').forEach(el => el.classList.remove('highlighted'));
            event.target.closest('.heat-tile').classList.add('highlighted');
            const card = document.querySelector(`[data-agent="${id}"]`);
            if (card) { card.classList.add('highlighted'); card.scrollIntoView({ behavior: 'smooth', block: 'center' }); }
        }

        let currentPromptText = '';
        function openPromptModal(id) {
            const a = agentPrompts[id];
            document.getElementById('modalTitle').textContent = '‚ú® ' + a.title;
            document.getElementById('promptTags').innerHTML = `<span class="prompt-tag type">${a.type}</span><span class="prompt-tag complexity">${a.complexity}</span><span class="prompt-tag priority">${a.priority}</span>`;
            document.getElementById('promptPurpose').textContent = a.purpose;
            document.getElementById('promptFull').textContent = a.fullPrompt;
            document.getElementById('promptIntegration').textContent = a.integration;
            currentPromptText = a.fullPrompt;
            document.getElementById('promptModal').style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }
        function closePromptModal() { document.getElementById('promptModal').style.display = 'none'; document.body.style.overflow = ''; }
        async function copyPrompt() {
            await navigator.clipboard.writeText(currentPromptText);
            document.getElementById('copySuccess').style.display = 'block';
            setTimeout(() => document.getElementById('copySuccess').style.display = 'none', 2000);
        }
        document.getElementById('promptModal').onclick = e => { if (e.target.id === 'promptModal') closePromptModal(); };
        document.onkeydown = e => { if (e.key === 'Escape') closePromptModal(); };
    </script>
</body>
</html>
