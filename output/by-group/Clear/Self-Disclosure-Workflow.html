<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Self-Disclosure - CLEAR 2.0 Workflow | CMG Training Portal</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0f1a;
            --bg-secondary: #111827;
            --bg-card: #1a2234;
            --accent-blue: #3b82f6;
            --accent-teal: #14b8a6;
            --accent-amber: #f59e0b;
            --accent-rose: #f43f5e;
            --accent-green: #22c55e;
            --accent-purple: #8b5cf6;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --border-subtle: rgba(255,255,255,0.08);
            --sidebar-width: 280px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
        }

        /* Breadcrumb - FIXED positioning */
        .breadcrumb {
            background: linear-gradient(90deg, #0d1525 0%, #1a2234 100%);
            padding: 14px 25px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 0.95rem;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1001;
            border-bottom: 1px solid var(--border-subtle);
        }

        .breadcrumb a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 600;
            padding: 8px 16px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
            transition: all 0.2s;
            border: 1px solid var(--border-subtle);
        }

        .breadcrumb a:hover {
            background: rgba(59, 130, 246, 0.15);
            color: var(--accent-blue);
            border-color: rgba(59, 130, 246, 0.3);
        }

        .breadcrumb .separator { color: var(--text-muted); font-size: 1.2rem; }
        .breadcrumb .current { color: var(--accent-amber); font-weight: 600; padding: 8px 16px; }

        /* Sidebar - FIXED positioning */
        .sidebar {
            position: fixed;
            top: 54px;
            left: 0;
            width: var(--sidebar-width);
            height: calc(100vh - 54px);
            background: var(--bg-secondary);
            overflow-y: auto;
            z-index: 1000;
            border-right: 1px solid var(--border-subtle);
            display: flex;
            flex-direction: column;
        }

        .sidebar-header {
            padding: 25px 20px;
            background: rgba(0,0,0,0.3);
            border-bottom: 1px solid var(--border-subtle);
        }

        .sidebar-header h2 { color: var(--text-primary); font-size: 1.2rem; font-weight: 700; margin-bottom: 5px; }
        .sidebar-header p { color: var(--text-muted); font-size: 0.85rem; }

        /* Tab Switch */
        .sidebar-tabs {
            display: flex;
            border-bottom: 1px solid var(--border-subtle);
        }

        .sidebar-tab {
            flex: 1;
            padding: 14px 10px;
            text-align: center;
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--text-muted);
            cursor: pointer;
            transition: all 0.2s;
            border-bottom: 3px solid transparent;
            background: none;
            border-left: none;
            border-right: none;
            border-top: none;
        }

        .sidebar-tab:hover { background: rgba(255,255,255,0.03); color: var(--text-secondary); }
        .sidebar-tab.active { color: var(--accent-blue); border-bottom-color: var(--accent-blue); background: rgba(59, 130, 246, 0.08); }
        .sidebar-tab.agent-tab.active { color: var(--accent-purple); border-bottom-color: var(--accent-purple); background: rgba(139, 92, 246, 0.08); }

        .sidebar-nav { padding: 15px 0; flex: 1; overflow-y: auto; }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 20px;
            color: var(--text-secondary);
            text-decoration: none;
            border-left: 3px solid transparent;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .nav-item:hover { background: rgba(255,255,255,0.03); color: var(--text-primary); }
        .nav-item.active { background: rgba(59, 130, 246, 0.1); border-left-color: var(--accent-blue); color: var(--text-primary); }

        .nav-number {
            background: rgba(255,255,255,0.1);
            color: var(--text-secondary);
            width: 28px;
            height: 28px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.85rem;
            flex-shrink: 0;
        }

        .nav-item.active .nav-number { background: var(--accent-blue); color: white; }
        .nav-label { font-size: 0.95rem; font-weight: 500; }

        .sidebar-footer {
            padding: 20px;
            border-top: 1px solid var(--border-subtle);
            background: rgba(0,0,0,0.2);
        }

        .doc-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
            padding: 14px 20px;
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            text-decoration: none;
            font-size: 0.95rem;
        }

        .doc-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3); }

        /* Main Content */
        .main-content { margin-left: var(--sidebar-width); padding: 80px 40px 40px 40px; }

        /* Tab Panels */
        .tab-panel { display: none; }
        .tab-panel.active { display: block; }

        .header {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            padding: 35px;
            border-radius: 16px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background:
                radial-gradient(ellipse at 20% 20%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(20, 184, 166, 0.08) 0%, transparent 50%);
            pointer-events: none;
        }

        .header h1 {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 10px;
            position: relative;
            background: linear-gradient(135deg, var(--text-primary) 0%, var(--accent-blue) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header .subtitle { color: var(--text-secondary); font-size: 1.1rem; position: relative; }

        .header .meta { display: flex; gap: 15px; margin-top: 20px; flex-wrap: wrap; position: relative; }

        .header .meta-item {
            background: rgba(255,255,255,0.05);
            border: 1px solid var(--border-subtle);
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Legend */
        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            padding: 18px 22px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            margin-bottom: 25px;
        }

        .legend-item { display: flex; align-items: center; gap: 8px; font-size: 0.85rem; color: var(--text-secondary); }
        .legend-color { width: 18px; height: 18px; border-radius: 4px; }

        /* Sections */
        .section {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            margin-bottom: 25px;
            overflow: hidden;
            scroll-margin-top: 75px;
        }

        .section-header {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, rgba(59, 130, 246, 0.1) 100%);
            border-bottom: 1px solid var(--border-subtle);
            padding: 22px 25px;
            display: flex;
            align-items: center;
            gap: 18px;
        }

        .section-number {
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 1.3rem;
            flex-shrink: 0;
        }

        .section-title h2 { font-size: 1.35rem; font-weight: 700; margin-bottom: 4px; color: var(--text-primary); }
        .section-title span { font-size: 0.9rem; color: var(--text-muted); }
        .section-content { padding: 28px; }

        /* Workflow Diagrams */
        .workflow-diagram {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 28px;
            margin-bottom: 22px;
        }

        .flow-row { display: flex; align-items: center; justify-content: center; flex-wrap: wrap; gap: 12px; margin: 15px 0; }

        .flow-node {
            padding: 14px 22px;
            border-radius: 10px;
            text-align: center;
            font-size: 0.9rem;
            font-weight: 600;
            min-width: 150px;
            border: 1px solid var(--border-subtle);
        }

        .flow-node.start { background: linear-gradient(135deg, var(--accent-green) 0%, #16a34a 100%); color: white; border-radius: 25px; border: none; }
        .flow-node.action { background: linear-gradient(135deg, var(--accent-blue) 0%, #2563eb 100%); color: white; border: none; }
        .flow-node.decision { background: linear-gradient(135deg, var(--accent-amber) 0%, #d97706 100%); color: var(--bg-primary); border: none; }
        .flow-node.input { background: var(--bg-secondary); border: 2px solid var(--accent-blue); color: var(--text-primary); }
        .flow-node.output { background: linear-gradient(135deg, var(--accent-teal) 0%, #0d9488 100%); color: white; border: none; }
        .flow-node.exception { background: linear-gradient(135deg, var(--accent-rose) 0%, #dc2626 100%); color: white; border: none; }

        .flow-arrow { color: var(--accent-blue); font-size: 1.5rem; }
        .flow-arrow.down { transform: rotate(90deg); }

        /* Tables */
        .field-table { width: 100%; border-collapse: collapse; margin: 18px 0; }

        .field-table th {
            background: rgba(59, 130, 246, 0.15);
            color: var(--accent-blue);
            padding: 14px 18px;
            text-align: left;
            font-weight: 600;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            border-bottom: 1px solid var(--border-subtle);
        }

        .field-table td { padding: 14px 18px; border-bottom: 1px solid var(--border-subtle); color: var(--text-secondary); }
        .field-table tr:hover { background: rgba(255,255,255,0.02); }

        .badge { display: inline-block; padding: 4px 12px; border-radius: 6px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; }
        .badge.required-badge { background: rgba(244, 63, 94, 0.15); color: var(--accent-rose); }
        .badge.optional-badge { background: rgba(34, 197, 94, 0.15); color: var(--accent-green); }

        /* Info Boxes */
        .exception-box, .tip-box, .info-box {
            padding: 18px 22px;
            margin: 18px 0;
            border-radius: 0 10px 10px 0;
            border-left-width: 4px;
            border-left-style: solid;
        }

        .exception-box { background: rgba(244, 63, 94, 0.08); border-color: var(--accent-rose); border: 1px solid rgba(244, 63, 94, 0.2); border-left: 4px solid var(--accent-rose); }
        .exception-box h4 { color: var(--accent-rose); margin-bottom: 10px; font-size: 1rem; }
        .exception-box p, .exception-box li { color: var(--text-secondary); }

        .tip-box { background: rgba(34, 197, 94, 0.08); border-color: var(--accent-green); border: 1px solid rgba(34, 197, 94, 0.2); border-left: 4px solid var(--accent-green); }
        .tip-box h4 { color: var(--accent-green); margin-bottom: 10px; font-size: 1rem; }
        .tip-box p, .tip-box li { color: var(--text-secondary); }

        .info-box { background: rgba(59, 130, 246, 0.08); border-color: var(--accent-blue); border: 1px solid rgba(59, 130, 246, 0.2); border-left: 4px solid var(--accent-blue); }
        .info-box h4 { color: var(--accent-blue); margin-bottom: 10px; font-size: 1rem; }
        .info-box p, .info-box li { color: var(--text-secondary); }

        /* Quick Reference */
        .quick-ref {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-card) 100%);
            border: 1px solid var(--border-subtle);
            padding: 28px;
            border-radius: 16px;
            margin-top: 30px;
            font-family: 'JetBrains Mono', monospace;
        }

        .quick-ref h3 { color: var(--accent-amber); margin-bottom: 18px; font-family: 'Plus Jakarta Sans', sans-serif; }
        .quick-ref pre { background: rgba(0,0,0,0.4); border: 1px solid var(--border-subtle); padding: 20px; border-radius: 10px; overflow-x: auto; font-size: 0.85rem; line-height: 1.7; color: var(--text-secondary); }

        /* ====== AGENT OPPORTUNITIES STYLES ====== */
        .agent-header {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            padding: 35px;
            border-radius: 16px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .agent-header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background:
                radial-gradient(ellipse at 20% 20%, rgba(139, 92, 246, 0.12) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(245, 158, 11, 0.1) 0%, transparent 50%);
            pointer-events: none;
        }

        .agent-header h1 {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 10px;
            position: relative;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-header .subtitle { color: var(--text-secondary); font-size: 1.1rem; position: relative; }

        /* Heat Map */
        .heat-map-container { margin-bottom: 35px; }
        .heat-map-title { font-size: 1.3rem; font-weight: 700; color: var(--text-primary); margin-bottom: 20px; display: flex; align-items: center; gap: 12px; }

        .heat-map-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .heat-item {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 20px;
            position: relative;
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
        }

        .heat-item:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .heat-item:active { transform: scale(0.98); }

        .heat-item::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; height: 4px;
        }

        .heat-item.critical::before { background: linear-gradient(90deg, #ef4444, #f97316); }
        .heat-item.high::before { background: linear-gradient(90deg, #f97316, #eab308); }
        .heat-item.medium::before { background: linear-gradient(90deg, #eab308, #22c55e); }
        .heat-item.low::before { background: linear-gradient(90deg, #22c55e, #14b8a6); }

        .heat-score {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.8rem;
            font-weight: 800;
        }

        .heat-item.critical .heat-score { color: #ef4444; }
        .heat-item.high .heat-score { color: #f97316; }
        .heat-item.medium .heat-score { color: #eab308; }
        .heat-item.low .heat-score { color: #22c55e; }

        .heat-name { font-size: 1rem; font-weight: 700; color: var(--text-primary); margin-bottom: 6px; padding-right: 50px; }
        .heat-desc { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px; }

        .heat-metrics { display: flex; gap: 15px; margin-top: 12px; }
        .heat-metric { font-size: 0.75rem; color: var(--text-muted); }
        .heat-metric span { color: var(--text-secondary); font-weight: 600; }

        /* Agent Summary */
        .agent-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 35px;
        }

        .agent-summary-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 14px;
            padding: 25px;
            text-align: center;
        }

        .agent-summary-value {
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-summary-label { font-size: 0.9rem; color: var(--text-muted); margin-top: 8px; }

        /* Heat Map Legend */
        .heat-legend {
            display: flex;
            gap: 25px;
            padding: 18px 22px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .heat-legend-item { display: flex; align-items: center; gap: 10px; font-size: 0.9rem; color: var(--text-secondary); }
        .heat-legend-color { width: 24px; height: 24px; border-radius: 6px; }

        /* Agent Cards */
        .agent-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)); gap: 25px; margin-bottom: 35px; }

        .agent-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
            scroll-margin-top: 75px;
        }

        .agent-card:hover { transform: translateY(-5px); box-shadow: 0 15px 50px rgba(0,0,0,0.3); }

        .agent-card.highlight {
            animation: highlightPulse 2s ease;
            box-shadow: 0 0 0 3px var(--accent-purple), 0 15px 50px rgba(139, 92, 246, 0.4);
        }

        @keyframes highlightPulse {
            0% { box-shadow: 0 0 0 3px var(--accent-purple), 0 15px 50px rgba(139, 92, 246, 0.6); }
            50% { box-shadow: 0 0 0 6px rgba(139, 92, 246, 0.5), 0 15px 50px rgba(139, 92, 246, 0.3); }
            100% { box-shadow: 0 0 0 0px transparent, 0 15px 50px rgba(0,0,0,0.3); }
        }

        .agent-card-header {
            padding: 22px;
            display: flex;
            align-items: flex-start;
            gap: 18px;
            border-bottom: 1px solid var(--border-subtle);
        }

        .agent-icon {
            width: 55px;
            height: 55px;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.6rem;
            flex-shrink: 0;
        }

        .agent-info { flex: 1; }
        .agent-name { font-size: 1.15rem; font-weight: 700; color: var(--text-primary); margin-bottom: 5px; }
        .agent-type { font-size: 0.8rem; color: var(--accent-purple); font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }

        .agent-priority {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
        }

        .agent-priority.critical { background: rgba(239, 68, 68, 0.15); color: #ef4444; }
        .agent-priority.high { background: rgba(249, 115, 22, 0.15); color: #f97316; }
        .agent-priority.medium { background: rgba(234, 179, 8, 0.15); color: #eab308; }
        .agent-priority.low { background: rgba(34, 197, 94, 0.15); color: #22c55e; }

        .agent-card-body { padding: 22px; }
        .agent-description { font-size: 0.95rem; color: var(--text-secondary); line-height: 1.6; margin-bottom: 20px; }

        .agent-flow {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            padding: 18px;
            margin-bottom: 20px;
        }

        .agent-flow-title { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }

        .agent-flow-diagram { display: flex; align-items: center; flex-wrap: wrap; gap: 8px; justify-content: center; }

        .agent-step {
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
            color: white;
            padding: 8px 14px;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 600;
            white-space: nowrap;
        }

        .agent-arrow { color: var(--accent-purple); font-size: 1.2rem; }

        .agent-stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }

        .agent-stat {
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            padding: 12px;
            text-align: center;
        }

        .agent-stat-value {
            font-size: 1.3rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-stat-label { font-size: 0.7rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.05em; margin-top: 4px; }

        /* View Prompt Button */
        .agent-prompt-btn {
            width: 100%;
            margin-top: 18px;
            padding: 14px 20px;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(59, 130, 246, 0.2) 100%);
            border: 1px solid rgba(139, 92, 246, 0.4);
            border-radius: 10px;
            color: var(--accent-purple);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-size: 0.9rem;
        }

        .agent-prompt-btn:hover {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.3) 0%, rgba(59, 130, 246, 0.3) 100%);
            border-color: var(--accent-purple);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.25);
        }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(10, 15, 26, 0.9);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            padding: 20px;
            backdrop-filter: blur(5px);
        }

        .modal-overlay.show { display: flex; }

        .modal {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            width: 100%;
            max-width: 900px;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
            box-shadow: 0 25px 80px rgba(0,0,0,0.5);
        }

        .modal-header {
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
            color: white;
            padding: 22px 28px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 16px 16px 0 0;
        }

        .modal-header h3 { font-size: 1.25rem; font-weight: 700; }
        .modal-actions { display: flex; gap: 12px; }

        .modal-btn {
            padding: 10px 18px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 700;
            transition: transform 0.2s;
            font-size: 0.9rem;
        }

        .modal-btn:hover { transform: scale(1.05); }
        .modal-btn.copy { background: white; color: var(--accent-purple); }
        .modal-btn.close { background: rgba(255,255,255,0.2); color: white; }

        .modal-body { padding: 28px; overflow-y: auto; flex: 1; }

        .prompt-section { margin-bottom: 25px; }
        .prompt-section h4 {
            color: var(--accent-purple);
            font-size: 1rem;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .prompt-box {
            background: rgba(0,0,0,0.4);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            padding: 20px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            line-height: 1.7;
            color: var(--text-secondary);
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .prompt-tags {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .prompt-tag {
            background: rgba(139, 92, 246, 0.15);
            color: var(--accent-purple);
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .copy-success {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--accent-green);
            color: white;
            padding: 18px 35px;
            border-radius: 10px;
            font-weight: 700;
            z-index: 3000;
            display: none;
        }

        @media (max-width: 900px) {
            .sidebar { display: none; }
            .main-content { margin-left: 0; padding: 75px 20px 30px 20px; }
            .agent-grid { grid-template-columns: 1fr; }
        }
            .breadcrumb-logo-link { display: flex; align-items: center; padding: 4px 8px; background: rgba(255,255,255,0.08); border-radius: 8px; border: 1px solid rgba(255,255,255,0.12); transition: all 0.2s; }
        .breadcrumb-logo-link:hover { background: rgba(255,255,255,0.15); }
        .breadcrumb-logo { height: 28px; width: auto; }
    </style>
</head>
<body>
    <!-- Breadcrumb -->
    <nav class="breadcrumb">
        <a href="../../index.html" class="breadcrumb-logo-link"><img src="../../images/clear-ai-logo.png" alt="Clear AI" class="breadcrumb-logo"></a>
        <a href="../../index.html">üè† Portal Home</a>
        <span class="separator">‚Ä∫</span>
        <a href="./index.html">üè¶ CLEAR 2.0</a>
        <span class="separator">‚Ä∫</span>
        <span class="current">üìù Self-Disclosure</span>
    </nav>

    <!-- Fixed Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <h2>üìù Self-Disclosure</h2>
            <p>Interactive Workflow Guide</p>
        </div>

        <!-- Tab Switcher -->
        <div class="sidebar-tabs">
            <button class="sidebar-tab active" onclick="switchTab('workflow')">üìã Workflow</button>
            <button class="sidebar-tab agent-tab" onclick="switchTab('agents')">ü§ñ AI Agents</button>
        </div>

        <!-- Workflow Navigation -->
        <nav class="sidebar-nav" id="workflow-nav">
            <a href="#section-1" class="nav-item active">
                <span class="nav-number">1</span>
                <span class="nav-label">Overview</span>
            </a>
            <a href="#section-2" class="nav-item">
                <span class="nav-number">2</span>
                <span class="nav-label">Configure Portal Access</span>
            </a>
            <a href="#section-3" class="nav-item">
                <span class="nav-number">3</span>
                <span class="nav-label">Send Invitation</span>
            </a>
            <a href="#section-4" class="nav-item">
                <span class="nav-number">4</span>
                <span class="nav-label">Monitor Completion</span>
            </a>
            <a href="#section-5" class="nav-item">
                <span class="nav-number">5</span>
                <span class="nav-label">Review & Validate</span>
            </a>
        </nav>

        <!-- Agent Navigation -->
        <nav class="sidebar-nav" id="agents-nav" style="display: none;">
            <a href="#agent-summary" class="nav-item active">
                <span class="nav-number">üìä</span>
                <span class="nav-label">Summary</span>
            </a>
            <a href="#agent-heatmap" class="nav-item">
                <span class="nav-number">üî•</span>
                <span class="nav-label">Heat Map</span>
            </a>
            <a href="#agent-details" class="nav-item">
                <span class="nav-number">ü§ñ</span>
                <span class="nav-label">Agent Details</span>
            </a>
        </nav>

        <div class="sidebar-footer">
            <a href="./index.html" class="doc-btn">
                ‚Üê Back to CLEAR Index
            </a>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">

        <!-- ==================== WORKFLOW TAB ==================== -->
        <div id="workflow-panel" class="tab-panel active">
            <!-- Header -->
            <div class="header">
                <h1>üìù Self-Disclosure in CLEAR 2.0</h1>
                <p class="subtitle">Complete workflow for borrower self-disclosure portal access and completion tracking</p>
                <div class="meta">
                    <span class="meta-item">üè¢ System: CLEAR 2.0</span>
                    <span class="meta-item">üë§ Role: Loan Officer</span>
                    <span class="meta-item">üìÖ Updated: Jan 2026</span>
                    <span class="meta-item">‚è±Ô∏è Duration: 2-3 min setup</span>
                </div>
            </div>

            <!-- Legend -->
            <div class="legend">
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #22c55e, #16a34a);"></div><span>Start/End</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #3b82f6, #2563eb);"></div><span>Action Step</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #f59e0b, #d97706);"></div><span>Decision Point</span></div>
                <div class="legend-item"><div class="legend-color" style="background: #111827; border: 2px solid #3b82f6;"></div><span>User Input</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #14b8a6, #0d9488);"></div><span>Output</span></div>
            </div>

            <!-- Section 1: Overview -->
            <section id="section-1" class="section">
                <div class="section-header">
                    <div class="section-number">1</div>
                    <div class="section-title">
                        <h2>Self-Disclosure Overview</h2>
                        <span>Understanding the borrower portal process</span>
                    </div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node start">Borrower Application</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node action">Configure Portal</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node action">Send Invitation</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node output">Borrower Completes</div>
                        </div>
                    </div>

                    <div class="info-box">
                        <h4>üìã What is Self-Disclosure?</h4>
                        <p>Self-Disclosure allows borrowers to complete required disclosures through a secure online portal instead of requiring in-person or manual signature collection. This includes initial disclosures, intent to proceed, and other TRID-required documents.</p>
                    </div>

                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Feature</th>
                                <th>Description</th>
                                <th>Benefit</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Secure Portal</strong></td>
                                <td>Encrypted borrower access via unique link</td>
                                <td>Compliance & security</td>
                            </tr>
                            <tr>
                                <td><strong>E-Sign Capability</strong></td>
                                <td>Electronic signature for all documents</td>
                                <td>Faster turnaround</td>
                            </tr>
                            <tr>
                                <td><strong>Status Tracking</strong></td>
                                <td>Real-time completion monitoring</td>
                                <td>Proactive follow-up</td>
                            </tr>
                            <tr>
                                <td><strong>Auto-Import</strong></td>
                                <td>Signed docs automatically filed to loan</td>
                                <td>Reduced manual work</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Section 2: Configure Portal Access -->
            <section id="section-2" class="section">
                <div class="section-header">
                    <div class="section-number">2</div>
                    <div class="section-title">
                        <h2>Configure Portal Access</h2>
                        <span>Set up borrower portal credentials and permissions</span>
                    </div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node start">Open Loan</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node action">Services Menu</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node action">Self-Disclosure Setup</div>
                        </div>
                        <div class="flow-row">
                            <div class="flow-node input">Verify Borrower Email</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node decision">Co-Borrower?</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node action">Configure Both</div>
                        </div>
                    </div>

                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Configuration Step</th>
                                <th>Action Required</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Borrower Email</strong></td>
                                <td>Verify primary email is correct</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Co-Borrower Email</strong></td>
                                <td>Add separate email if applicable</td>
                                <td><span class="badge optional-badge">Conditional</span></td>
                            </tr>
                            <tr>
                                <td><strong>Phone Number</strong></td>
                                <td>For 2FA verification</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Document Package</strong></td>
                                <td>Select disclosure set to send</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="tip-box">
                        <h4>üí° Pro Tip</h4>
                        <p>Always verify borrower contact information before sending the invitation. Incorrect email addresses are the #1 cause of delayed disclosures.</p>
                    </div>
                </div>
            </section>

            <!-- Section 3: Send Invitation -->
            <section id="section-3" class="section">
                <div class="section-header">
                    <div class="section-number">3</div>
                    <div class="section-title">
                        <h2>Send Portal Invitation</h2>
                        <span>Deliver secure access link to borrower</span>
                    </div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Review Package</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node decision">All Required?</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node action">Click Send</div>
                        </div>
                        <div class="flow-row">
                            <div class="flow-node output">Email Sent</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node output">SMS Sent (if enabled)</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node output">Status: Pending</div>
                        </div>
                    </div>

                    <div class="info-box">
                        <h4>üìß Invitation Contents</h4>
                        <p>The borrower receives an email with:</p>
                        <ul style="margin-top: 10px; margin-left: 20px;">
                            <li>Secure unique portal link (expires in 72 hours)</li>
                            <li>Instructions for accessing and completing disclosures</li>
                            <li>List of documents requiring signature</li>
                            <li>LO contact information for questions</li>
                        </ul>
                    </div>

                    <div class="exception-box">
                        <h4>‚ö†Ô∏è Common Issues</h4>
                        <ul style="margin-left: 20px;">
                            <li><strong>Email not received:</strong> Check spam folder, verify email address</li>
                            <li><strong>Link expired:</strong> Resend invitation from Services menu</li>
                            <li><strong>Access denied:</strong> Borrower may need to clear browser cache</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Section 4: Monitor Completion -->
            <section id="section-4" class="section">
                <div class="section-header">
                    <div class="section-number">4</div>
                    <div class="section-title">
                        <h2>Monitor Completion Status</h2>
                        <span>Track borrower progress and send reminders</span>
                    </div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Check Dashboard</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node decision">Completed?</div>
                        </div>
                        <div class="flow-row">
                            <div class="flow-node output">Yes: Documents Filed</div>
                            <span class="flow-arrow" style="opacity: 0.3;">|</span>
                            <div class="flow-node action">No: Send Reminder</div>
                        </div>
                    </div>

                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Status</th>
                                <th>Meaning</th>
                                <th>Action Required</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong style="color: var(--accent-amber);">Pending</strong></td>
                                <td>Invitation sent, not yet opened</td>
                                <td>Wait 24 hrs, then follow up</td>
                            </tr>
                            <tr>
                                <td><strong style="color: var(--accent-blue);">In Progress</strong></td>
                                <td>Borrower has started but not finished</td>
                                <td>Monitor for 48 hrs</td>
                            </tr>
                            <tr>
                                <td><strong style="color: var(--accent-green);">Completed</strong></td>
                                <td>All documents signed</td>
                                <td>Review and validate</td>
                            </tr>
                            <tr>
                                <td><strong style="color: var(--accent-rose);">Expired</strong></td>
                                <td>Link expired before completion</td>
                                <td>Resend invitation</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="tip-box">
                        <h4>‚è∞ TRID Compliance Note</h4>
                        <p>Initial disclosures must be delivered within 3 business days of application. Self-Disclosure helps meet this requirement, but you must still monitor completion to ensure borrower receipt.</p>
                    </div>
                </div>
            </section>

            <!-- Section 5: Review & Validate -->
            <section id="section-5" class="section">
                <div class="section-header">
                    <div class="section-number">5</div>
                    <div class="section-title">
                        <h2>Review & Validate Signatures</h2>
                        <span>Confirm proper execution of disclosures</span>
                    </div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node start">Completion Notice</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node action">Open eFolder</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node action">Review Documents</div>
                        </div>
                        <div class="flow-row">
                            <div class="flow-node decision">Signatures Valid?</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node output">Mark Complete</div>
                            <span class="flow-arrow">‚Üí</span>
                            <div class="flow-node output">Continue Processing</div>
                        </div>
                    </div>

                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Validation Check</th>
                                <th>What to Verify</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>All Signatures Present</strong></td>
                                <td>Both borrower and co-borrower signed where required</td>
                            </tr>
                            <tr>
                                <td><strong>Dates Correct</strong></td>
                                <td>Signature dates are accurate and within compliance window</td>
                            </tr>
                            <tr>
                                <td><strong>No Missing Pages</strong></td>
                                <td>Complete document package was signed</td>
                            </tr>
                            <tr>
                                <td><strong>Intent to Proceed</strong></td>
                                <td>Borrower indicated intent (for TRID compliance)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Quick Reference -->
            <section id="quick-ref" class="quick-ref">
                <h3>‚ö° Quick Reference Card</h3>
                <pre>
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                    SELF-DISCLOSURE QUICK GUIDE                   ‚ïë
‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
‚ïë  SETUP CHECKLIST:                                                ‚ïë
‚ïë  ‚ñ° Verify borrower email address                                 ‚ïë
‚ïë  ‚ñ° Verify co-borrower email (if applicable)                      ‚ïë
‚ïë  ‚ñ° Confirm phone number for 2FA                                  ‚ïë
‚ïë  ‚ñ° Select appropriate disclosure package                         ‚ïë
‚ïë                                                                  ‚ïë
‚ïë  KEYBOARD SHORTCUTS:                                             ‚ïë
‚ïë  Services ‚Üí Self-Disclosure Setup                                ‚ïë
‚ïë                                                                  ‚ïë
‚ïë  COMPLIANCE TIMELINE:                                            ‚ïë
‚ïë  ‚Ä¢ Initial disclosures: Within 3 business days                   ‚ïë
‚ïë  ‚Ä¢ Intent to Proceed: Before fees collected                      ‚ïë
‚ïë  ‚Ä¢ Portal link expires: 72 hours after sending                   ‚ïë
‚ïë                                                                  ‚ïë
‚ïë  TROUBLESHOOTING:                                                ‚ïë
‚ïë  ‚Ä¢ Email issues ‚Üí Verify address, check spam                     ‚ïë
‚ïë  ‚Ä¢ Expired link ‚Üí Resend from Services menu                      ‚ïë
‚ïë  ‚Ä¢ Access denied ‚Üí Clear browser cache                           ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
                </pre>
            </section>
        </div>

        <!-- ==================== AGENT OPPORTUNITIES TAB ==================== -->
        <div id="agents-panel" class="tab-panel">
            <!-- Header -->
            <div class="agent-header">
                <h1>ü§ñ AI Agent Opportunities</h1>
                <p class="subtitle">Automation Analysis for Self-Disclosure Workflow</p>
                <div class="meta">
                    <span class="meta-item">ü§ñ 3 Agent Candidates Identified</span>
                    <span class="meta-item">‚è±Ô∏è Est. 45% Time Savings</span>
                </div>
            </div>

            <!-- Summary Stats -->
            <div class="agent-summary" id="agent-summary">
                <div class="agent-summary-card">
                    <div class="agent-summary-value">3</div>
                    <div class="agent-summary-label">Agent Candidates</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">1</div>
                    <div class="agent-summary-label">Critical Priority</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">45%</div>
                    <div class="agent-summary-label">Time Savings</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">70%</div>
                    <div class="agent-summary-label">Automation Potential</div>
                </div>
            </div>

            <!-- Heat Map Legend -->
            <div class="heat-legend" id="agent-heatmap">
                <div class="heat-legend-item"><div class="heat-legend-color" style="background: linear-gradient(135deg, #ef4444, #f97316);"></div><span><strong>Critical (90-100)</strong> - Immediate ROI</span></div>
                <div class="heat-legend-item"><div class="heat-legend-color" style="background: linear-gradient(135deg, #f97316, #eab308);"></div><span><strong>High (70-89)</strong> - Strong candidate</span></div>
                <div class="heat-legend-item"><div class="heat-legend-color" style="background: linear-gradient(135deg, #eab308, #22c55e);"></div><span><strong>Medium (50-69)</strong> - Consider</span></div>
                <div class="heat-legend-item"><div class="heat-legend-color" style="background: linear-gradient(135deg, #22c55e, #14b8a6);"></div><span><strong>Low (0-49)</strong> - Future phase</span></div>
            </div>

            <!-- Heat Map Grid -->
            <div class="heat-map-container">
                <div class="heat-map-title">üî• Automation Priority Heat Map <span style="font-size: 0.8rem; font-weight: 400; color: var(--text-muted);">(Click to jump to agent)</span></div>
                <div class="heat-map-grid">
                    <div class="heat-item critical" onclick="scrollToAgent('agent-completion-monitor')">
                        <div class="heat-score">91</div>
                        <div class="heat-name">Completion Monitor</div>
                        <div class="heat-desc">Track & remind borrowers automatically</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Volume: <span>High</span></div>
                            <div class="heat-metric">Impact: <span>Compliance</span></div>
                        </div>
                    </div>
                    <div class="heat-item high" onclick="scrollToAgent('agent-signature-validator')">
                        <div class="heat-score">82</div>
                        <div class="heat-name">Signature Validator</div>
                        <div class="heat-desc">Auto-verify document signatures</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Volume: <span>Med</span></div>
                            <div class="heat-metric">Impact: <span>Quality</span></div>
                        </div>
                    </div>
                    <div class="heat-item high" onclick="scrollToAgent('agent-trid-deadline-tracker')">
                        <div class="heat-score">78</div>
                        <div class="heat-name">TRID Deadline Tracker</div>
                        <div class="heat-desc">Monitor disclosure timing compliance</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Volume: <span>High</span></div>
                            <div class="heat-metric">Impact: <span>Compliance</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Agent Cards -->
            <h2 style="margin-bottom: 25px; color: var(--text-primary);" id="agent-details">ü§ñ Agent Details</h2>
            <div class="agent-grid">
                <!-- Agent 1: Completion Monitor -->
                <div class="agent-card" id="agent-completion-monitor">
                    <div class="agent-card-header">
                        <div class="agent-icon">üìä</div>
                        <div class="agent-info">
                            <div class="agent-name">Disclosure Completion Monitor</div>
                            <div class="agent-type">Monitoring Agent</div>
                        </div>
                        <span class="agent-priority critical">Critical</span>
                    </div>
                    <div class="agent-card-body">
                        <p class="agent-description">Continuously monitors borrower portal status and automatically sends personalized reminders when disclosures remain incomplete, escalating to LO when patterns suggest issues.</p>
                        <div class="agent-flow">
                            <div class="agent-flow-title">Agent Workflow</div>
                            <div class="agent-flow-diagram">
                                <span class="agent-step">Check Status</span>
                                <span class="agent-arrow">‚Üí</span>
                                <span class="agent-step">Analyze Delay</span>
                                <span class="agent-arrow">‚Üí</span>
                                <span class="agent-step">Send Reminder</span>
                                <span class="agent-arrow">‚Üí</span>
                                <span class="agent-step">Escalate if Needed</span>
                            </div>
                        </div>
                        <div class="agent-stats">
                            <div class="agent-stat">
                                <div class="agent-stat-value">91</div>
                                <div class="agent-stat-label">Priority</div>
                            </div>
                            <div class="agent-stat">
                                <div class="agent-stat-value">50%</div>
                                <div class="agent-stat-label">Time Save</div>
                            </div>
                            <div class="agent-stat">
                                <div class="agent-stat-value">High</div>
                                <div class="agent-stat-label">ROI</div>
                            </div>
                        </div>
                        <button class="agent-prompt-btn" onclick="openPromptModal('completion-monitor')">
                            ‚ú® View AI Build Prompt
                        </button>
                    </div>
                </div>

                <!-- Agent 2: Signature Validator -->
                <div class="agent-card" id="agent-signature-validator">
                    <div class="agent-card-header">
                        <div class="agent-icon">‚úçÔ∏è</div>
                        <div class="agent-info">
                            <div class="agent-name">Signature Validator Agent</div>
                            <div class="agent-type">Validation Agent</div>
                        </div>
                        <span class="agent-priority high">High</span>
                    </div>
                    <div class="agent-card-body">
                        <p class="agent-description">Automatically reviews completed disclosure packages to verify all required signatures are present, dates are correct, and documents are properly executed.</p>
                        <div class="agent-flow">
                            <div class="agent-flow-title">Agent Workflow</div>
                            <div class="agent-flow-diagram">
                                <span class="agent-step">Receive Docs</span>
                                <span class="agent-arrow">‚Üí</span>
                                <span class="agent-step">Scan Signatures</span>
                                <span class="agent-arrow">‚Üí</span>
                                <span class="agent-step">Validate Dates</span>
                                <span class="agent-arrow">‚Üí</span>
                                <span class="agent-step">Report Issues</span>
                            </div>
                        </div>
                        <div class="agent-stats">
                            <div class="agent-stat">
                                <div class="agent-stat-value">82</div>
                                <div class="agent-stat-label">Priority</div>
                            </div>
                            <div class="agent-stat">
                                <div class="agent-stat-value">35%</div>
                                <div class="agent-stat-label">Time Save</div>
                            </div>
                            <div class="agent-stat">
                                <div class="agent-stat-value">Med</div>
                                <div class="agent-stat-label">ROI</div>
                            </div>
                        </div>
                        <button class="agent-prompt-btn" onclick="openPromptModal('signature-validator')">
                            ‚ú® View AI Build Prompt
                        </button>
                    </div>
                </div>

                <!-- Agent 3: TRID Deadline Tracker -->
                <div class="agent-card" id="agent-trid-deadline-tracker">
                    <div class="agent-card-header">
                        <div class="agent-icon">‚è∞</div>
                        <div class="agent-info">
                            <div class="agent-name">TRID Deadline Tracker</div>
                            <div class="agent-type">Compliance Agent</div>
                        </div>
                        <span class="agent-priority high">High</span>
                    </div>
                    <div class="agent-card-body">
                        <p class="agent-description">Tracks disclosure delivery timing against TRID requirements, alerting when deadlines approach and flagging potential compliance issues before they become violations.</p>
                        <div class="agent-flow">
                            <div class="agent-flow-title">Agent Workflow</div>
                            <div class="agent-flow-diagram">
                                <span class="agent-step">Track App Date</span>
                                <span class="agent-arrow">‚Üí</span>
                                <span class="agent-step">Calculate Deadline</span>
                                <span class="agent-arrow">‚Üí</span>
                                <span class="agent-step">Monitor Status</span>
                                <span class="agent-arrow">‚Üí</span>
                                <span class="agent-step">Alert if Risk</span>
                            </div>
                        </div>
                        <div class="agent-stats">
                            <div class="agent-stat">
                                <div class="agent-stat-value">78</div>
                                <div class="agent-stat-label">Priority</div>
                            </div>
                            <div class="agent-stat">
                                <div class="agent-stat-value">40%</div>
                                <div class="agent-stat-label">Time Save</div>
                            </div>
                            <div class="agent-stat">
                                <div class="agent-stat-value">High</div>
                                <div class="agent-stat-label">ROI</div>
                            </div>
                        </div>
                        <button class="agent-prompt-btn" onclick="openPromptModal('trid-tracker')">
                            ‚ú® View AI Build Prompt
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Prompt Modal -->
    <div class="modal-overlay" id="promptModal">
        <div class="modal">
            <div class="modal-header">
                <h3 id="modalTitle">‚ú® AI Agent Build Prompt</h3>
                <div class="modal-actions">
                    <button class="modal-btn copy" onclick="copyPrompt()">üìã Copy Prompt</button>
                    <button class="modal-btn close" onclick="closeModal()">‚úï Close</button>
                </div>
            </div>
            <div class="modal-body">
                <div class="prompt-tags" id="promptTags"></div>
                <div class="prompt-section">
                    <h4>üéØ Purpose</h4>
                    <div class="prompt-box" id="promptPurpose"></div>
                </div>
                <div class="prompt-section">
                    <h4>üìù Full Build Prompt</h4>
                    <div class="prompt-box" id="promptFull"></div>
                </div>
                <div class="prompt-section">
                    <h4>üîó Integration Points</h4>
                    <div class="prompt-box" id="promptIntegration"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="copy-success" id="copySuccess">‚úì Copied to clipboard!</div>

    <script>
        // Agent Prompt Data
        const agentPrompts = {
            'completion-monitor': {
                title: 'Disclosure Completion Monitor',
                tags: ['Monitoring', 'Automation', 'Communication', 'Compliance'],
                purpose: 'Automatically track borrower self-disclosure portal status and send intelligent reminders to improve completion rates while maintaining compliance timelines.',
                fullPrompt: `You are a Disclosure Completion Monitor Agent for CMG Financial's CLEAR 2.0 system.

ROLE: Monitor borrower self-disclosure portal status and facilitate timely completion.

CAPABILITIES:
1. Track portal invitation status (Pending, In Progress, Completed, Expired)
2. Analyze borrower engagement patterns (login attempts, partial completions)
3. Generate personalized reminder communications
4. Escalate to LO when intervention is needed

MONITORING RULES:
- Check status every 4 hours for active invitations
- Send first reminder after 24 hours if status is still "Pending"
- Send second reminder at 48 hours with different messaging
- Escalate to LO at 60 hours if still incomplete
- Track link expiration (72 hours) and auto-resend before expiry

COMMUNICATION TEMPLATES:
- First reminder: Friendly, informational tone
- Second reminder: Urgency tone, mention deadline
- LO escalation: Summary of all attempts and borrower activity

OUTPUT: Status report with recommended action and draft communication.`,
                integration: `CLEAR 2.0 Integration Points:
‚Ä¢ Self-Disclosure Status API
‚Ä¢ Borrower Contact Information
‚Ä¢ Email/SMS Communication System
‚Ä¢ LO Task Queue
‚Ä¢ Compliance Timeline Calculator

Data Sources:
‚Ä¢ Portal login timestamps
‚Ä¢ Document signing progress
‚Ä¢ Application date (for TRID calculation)
‚Ä¢ Previous communication history`
            },
            'signature-validator': {
                title: 'Signature Validator Agent',
                tags: ['Validation', 'QC', 'Document Review', 'Compliance'],
                purpose: 'Automatically verify that all completed disclosure documents have proper signatures, dates, and required elements before marking as complete.',
                fullPrompt: `You are a Signature Validation Agent for CMG Financial's disclosure review process.

ROLE: Verify completed self-disclosure documents meet all signature and dating requirements.

VALIDATION CHECKLIST:
1. Primary borrower signature present on all required pages
2. Co-borrower signature present (if applicable)
3. Signature dates within acceptable range
4. Intent to Proceed box checked
5. All pages of multi-page documents signed
6. No missing required initials

VALIDATION RULES:
- Signature dates cannot be before application date
- Signature dates cannot be future-dated
- Both parties must sign within 48 hours of each other
- Intent to Proceed must be explicitly indicated

ERROR HANDLING:
- Missing signature: Flag document, specify location
- Date discrepancy: Calculate variance, assess risk
- Incomplete document: List missing elements

OUTPUT FORMAT:
‚úì PASSED: All validations successful
‚ö† WARNING: Minor issues found (list specifics)
‚úó FAILED: Critical issues requiring re-signature`,
                integration: `Document Management Integration:
‚Ä¢ eFolder Document API
‚Ä¢ OCR/Signature Recognition Service
‚Ä¢ Document Metadata Store
‚Ä¢ Compliance Flag System

Triggers:
‚Ä¢ Fires when disclosure status changes to "Completed"
‚Ä¢ Re-validates on document replacement
‚Ä¢ Scheduled audit mode for historical review`
            },
            'trid-tracker': {
                title: 'TRID Deadline Tracker',
                tags: ['Compliance', 'TRID', 'Monitoring', 'Alerts'],
                purpose: 'Monitor disclosure delivery timing against TRID requirements to ensure regulatory compliance and prevent violations.',
                fullPrompt: `You are a TRID Compliance Tracking Agent for CMG Financial.

ROLE: Ensure disclosure timing meets all TRID regulatory requirements.

KEY TRID DEADLINES:
1. Initial LE: Within 3 business days of application
2. Intent to Proceed: Before collecting fees (except credit report)
3. Revised LE: Valid changed circumstance required
4. CD Delivery: 3 business days before consummation

MONITORING LOGIC:
- Calculate business days (exclude weekends, federal holidays)
- Track application received date as Day 0
- Alert at 2 business days (24 hours before deadline)
- Critical alert at 2.5 business days
- Violation flag if 3 business days reached without delivery

COMPLIANCE SCORING:
- Green: >24 hours to deadline
- Yellow: 12-24 hours to deadline
- Orange: 6-12 hours to deadline
- Red: <6 hours to deadline
- Black: Deadline exceeded (requires management review)

ESCALATION PATH:
Day 2: Alert LO
Day 2.5: Alert Branch Manager
Day 2.75: Alert Compliance Team`,
                integration: `Compliance System Integration:
‚Ä¢ Application Date Tracker
‚Ä¢ Business Day Calculator
‚Ä¢ Holiday Calendar API
‚Ä¢ Disclosure Delivery Confirmation
‚Ä¢ Compliance Dashboard

Reporting:
‚Ä¢ Daily compliance status report
‚Ä¢ Weekly trending analysis
‚Ä¢ Monthly audit summary
‚Ä¢ Exception log with remediation tracking`
            }
        };

        let currentPrompt = '';

        // Tab Switching
        function switchTab(tab) {
            document.querySelectorAll('.sidebar-tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));
            document.getElementById(tab + '-panel').classList.add('active');
            document.getElementById('workflow-nav').style.display = tab === 'workflow' ? 'block' : 'none';
            document.getElementById('agents-nav').style.display = tab === 'agents' ? 'block' : 'none';
        }

        // Scroll to Agent
        function scrollToAgent(agentId) {
            const card = document.getElementById(agentId);
            if (card) {
                card.scrollIntoView({ behavior: 'smooth', block: 'center' });
                card.classList.add('highlight');
                setTimeout(() => card.classList.remove('highlight'), 2000);
            }
        }

        // Modal Functions
        function openPromptModal(agentKey) {
            const agent = agentPrompts[agentKey];
            document.getElementById('modalTitle').textContent = '‚ú® ' + agent.title + ' - Build Prompt';
            document.getElementById('promptTags').innerHTML = agent.tags.map(t => `<span class="prompt-tag">${t}</span>`).join('');
            document.getElementById('promptPurpose').textContent = agent.purpose;
            document.getElementById('promptFull').textContent = agent.fullPrompt;
            document.getElementById('promptIntegration').textContent = agent.integration;
            currentPrompt = agent.fullPrompt;
            document.getElementById('promptModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            document.getElementById('promptModal').classList.remove('show');
            document.body.style.overflow = '';
        }

        async function copyPrompt() {
            try {
                await navigator.clipboard.writeText(currentPrompt);
                const success = document.getElementById('copySuccess');
                success.style.display = 'block';
                setTimeout(() => success.style.display = 'none', 2000);
            } catch (e) {
                alert('Failed to copy to clipboard');
            }
        }

        document.getElementById('promptModal').addEventListener('click', (e) => {
            if (e.target.id === 'promptModal') closeModal();
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeModal();
        });

        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function() {
                document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
                this.classList.add('active');
            });
        });
    </script>
</body>
</html>
