<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SSA-89 SentiLink Verification - Process Workflow</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0f1a;
            --bg-secondary: #111827;
            --bg-card: #1a2234;
            --accent-blue: #3b82f6;
            --accent-teal: #14b8a6;
            --accent-amber: #f59e0b;
            --accent-rose: #f43f5e;
            --accent-green: #22c55e;
            --accent-purple: #8b5cf6;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --border-subtle: rgba(255,255,255,0.08);
            --sidebar-width: 280px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
        }

        /* Breadcrumb */
        .breadcrumb {
            background: linear-gradient(90deg, #0d1525 0%, #1a2234 100%);
            padding: 14px 25px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 0.95rem;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1001;
            border-bottom: 1px solid var(--border-subtle);
        }

        .breadcrumb a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 600;
            padding: 8px 16px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
            transition: all 0.2s;
            border: 1px solid var(--border-subtle);
        }

        .breadcrumb a:hover {
            background: rgba(59, 130, 246, 0.15);
            color: var(--accent-blue);
            border-color: rgba(59, 130, 246, 0.3);
        }

        .breadcrumb .separator { color: var(--text-muted); font-size: 1.2rem; }
        .breadcrumb .current { color: var(--accent-amber); font-weight: 600; padding: 8px 16px; }

        /* Sidebar */
        .sidebar {
            position: fixed;
            top: 54px;
            left: 0;
            width: var(--sidebar-width);
            height: calc(100vh - 54px);
            background: var(--bg-secondary);
            overflow-y: auto;
            z-index: 1000;
            border-right: 1px solid var(--border-subtle);
            display: flex;
            flex-direction: column;
        }

        .sidebar-header {
            padding: 25px 20px;
            background: rgba(0,0,0,0.3);
            border-bottom: 1px solid var(--border-subtle);
        }

        .sidebar-header h2 { color: var(--text-primary); font-size: 1.2rem; font-weight: 700; margin-bottom: 5px; }
        .sidebar-header p { color: var(--text-muted); font-size: 0.85rem; }

        /* Tab Switch */
        .sidebar-tabs {
            display: flex;
            border-bottom: 1px solid var(--border-subtle);
        }

        .sidebar-tab {
            flex: 1;
            padding: 14px 10px;
            text-align: center;
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--text-muted);
            cursor: pointer;
            transition: all 0.2s;
            border-bottom: 3px solid transparent;
            background: none;
            border-left: none;
            border-right: none;
            border-top: none;
        }

        .sidebar-tab:hover { background: rgba(255,255,255,0.03); color: var(--text-secondary); }
        .sidebar-tab.active { color: var(--accent-blue); border-bottom-color: var(--accent-blue); background: rgba(59, 130, 246, 0.08); }
        .sidebar-tab.agent-tab.active { color: var(--accent-purple); border-bottom-color: var(--accent-purple); background: rgba(139, 92, 246, 0.08); }

        .sidebar-nav { padding: 15px 0; flex: 1; overflow-y: auto; }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 20px;
            color: var(--text-secondary);
            text-decoration: none;
            border-left: 3px solid transparent;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .nav-item:hover { background: rgba(255,255,255,0.03); color: var(--text-primary); }
        .nav-item.active { background: rgba(59, 130, 246, 0.1); border-left-color: var(--accent-blue); color: var(--text-primary); }

        .nav-number {
            background: rgba(255,255,255,0.1);
            color: var(--text-secondary);
            width: 28px;
            height: 28px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.85rem;
            flex-shrink: 0;
        }

        .nav-item.active .nav-number { background: var(--accent-blue); color: white; }
        .nav-label { font-size: 0.95rem; font-weight: 500; }

        .sidebar-footer {
            padding: 20px;
            border-top: 1px solid var(--border-subtle);
            background: rgba(0,0,0,0.2);
        }

        .doc-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
            padding: 14px 20px;
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            text-decoration: none;
            font-size: 0.95rem;
        }

        .doc-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3); }

        /* Main Content */
        .main-content { margin-left: var(--sidebar-width); padding: 80px 40px 40px 40px; }

        /* Tab Panels */
        .tab-panel { display: none; }
        .tab-panel.active { display: block; }

        .header {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            padding: 35px;
            border-radius: 16px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background:
                radial-gradient(ellipse at 20% 20%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(20, 184, 166, 0.08) 0%, transparent 50%);
            pointer-events: none;
        }

        .header h1 {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 10px;
            position: relative;
            background: linear-gradient(135deg, var(--text-primary) 0%, var(--accent-blue) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header .subtitle { color: var(--text-secondary); font-size: 1.1rem; position: relative; }

        .header .meta { display: flex; gap: 15px; margin-top: 20px; flex-wrap: wrap; position: relative; }

        .header .meta-item {
            background: rgba(255,255,255,0.05);
            border: 1px solid var(--border-subtle);
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Legend */
        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            padding: 18px 22px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            margin-bottom: 25px;
        }

        .legend-item { display: flex; align-items: center; gap: 8px; font-size: 0.85rem; color: var(--text-secondary); }
        .legend-color { width: 18px; height: 18px; border-radius: 4px; }

        /* Sections */
        .section {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            margin-bottom: 25px;
            overflow: hidden;
            scroll-margin-top: 75px;
        }

        .section-header {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, rgba(59, 130, 246, 0.1) 100%);
            border-bottom: 1px solid var(--border-subtle);
            padding: 22px 25px;
            display: flex;
            align-items: center;
            gap: 18px;
        }

        .section-number {
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 1.3rem;
            flex-shrink: 0;
        }

        .section-title h2 { font-size: 1.35rem; font-weight: 700; margin-bottom: 4px; color: var(--text-primary); }
        .section-title span { font-size: 0.9rem; color: var(--text-muted); }
        .section-content { padding: 28px; }

        /* Workflow Diagrams */
        .workflow-diagram {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 28px;
            margin-bottom: 22px;
        }

        .flow-row { display: flex; align-items: center; justify-content: center; flex-wrap: wrap; gap: 12px; margin: 15px 0; }

        .flow-node {
            padding: 14px 22px;
            border-radius: 10px;
            text-align: center;
            font-size: 0.9rem;
            font-weight: 600;
            min-width: 150px;
            border: 1px solid var(--border-subtle);
        }

        .flow-node.start { background: linear-gradient(135deg, var(--accent-green) 0%, #16a34a 100%); color: white; border-radius: 25px; border: none; }
        .flow-node.action { background: linear-gradient(135deg, var(--accent-blue) 0%, #2563eb 100%); color: white; border: none; }
        .flow-node.decision { background: linear-gradient(135deg, var(--accent-amber) 0%, #d97706 100%); color: var(--bg-primary); border: none; }
        .flow-node.input { background: var(--bg-secondary); border: 2px solid var(--accent-blue); color: var(--text-primary); }
        .flow-node.output { background: linear-gradient(135deg, var(--accent-teal) 0%, #0d9488 100%); color: white; border: none; }
        .flow-node.exception { background: linear-gradient(135deg, var(--accent-rose) 0%, #dc2626 100%); color: white; border: none; }

        .flow-arrow { color: var(--accent-blue); font-size: 1.5rem; }
        .flow-arrow.down { transform: rotate(90deg); }

        .decision-branch { display: flex; gap: 40px; justify-content: center; margin: 20px 0; flex-wrap: wrap; }
        .branch { display: flex; flex-direction: column; align-items: center; gap: 10px; }

        .branch-label {
            background: var(--bg-secondary);
            border: 1px solid var(--border-subtle);
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--text-secondary);
        }

        /* Tables */
        .field-table { width: 100%; border-collapse: collapse; margin: 18px 0; }

        .field-table th {
            background: rgba(59, 130, 246, 0.15);
            color: var(--accent-blue);
            padding: 14px 18px;
            text-align: left;
            font-weight: 600;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            border-bottom: 1px solid var(--border-subtle);
        }

        .field-table td { padding: 14px 18px; border-bottom: 1px solid var(--border-subtle); color: var(--text-secondary); }
        .field-table tr:hover { background: rgba(255,255,255,0.02); }

        .badge { display: inline-block; padding: 4px 12px; border-radius: 6px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; }
        .badge.required-badge { background: rgba(244, 63, 94, 0.15); color: var(--accent-rose); }
        .badge.optional-badge { background: rgba(34, 197, 94, 0.15); color: var(--accent-green); }
        .badge.calculated-badge { background: rgba(59, 130, 246, 0.15); color: var(--accent-blue); }

        /* Info Boxes */
        .exception-box, .tip-box, .info-box {
            padding: 18px 22px;
            margin: 18px 0;
            border-radius: 0 10px 10px 0;
            border-left-width: 4px;
            border-left-style: solid;
        }

        .exception-box { background: rgba(244, 63, 94, 0.08); border-color: var(--accent-rose); border: 1px solid rgba(244, 63, 94, 0.2); border-left: 4px solid var(--accent-rose); }
        .exception-box h4 { color: var(--accent-rose); margin-bottom: 10px; font-size: 1rem; }
        .exception-box p, .exception-box li { color: var(--text-secondary); }

        .tip-box { background: rgba(34, 197, 94, 0.08); border-color: var(--accent-green); border: 1px solid rgba(34, 197, 94, 0.2); border-left: 4px solid var(--accent-green); }
        .tip-box h4 { color: var(--accent-green); margin-bottom: 10px; font-size: 1rem; }
        .tip-box p, .tip-box li { color: var(--text-secondary); }

        .info-box { background: rgba(59, 130, 246, 0.08); border-color: var(--accent-blue); border: 1px solid rgba(59, 130, 246, 0.2); border-left: 4px solid var(--accent-blue); }
        .info-box h4 { color: var(--accent-blue); margin-bottom: 10px; font-size: 1rem; }
        .info-box p, .info-box li { color: var(--text-secondary); }

        /* Decision Tree */
        .decision-tree {
            background: rgba(0,0,0,0.2);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 22px;
            margin: 22px 0;
        }

        .decision-tree h3 { color: var(--accent-blue); margin-bottom: 18px; padding-bottom: 12px; border-bottom: 1px solid var(--border-subtle); font-size: 1.1rem; }

        .tree-node { margin-left: 20px; padding: 12px; border-left: 2px solid var(--accent-teal); position: relative; color: var(--text-secondary); }
        .tree-node::before { content: ''; position: absolute; left: -2px; top: 22px; width: 15px; height: 2px; background: var(--accent-teal); }
        .tree-node.level-1 { margin-left: 0; border-left: none; }
        .tree-node.level-1::before { display: none; }

        .tree-label { background: var(--accent-amber); color: var(--bg-primary); padding: 6px 14px; border-radius: 6px; font-weight: 700; display: inline-block; margin-bottom: 6px; font-size: 0.9rem; }

        /* Summary Grid */
        .summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 18px; margin: 22px 0; }

        .summary-card { background: rgba(0,0,0,0.3); border: 1px solid var(--border-subtle); border-radius: 12px; padding: 22px; text-align: center; }
        .summary-card h4 { color: var(--text-secondary); margin-bottom: 12px; font-size: 0.9rem; }
        .summary-card .value {
            font-size: 2.2rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .summary-card .label { font-size: 0.85rem; color: var(--text-muted); margin-top: 8px; }

        /* Channel Comparison Cards */
        .channel-comparison { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin: 22px 0; }

        .channel-card { background: rgba(0,0,0,0.2); border: 1px solid var(--border-subtle); border-radius: 12px; overflow: hidden; }
        .channel-card-header { background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%); color: white; padding: 18px; text-align: center; }
        .channel-card-header h4 { font-size: 1.05rem; }
        .channel-card-body { padding: 22px; }
        .channel-card ul { list-style: none; padding: 0; }
        .channel-card li { padding: 10px 0; border-bottom: 1px solid var(--border-subtle); display: flex; align-items: center; gap: 12px; color: var(--text-secondary); font-size: 0.95rem; }
        .channel-card li:last-child { border-bottom: none; }
        .check-icon { color: var(--accent-green); font-weight: bold; }
        .x-icon { color: var(--accent-rose); font-weight: bold; }

        /* Quick Reference */
        .quick-ref {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-card) 100%);
            border: 1px solid var(--border-subtle);
            padding: 28px;
            border-radius: 16px;
            margin-top: 30px;
            font-family: 'JetBrains Mono', monospace;
            scroll-margin-top: 75px;
        }

        .quick-ref h3 { color: var(--accent-amber); margin-bottom: 18px; font-family: 'Plus Jakarta Sans', sans-serif; }
        .quick-ref pre { background: rgba(0,0,0,0.4); border: 1px solid var(--border-subtle); padding: 20px; border-radius: 10px; overflow-x: auto; font-size: 0.85rem; line-height: 1.7; color: var(--text-secondary); }

        /* ====== AGENT OPPORTUNITIES STYLES ====== */
        .agent-header {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            padding: 35px;
            border-radius: 16px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .agent-header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background:
                radial-gradient(ellipse at 20% 20%, rgba(139, 92, 246, 0.12) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(245, 158, 11, 0.1) 0%, transparent 50%);
            pointer-events: none;
        }

        .agent-header h1 {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 10px;
            position: relative;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-header .subtitle { color: var(--text-secondary); font-size: 1.1rem; position: relative; }

        /* Heat Map */
        .heat-map-container { margin-bottom: 35px; }
        .heat-map-title { font-size: 1.3rem; font-weight: 700; color: var(--text-primary); margin-bottom: 20px; display: flex; align-items: center; gap: 12px; }

        .heat-map-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .heat-item {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 20px;
            position: relative;
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
        }

        .heat-item:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .heat-item:active { transform: scale(0.98); }

        .heat-item::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; height: 4px;
        }

        .heat-item.critical::before { background: linear-gradient(90deg, #ef4444, #f97316); }
        .heat-item.high::before { background: linear-gradient(90deg, #f97316, #eab308); }
        .heat-item.medium::before { background: linear-gradient(90deg, #eab308, #22c55e); }
        .heat-item.low::before { background: linear-gradient(90deg, #22c55e, #14b8a6); }

        .heat-score {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.8rem;
            font-weight: 800;
        }

        .heat-item.critical .heat-score { color: #ef4444; }
        .heat-item.high .heat-score { color: #f97316; }
        .heat-item.medium .heat-score { color: #eab308; }
        .heat-item.low .heat-score { color: #22c55e; }

        .heat-name { font-size: 1rem; font-weight: 700; color: var(--text-primary); margin-bottom: 6px; padding-right: 50px; }
        .heat-desc { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px; }

        .heat-metrics { display: flex; gap: 15px; margin-top: 12px; }
        .heat-metric { font-size: 0.75rem; color: var(--text-muted); }
        .heat-metric span { color: var(--text-secondary); font-weight: 600; }

        /* Agent Cards */
        .agent-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)); gap: 25px; margin-bottom: 35px; }

        .agent-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .agent-card:hover { transform: translateY(-5px); box-shadow: 0 15px 50px rgba(0,0,0,0.3); }

        .agent-card.highlight {
            animation: highlightPulse 2s ease;
            box-shadow: 0 0 0 3px var(--accent-purple), 0 15px 50px rgba(139, 92, 246, 0.4);
        }

        @keyframes highlightPulse {
            0% { box-shadow: 0 0 0 3px var(--accent-purple), 0 15px 50px rgba(139, 92, 246, 0.6); }
            50% { box-shadow: 0 0 0 6px rgba(139, 92, 246, 0.5), 0 15px 50px rgba(139, 92, 246, 0.3); }
            100% { box-shadow: 0 0 0 0px transparent, 0 15px 50px rgba(0,0,0,0.3); }
        }

        .agent-card-header {
            padding: 22px;
            display: flex;
            align-items: flex-start;
            gap: 18px;
            border-bottom: 1px solid var(--border-subtle);
        }

        .agent-icon {
            width: 55px;
            height: 55px;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.6rem;
            flex-shrink: 0;
        }

        .agent-info { flex: 1; }
        .agent-name { font-size: 1.15rem; font-weight: 700; color: var(--text-primary); margin-bottom: 5px; }
        .agent-type { font-size: 0.8rem; color: var(--accent-purple); font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }

        .agent-priority {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
        }

        .agent-priority.critical { background: rgba(239, 68, 68, 0.15); color: #ef4444; }
        .agent-priority.high { background: rgba(249, 115, 22, 0.15); color: #f97316; }
        .agent-priority.medium { background: rgba(234, 179, 8, 0.15); color: #eab308; }
        .agent-priority.low { background: rgba(34, 197, 94, 0.15); color: #22c55e; }

        .agent-card-body { padding: 22px; }
        .agent-description { font-size: 0.95rem; color: var(--text-secondary); line-height: 1.6; margin-bottom: 20px; }

        .agent-flow {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            padding: 18px;
            margin-bottom: 20px;
        }

        .agent-flow-title { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }

        .agent-flow-diagram { display: flex; align-items: center; flex-wrap: wrap; gap: 8px; justify-content: center; }

        .agent-step {
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
            color: white;
            padding: 8px 14px;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 600;
            white-space: nowrap;
        }

        .agent-arrow { color: var(--accent-purple); font-size: 1.2rem; }

        .agent-stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }

        .agent-stat {
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            padding: 12px;
            text-align: center;
        }

        .agent-stat-value {
            font-size: 1.3rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-stat-label { font-size: 0.7rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.05em; margin-top: 4px; }

        /* View Prompt Button */
        .agent-prompt-btn {
            width: 100%;
            margin-top: 18px;
            padding: 14px 20px;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(59, 130, 246, 0.2) 100%);
            border: 1px solid rgba(139, 92, 246, 0.4);
            border-radius: 10px;
            color: var(--accent-purple);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-size: 0.9rem;
        }

        .agent-prompt-btn:hover {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.3) 0%, rgba(59, 130, 246, 0.3) 100%);
            border-color: var(--accent-purple);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.25);
        }

        /* Summary Stats */
        .agent-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 35px;
        }

        .agent-summary-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 14px;
            padding: 25px;
            text-align: center;
        }

        .agent-summary-value {
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-summary-label { font-size: 0.9rem; color: var(--text-muted); margin-top: 8px; }

        /* Heat Map Legend */
        .heat-legend {
            display: flex;
            gap: 25px;
            padding: 18px 22px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .heat-legend-item { display: flex; align-items: center; gap: 10px; font-size: 0.9rem; color: var(--text-secondary); }
        .heat-legend-color { width: 24px; height: 24px; border-radius: 6px; }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(10, 15, 26, 0.9);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            padding: 20px;
            backdrop-filter: blur(5px);
        }

        .modal-overlay.show { display: flex; }

        .modal {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            width: 100%;
            max-width: 950px;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
            box-shadow: 0 25px 80px rgba(0,0,0,0.5);
        }

        .modal-header {
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            padding: 22px 28px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 16px 16px 0 0;
        }

        .modal-header h3 { font-size: 1.25rem; font-weight: 700; }
        .modal-actions { display: flex; gap: 12px; }

        .modal-btn {
            padding: 10px 18px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 700;
            transition: transform 0.2s;
            font-size: 0.9rem;
        }

        .modal-btn:hover { transform: scale(1.05); }
        .modal-btn.copy { background: white; color: var(--accent-blue); }
        .modal-btn.close { background: rgba(255,255,255,0.2); color: white; }

        .modal-body { padding: 28px; overflow-y: auto; flex: 1; }

        .modal-body pre {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            padding: 22px;
            border-radius: 10px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            line-height: 1.7;
            white-space: pre-wrap;
            word-wrap: break-word;
            color: var(--text-secondary);
        }

        .copy-success {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--accent-green);
            color: white;
            padding: 18px 35px;
            border-radius: 10px;
            font-weight: 700;
            z-index: 3000;
            display: none;
            animation: fadeInOut 2s ease;
        }

        @keyframes fadeInOut { 0%, 100% { opacity: 0; } 10%, 90% { opacity: 1; } }

        /* Prompt Modal */
        .prompt-modal .modal { max-width: 800px; }
        .prompt-modal .modal-header { background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%); }

        .prompt-section { margin-bottom: 25px; }
        .prompt-section h4 { color: var(--accent-purple); font-size: 1rem; margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }

        .prompt-box {
            background: rgba(0,0,0,0.4);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            padding: 20px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            line-height: 1.7;
            color: var(--text-secondary);
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .prompt-tags { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 20px; }
        .prompt-tag { background: rgba(139, 92, 246, 0.15); color: var(--accent-purple); padding: 6px 14px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; }

        .copy-prompt-btn {
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            margin-top: 15px;
        }

        .copy-prompt-btn:hover { transform: scale(1.05); box-shadow: 0 5px 20px rgba(139, 92, 246, 0.3); }

        /* Step List */
        .step-list { list-style: none; padding: 0; margin: 18px 0; }
        .step-list li {
            padding: 14px 18px;
            border-left: 3px solid var(--accent-blue);
            background: rgba(0,0,0,0.2);
            margin-bottom: 10px;
            border-radius: 0 8px 8px 0;
            color: var(--text-secondary);
        }
        .step-list li strong { color: var(--text-primary); }

        @media (max-width: 900px) {
            .sidebar { display: none; }
            .main-content { margin-left: 0; padding: 75px 20px 30px 20px; }
            .agent-grid { grid-template-columns: 1fr; }
        }
        .breadcrumb-logo-link { display: inline-flex; align-items: center; padding: 4px 8px; background: rgba(255,255,255,0.08); border-radius: 8px; border: 1px solid rgba(255,255,255,0.12); transition: all 0.2s; flex-shrink: 0; margin-right: 4px; }
        .breadcrumb-logo-link:hover { background: rgba(255,255,255,0.15); }
        .breadcrumb-logo { height: 24px; width: auto; display: block; }
    </style>
</head>
<body>
    <!-- Breadcrumb -->
    <nav class="breadcrumb">
<a href="../../index.html" class="breadcrumb-logo-link"><img src="../../images/clear-ai-logo.png" alt="Clear AI" class="breadcrumb-logo"></a>
        <a href="../../index.html">Home</a>
        <span class="separator">></span>
        <a href="./index.html">Mortgage Fundamentals</a>
        <span class="separator">></span>
        <span class="current">SSA89 SentiLink Verification</span>
    </nav>

    <!-- Fixed Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <h2>SSA-89 Verification</h2>
            <p>SentiLink E-Sign Process</p>
        </div>

        <!-- Tab Switcher -->
        <div class="sidebar-tabs">
            <button class="sidebar-tab active" onclick="switchTab('workflow')">Workflow</button>
            <button class="sidebar-tab agent-tab" onclick="switchTab('agents')">AI Agents</button>
        </div>

        <!-- Workflow Navigation -->
        <nav class="sidebar-nav" id="workflow-nav">
            <a href="#section-1" class="nav-item active">
                <span class="nav-number">1</span>
                <span class="nav-label">Inspect SSA-89 Form</span>
            </a>
            <a href="#section-2" class="nav-item">
                <span class="nav-number">2</span>
                <span class="nav-label">Verify Information Match</span>
            </a>
            <a href="#section-3" class="nav-item">
                <span class="nav-number">3</span>
                <span class="nav-label">Handle Name Changes</span>
            </a>
            <a href="#section-4" class="nav-item">
                <span class="nav-number">4</span>
                <span class="nav-label">Access Verifications</span>
            </a>
            <a href="#section-5" class="nav-item">
                <span class="nav-number">5</span>
                <span class="nav-label">Place Order</span>
            </a>
            <a href="#section-6" class="nav-item">
                <span class="nav-number">6</span>
                <span class="nav-label">Review Results</span>
            </a>
            <a href="#section-7" class="nav-item">
                <span class="nav-number">7</span>
                <span class="nav-label">Non-Borrowing Spouse</span>
            </a>
            <a href="#quick-ref" class="nav-item">
                <span class="nav-number">*</span>
                <span class="nav-label">Quick Reference</span>
            </a>
        </nav>

        <!-- Agent Navigation -->
        <nav class="sidebar-nav" id="agents-nav" style="display: none;">
            <a href="#agent-summary" class="nav-item active">
                <span class="nav-number">S</span>
                <span class="nav-label">Summary</span>
            </a>
            <a href="#agent-heatmap" class="nav-item">
                <span class="nav-number">H</span>
                <span class="nav-label">Heat Map</span>
            </a>
            <a href="#agent-details" class="nav-item">
                <span class="nav-number">A</span>
                <span class="nav-label">Agent Details</span>
            </a>
        </nav>

        <div class="sidebar-footer">
            <button class="doc-btn" onclick="openDocModal()">
                View Workflow Markdown
            </button>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">

        <!-- ==================== WORKFLOW TAB ==================== -->
        <div id="workflow-panel" class="tab-panel active">
            <!-- Header -->
            <div class="header">
                <h1>SSA-89 Verification Using E-Sign via SentiLink</h1>
                <p class="subtitle">Complete guide for verifying Social Security Numbers through SentiLink in Byte LOS</p>
                <div class="meta">
                    <span class="meta-item">System: Byte LOS</span>
                    <span class="meta-item">Vendor: SentiLink</span>
                    <span class="meta-item">Updated: July 31, 2023</span>
                    <span class="meta-item">Form Validity: 90 days</span>
                </div>
            </div>

            <!-- Legend -->
            <div class="legend">
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #22c55e, #16a34a);"></div><span>Start/End</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #3b82f6, #2563eb);"></div><span>Action Step</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #f59e0b, #d97706);"></div><span>Decision Point</span></div>
                <div class="legend-item"><div class="legend-color" style="background: #111827; border: 2px solid #3b82f6;"></div><span>User Input</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #f43f5e, #dc2626);"></div><span>Exception</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #14b8a6, #0d9488);"></div><span>Output</span></div>
            </div>

            <!-- Section 1: Inspect SSA-89 Form -->
            <section id="section-1" class="section">
                <div class="section-header">
                    <div class="section-number">1</div>
                    <div class="section-title"><h2>Inspect SSA-89 Form</h2><span>Verify the SSA-89 form was sent and signed with SentiLink as vendor</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node start">Start</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Open Initial Disclosures</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Locate SSA-89 Form</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node decision">SentiLink as Vendor?</div>
                        </div>
                        <div class="decision-branch">
                            <div class="branch">
                                <span class="branch-label">YES</span>
                                <div class="flow-node output">Proceed to Verification</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">NO</span>
                                <div class="flow-node exception">STOP - Cannot Order</div>
                            </div>
                        </div>
                    </div>
                    <div class="info-box">
                        <h4>SSA-89 Form Location</h4>
                        <p>The SSA-89 form is sent to the Borrower through IDS in their Initial Disclosure Package. Confirm the document was e-signed or wet-signed by the Borrower with <strong>SentiLink Verification</strong> as the vendor.</p>
                    </div>
                    <div class="exception-box">
                        <h4>CRITICAL VIOLATION WARNING</h4>
                        <p>It is a <strong>violation</strong> to order SSA Verification through SentiLink if SentiLink is not listed as the vendor on the signed SSA-89 form. Always verify the vendor before proceeding.</p>
                    </div>
                    <div class="tip-box">
                        <h4>When SSA Verification is Required</h4>
                        <p>Social Security Number verification may be required based on product type or review of the loan. It is essential for loan delivery that the signed/dated SSA-89 form is dated within 90 days of the SentiLink order and the form matches the system exactly.</p>
                    </div>
                </div>
            </section>

            <!-- Section 2: Verify Information Match -->
            <section id="section-2" class="section">
                <div class="section-header">
                    <div class="section-number">2</div>
                    <div class="section-title"><h2>Verify Information Match</h2><span>Confirm SSA-89 form matches Byte borrower information</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Open Byte Home Screen</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Compare SSA-89 to URLA</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node decision">All Fields Match?</div>
                        </div>
                        <div class="decision-branch">
                            <div class="branch">
                                <span class="branch-label">YES</span>
                                <div class="flow-node output">Proceed to Order</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">NO</span>
                                <div class="flow-node exception">Correction Required</div>
                            </div>
                        </div>
                    </div>
                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Field to Verify</th>
                                <th>Source Document</th>
                                <th>System Location</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Full Name</strong></td>
                                <td>Signed SSA-89 Form</td>
                                <td>Byte Home Screen / URLA Personal Information</td>
                            </tr>
                            <tr>
                                <td><strong>Date of Birth</strong></td>
                                <td>Signed SSA-89 Form</td>
                                <td>Byte Home Screen / URLA Personal Information</td>
                            </tr>
                            <tr>
                                <td><strong>Social Security Number</strong></td>
                                <td>Signed SSA-89 Form</td>
                                <td>Byte Home Screen / URLA Personal Information</td>
                            </tr>
                            <tr>
                                <td><strong>Signature Date</strong></td>
                                <td>Signed SSA-89 Form</td>
                                <td>Must be within 90 days of order</td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="info-box">
                        <h4>Example Mismatch Scenario</h4>
                        <p>The application started as <strong>Amy Marie America</strong> (Amy's legal name) and Byte was updated to a shorter version <strong>Amy America</strong>, removing the middle name. In this case, a new wet or e-signed SSA-89 is required.</p>
                    </div>
                </div>
            </section>

            <!-- Section 3: Handle Name Changes -->
            <section id="section-3" class="section">
                <div class="section-header">
                    <div class="section-number">3</div>
                    <div class="section-title"><h2>Handle Name Changes</h2><span>Process for correcting borrower information discrepancies</span></div>
                </div>
                <div class="section-content">
                    <div class="decision-tree">
                        <h3>Scenario A: Legal Name Change Required</h3>
                        <p style="color: var(--text-secondary); margin-bottom: 15px;">If the Borrower's legal name registered with the Social Security Administration needs to be changed:</p>
                        <ul class="step-list">
                            <li><strong>Step 1:</strong> Open the loan in <strong>SANDBOX MODE</strong></li>
                            <li><strong>Step 2:</strong> Change the name to match the borrower's registered SSA name</li>
                            <li><strong>Step 3:</strong> Open the SSA-89 Screen and generate a new SSA-89 form from Byte</li>
                            <li><strong>Step 4:</strong> Email/DocuSign the form to the Borrower</li>
                            <li><strong>Step 5:</strong> When signed form is returned, upload and correct the name in SSA Verification screen prior to ordering</li>
                        </ul>
                    </div>

                    <div class="decision-tree">
                        <h3>Scenario B: DOB, Address, or SSN Incorrect</h3>
                        <p style="color: var(--text-secondary); margin-bottom: 15px;">If DOB, Address, or SSN are incorrect on the application:</p>
                        <ul class="step-list">
                            <li><strong>Step 1:</strong> Correct the information in the <strong>LIVE loan application</strong> (not Sandbox)</li>
                            <li><strong>Step 2:</strong> Generate a new SSA-89 form from Byte</li>
                            <li><strong>Step 3:</strong> Send to Borrower for signature</li>
                            <li><strong>Step 4:</strong> Proceed with verification once new form is received</li>
                        </ul>
                    </div>

                    <!-- Channel Comparison -->
                    <div class="channel-comparison">
                        <div class="channel-card">
                            <div class="channel-card-header">
                                <h4>WHOLESALE</h4>
                            </div>
                            <div class="channel-card-body">
                                <ul>
                                    <li><span class="check-icon">></span> Send corrected SSA-89 form to the broker</li>
                                    <li><span class="check-icon">></span> Broker obtains Borrower e-sign or wet sign</li>
                                    <li><span class="check-icon">></span> Broker returns signed form</li>
                                </ul>
                            </div>
                        </div>
                        <div class="channel-card">
                            <div class="channel-card-header">
                                <h4>RETAIL</h4>
                            </div>
                            <div class="channel-card-body">
                                <ul>
                                    <li><span class="check-icon">></span> Send to the Borrower directly</li>
                                    <li><span class="check-icon">></span> E-sign via *DocuSign or wet sign via email</li>
                                    <li><span class="check-icon">></span> *DocuSign requires ThinkItHub training</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="tip-box">
                        <h4>DocuSign Availability</h4>
                        <p>*DocuSign accounts are only available for the <strong>Retail Channel</strong> after completion of the DocuSign training in ThinkItHub.</p>
                    </div>
                </div>
            </section>

            <!-- Section 4: Access Verifications -->
            <section id="section-4" class="section">
                <div class="section-header">
                    <div class="section-number">4</div>
                    <div class="section-title"><h2>Access Verifications Screen</h2><span>Navigate to SSA-89 Authorization and Verifications in Byte</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Click Interfaces Menu</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Select Verifications</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Scroll to SSA-89 Section</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">SSA-89 Authorization Screen</div>
                        </div>
                    </div>
                    <ul class="step-list">
                        <li><strong>Step 4a:</strong> Click <strong>Interfaces</strong> menu in Byte</li>
                        <li><strong>Step 4b:</strong> Select <strong>Verifications</strong> from the dropdown</li>
                        <li><strong>Step 4c:</strong> Scroll down to the <strong>SSA-89 Authorization and Verifications</strong> section</li>
                    </ul>
                    <div class="info-box">
                        <h4>Screen Navigation Path</h4>
                        <p><strong>Interfaces > Verifications > SSA-89 Authorization and Verifications</strong></p>
                    </div>
                </div>
            </section>

            <!-- Section 5: Place Order -->
            <section id="section-5" class="section">
                <div class="section-header">
                    <div class="section-number">5</div>
                    <div class="section-title"><h2>Place SentiLink Order</h2><span>Complete verification fields and submit request</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Confirm Name Match</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Select Form Type</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Check Certification Box</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Click Request</div>
                        </div>
                    </div>
                    <ul class="step-list">
                        <li><strong>Step 5a:</strong> Confirm the <strong>complete name</strong> matches the signed SSA-89 form. Update names as needed.</li>
                        <li><strong>Step 5b:</strong> Choose the form type in the <strong>Type drop-down</strong> (Electronic or other)</li>
                        <li><strong>Step 5c:</strong> Check the box to certify <strong>"Borrower has signed the SSA-89 e-sign form with SentiLink as the vendor"</strong></li>
                        <li><strong>Step 5d:</strong> Click <strong>Request</strong> to place the order</li>
                    </ul>
                    <div class="exception-box">
                        <h4>Name Field Warning</h4>
                        <p>The name in the SSA Verification screen may be <strong>different</strong> than the name in the Borrower information in Byte as the fields are <strong>not mapped</strong>. Always verify and update manually to match the signed SSA-89 form.</p>
                    </div>
                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Action</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>First Name</strong></td>
                                <td>Verify matches signed SSA-89</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Middle Name</strong></td>
                                <td>Verify matches signed SSA-89</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Last Name</strong></td>
                                <td>Verify matches signed SSA-89</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Suffix</strong></td>
                                <td>Verify if applicable</td>
                                <td><span class="badge optional-badge">If Applicable</span></td>
                            </tr>
                            <tr>
                                <td><strong>Type</strong></td>
                                <td>Select from dropdown (Electronic)</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Certification Checkbox</strong></td>
                                <td>Check to confirm SentiLink vendor</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Section 6: Review Results -->
            <section id="section-6" class="section">
                <div class="section-header">
                    <div class="section-number">6</div>
                    <div class="section-title"><h2>Review Results</h2><span>Verify SSN validation in Stored Documents</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">View Pop-up Results</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Open Stored Documents</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node decision">SSN Validated?</div>
                        </div>
                        <div class="decision-branch">
                            <div class="branch">
                                <span class="branch-label">YES</span>
                                <div class="flow-node output">Verification Complete</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">NO</span>
                                <div class="flow-node exception">Troubleshoot</div>
                            </div>
                        </div>
                    </div>
                    <div class="info-box">
                        <h4>Immediate Results</h4>
                        <p>A pop-up will return immediately stating completed results. Open <strong>Stored Documents</strong> to confirm the Social Security number has been validated.</p>
                    </div>

                    <div class="summary-grid">
                        <div class="summary-card">
                            <h4>SSA Verified Identity</h4>
                            <div class="value">Yes</div>
                            <div class="label">Successful Match</div>
                        </div>
                        <div class="summary-card">
                            <h4>SSA Verified Deceased</h4>
                            <div class="value">No</div>
                            <div class="label">Expected Result</div>
                        </div>
                        <div class="summary-card">
                            <h4>SSA Error Message</h4>
                            <div class="value">None</div>
                            <div class="label">No Errors</div>
                        </div>
                    </div>

                    <div class="decision-tree">
                        <h3>If Validation Fails</h3>
                        <ul class="step-list">
                            <li><strong>Step 1:</strong> Confirm with the Borrower that their name, DOB, and SSN in the application matches their information registered with the Social Security Administration</li>
                            <li><strong>Step 2:</strong> Follow the steps for updating information provided in this guide</li>
                            <li><strong>Step 3:</strong> If validation fails after information has been confirmed to match SSA records, email <strong>LoanInvestigations@cmgfi.com</strong></li>
                        </ul>
                    </div>

                    <div class="exception-box">
                        <h4>Escalation Contact</h4>
                        <p>If the validation fails after the information has been confirmed to match the information registered with the Social Security Administration, email: <strong>LoanInvestigations@cmgfi.com</strong></p>
                    </div>
                </div>
            </section>

            <!-- Section 7: Non-Borrowing Spouse -->
            <section id="section-7" class="section">
                <div class="section-header">
                    <div class="section-number">7</div>
                    <div class="section-title"><h2>Non-Borrowing Spouse SSA Verification</h2><span>Special process for verifying NBS Social Security</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Add NBS to Byte</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Generate SSA-89</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Obtain Signature</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Order Verification</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Remove NBS from App</div>
                        </div>
                    </div>

                    <ul class="step-list">
                        <li><strong>Step 1:</strong> Add the Non-Borrowing Spouse's <strong>Full Name, Social Security Number, Date of Birth, and Address</strong> to the loan application in Byte</li>
                        <li><strong>Step 2:</strong> Generate an SSA-89 SentiLink form with the Non-Borrowing Spouse information from Byte</li>
                        <li><strong>Step 3:</strong> Send the form to the Non-Borrowing Spouse for e-sign via *DocuSign or wet sign via email</li>
                        <li><strong>Step 4:</strong> Order the verifications of Social Security following steps 5-9 in the verifications screen in Byte</li>
                        <li><strong>Step 5:</strong> Confirm the SSN validated in the results in Stored Documents</li>
                        <li><strong>Step 6:</strong> Remove the Non-Borrowing Spouse from the application in Byte</li>
                    </ul>

                    <div class="tip-box">
                        <h4>BEST PRACTICE</h4>
                        <p>Complete this process <strong>prior to submitting the loan to Underwriting</strong>. Once the loan is Approved, a Manager may need to assist adding the NBS to Byte.</p>
                    </div>
                </div>
            </section>

            <!-- Quick Reference -->
            <div id="quick-ref" class="quick-ref">
                <h3>SSA-89 SentiLink Quick Reference</h3>
                <pre>
SSA-89 VERIFICATION CHECKLIST
=============================

PRE-ORDER VERIFICATION:
[ ] SSA-89 form sent through IDS in Initial Disclosures
[ ] Form is e-signed OR wet-signed by Borrower
[ ] SentiLink listed as vendor on form
[ ] Form signed within 90 days of order date
[ ] Name on form matches Byte Home Screen / URLA
[ ] DOB on form matches Byte
[ ] SSN on form matches Byte

NAVIGATION PATH:
Interfaces > Verifications > SSA-89 Authorization and Verifications

ORDER STEPS:
1. Confirm name matches signed SSA-89 (update if needed)
2. Select form type in Type dropdown
3. Check certification box for SentiLink vendor
4. Click Request button
5. Review pop-up for completed results
6. Open Stored Documents to confirm validation

RESPONSE SUMMARY VALUES:
-----------------------
SSA Verified Identity:   Yes = PASS | No/FAIL = Review
SSA Verified Deceased:   No = EXPECTED | Yes = ESCALATE
SSA Error Message:       None = PASS | Message = Troubleshoot

NAME CHANGE SCENARIOS:
=====================
Scenario A - Legal Name Change:
  1. Open loan in SANDBOX MODE
  2. Change name
  3. Generate new SSA-89 from SSA-89 screen
  4. Email/DocuSign to Borrower
  5. Upload and correct name in SSA Verification screen

Scenario B - DOB/Address/SSN Incorrect:
  1. Correct in LIVE loan application
  2. Generate new SSA-89 form
  3. Send to Borrower for signature

NON-BORROWING SPOUSE PROCESS:
============================
1. Add NBS info to Byte (Name, SSN, DOB, Address)
2. Generate SSA-89 SentiLink form
3. Send for signature (DocuSign or wet sign)
4. Order verification (Steps 5-9)
5. Confirm SSN validated in Stored Documents
6. Remove NBS from application

BEST PRACTICE: Complete before submitting to Underwriting

ESCALATION:
===========
If validation fails after confirming info matches SSA:
Email: LoanInvestigations@cmgfi.com

CHANNEL-SPECIFIC NOTES:
======================
WHOLESALE: Send corrected form to broker for signature
RETAIL: Send directly via DocuSign* or email
*DocuSign requires ThinkItHub training completion
                </pre>
            </div>
        </div>

        <!-- ==================== AI AGENTS TAB ==================== -->
        <div id="agents-panel" class="tab-panel">
            <!-- Agent Header -->
            <div class="agent-header">
                <h1>AI Agent Opportunities</h1>
                <p class="subtitle">Automation opportunities identified for the SSA-89 SentiLink verification process</p>
            </div>

            <!-- Summary Stats -->
            <div class="agent-summary" id="agent-summary">
                <div class="agent-summary-card">
                    <div class="agent-summary-value">4</div>
                    <div class="agent-summary-label">Agent Opportunities</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">68%</div>
                    <div class="agent-summary-label">Automation Potential</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">6 min</div>
                    <div class="agent-summary-label">Est. Time Saved</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">High</div>
                    <div class="agent-summary-label">Compliance Impact</div>
                </div>
            </div>

            <!-- Heat Map Legend -->
            <div class="heat-legend">
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(90deg, #ef4444, #f97316);"></div>
                    <span>Critical Priority (9-10)</span>
                </div>
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(90deg, #f97316, #eab308);"></div>
                    <span>High Priority (7-8)</span>
                </div>
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(90deg, #eab308, #22c55e);"></div>
                    <span>Medium Priority (5-6)</span>
                </div>
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(90deg, #22c55e, #14b8a6);"></div>
                    <span>Low Priority (1-4)</span>
                </div>
            </div>

            <!-- Heat Map Grid -->
            <div class="heat-map-container" id="agent-heatmap">
                <div class="heat-map-title">Priority Heat Map</div>
                <div class="heat-map-grid">
                    <div class="heat-item critical" onclick="scrollToAgent('agent-datamatch')">
                        <div class="heat-score">9.4</div>
                        <div class="heat-name">Data Match Agent</div>
                        <div class="heat-desc">Auto-compare SSA-89 form data with Byte fields</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Time: <span>3 min</span></div>
                            <div class="heat-metric">Complexity: <span>Medium</span></div>
                        </div>
                    </div>
                    <div class="heat-item high" onclick="scrollToAgent('agent-vendorcheck')">
                        <div class="heat-score">8.5</div>
                        <div class="heat-name">Vendor Validation Agent</div>
                        <div class="heat-desc">Verify SentiLink vendor listed before ordering</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Time: <span>1 min</span></div>
                            <div class="heat-metric">Complexity: <span>Low</span></div>
                        </div>
                    </div>
                    <div class="heat-item high" onclick="scrollToAgent('agent-expiration')">
                        <div class="heat-score">7.8</div>
                        <div class="heat-name">90-Day Monitor</div>
                        <div class="heat-desc">Alert when SSA-89 approaches 90-day expiration</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Time: <span>N/A</span></div>
                            <div class="heat-metric">Complexity: <span>Low</span></div>
                        </div>
                    </div>
                    <div class="heat-item medium" onclick="scrollToAgent('agent-nbsworkflow')">
                        <div class="heat-score">6.2</div>
                        <div class="heat-name">NBS Workflow Agent</div>
                        <div class="heat-desc">Automate Non-Borrowing Spouse verification process</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Time: <span>2 min</span></div>
                            <div class="heat-metric">Complexity: <span>Medium</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Agent Details -->
            <div id="agent-details">
                <h2 style="color: var(--text-primary); margin-bottom: 25px; font-size: 1.5rem;">Agent Details</h2>
                <div class="agent-grid">
                    <!-- Data Match Agent -->
                    <div class="agent-card" id="agent-datamatch">
                        <div class="agent-card-header">
                            <div class="agent-icon">D</div>
                            <div class="agent-info">
                                <div class="agent-name">Data Match Agent</div>
                                <div class="agent-type">Document Validation / OCR</div>
                            </div>
                            <span class="agent-priority critical">Critical</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">Automatically extracts data from the signed SSA-89 form using OCR and compares it against Byte borrower fields (Name, DOB, SSN). Flags mismatches and prevents ordering until discrepancies are resolved.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Flow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">Extract SSA-89</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">OCR Processing</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Compare Fields</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Flag Mismatches</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">3 min</div>
                                    <div class="agent-stat-label">Time Saved</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">99%</div>
                                    <div class="agent-stat-label">Accuracy</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">Med</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('datamatch')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>

                    <!-- Vendor Validation Agent -->
                    <div class="agent-card" id="agent-vendorcheck">
                        <div class="agent-card-header">
                            <div class="agent-icon">V</div>
                            <div class="agent-info">
                                <div class="agent-name">Vendor Validation Agent</div>
                                <div class="agent-type">Compliance Check</div>
                            </div>
                            <span class="agent-priority high">High</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">Scans the SSA-89 document to verify SentiLink is listed as the vendor before allowing the verification order to proceed. Prevents compliance violations from ordering through incorrect vendor.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Flow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">Scan Document</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Find Vendor Field</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Validate SentiLink</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Allow/Block</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">1 min</div>
                                    <div class="agent-stat-label">Time Saved</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">100%</div>
                                    <div class="agent-stat-label">Accuracy</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">Low</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('vendorcheck')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>

                    <!-- 90-Day Monitor Agent -->
                    <div class="agent-card" id="agent-expiration">
                        <div class="agent-card-header">
                            <div class="agent-icon">E</div>
                            <div class="agent-info">
                                <div class="agent-name">90-Day Monitor</div>
                                <div class="agent-type">Monitoring / Alerts</div>
                            </div>
                            <span class="agent-priority high">High</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">Monitors SSA-89 signature dates and alerts processors when forms are approaching the 90-day validity window, ensuring orders are placed before expiration and preventing rework.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Flow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">Track Sign Date</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Calculate Days</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Check Threshold</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Send Alert</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">N/A</div>
                                    <div class="agent-stat-label">Time Saved</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">100%</div>
                                    <div class="agent-stat-label">Accuracy</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">Low</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('expiration')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>

                    <!-- NBS Workflow Agent -->
                    <div class="agent-card" id="agent-nbsworkflow">
                        <div class="agent-card-header">
                            <div class="agent-icon">N</div>
                            <div class="agent-info">
                                <div class="agent-name">NBS Workflow Agent</div>
                                <div class="agent-type">Process Automation</div>
                            </div>
                            <span class="agent-priority medium">Medium</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">Automates the Non-Borrowing Spouse verification workflow including temporary addition to Byte, form generation, verification tracking, and automatic removal after completion.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Flow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">Add NBS</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Generate Form</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Track Status</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Remove NBS</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">2 min</div>
                                    <div class="agent-stat-label">Time Saved</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">95%</div>
                                    <div class="agent-stat-label">Accuracy</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">Med</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('nbsworkflow')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Documentation Modal -->
    <div class="modal-overlay" id="docModal">
        <div class="modal">
            <div class="modal-header">
                <h3>SSA-89 SentiLink Workflow Documentation</h3>
                <div class="modal-actions">
                    <button class="modal-btn copy" onclick="copyToClipboard()">Copy</button>
                    <button class="modal-btn close" onclick="closeDocModal()">Close</button>
                </div>
            </div>
            <div class="modal-body">
                <pre id="docContent"># SSA-89 Verification Using E-Sign via SentiLink

## Overview
Social Security Number verification may be required based on product or review of the loan. The signed/dated SSA-89 form must be dated within 90 days of the SentiLink order and the form must match the system exactly.

## Critical Requirements
- SentiLink MUST be listed as vendor on SSA-89 form
- Form must be signed within 90 days of order date
- Name, DOB, SSN must match Byte exactly

## Pre-Order Checklist
1. Locate SSA-89 in Initial Disclosures (sent via IDS)
2. Verify e-signed or wet-signed
3. Confirm SentiLink as vendor
4. Compare all fields to Byte URLA

## Navigation
Interfaces > Verifications > SSA-89 Authorization and Verifications

## Order Process
1. Confirm name matches signed SSA-89
2. Select form type (Electronic)
3. Check certification checkbox
4. Click Request

## Response Summary
- SSA Verified Identity: Yes = Pass
- SSA Verified Deceased: No = Expected
- SSA Error Message: None = Pass

## Name Change Procedures
### Legal Name Change (Sandbox Mode)
1. Open loan in Sandbox Mode
2. Update name
3. Generate new SSA-89
4. Send for signature
5. Upload and correct before ordering

### DOB/Address/SSN Incorrect (Live Loan)
1. Correct in live loan application
2. Generate new SSA-89
3. Send for signature

## Non-Borrowing Spouse Process
1. Add NBS to Byte (Name, SSN, DOB, Address)
2. Generate SSA-89 form
3. Obtain signature
4. Order verification
5. Confirm validation
6. Remove NBS from application

## Escalation
Email: LoanInvestigations@cmgfi.com</pre>
            </div>
        </div>
    </div>

    <!-- AI Prompt Modal -->
    <div class="modal-overlay prompt-modal" id="promptModal">
        <div class="modal">
            <div class="modal-header">
                <h3 id="promptModalTitle">AI Agent Build Prompt</h3>
                <div class="modal-actions">
                    <button class="modal-btn copy" onclick="copyPromptToClipboard()">Copy Prompt</button>
                    <button class="modal-btn close" onclick="closePromptModal()">Close</button>
                </div>
            </div>
            <div class="modal-body">
                <div class="prompt-tags" id="promptTags"></div>
                <div class="prompt-section">
                    <h4>Agent Purpose</h4>
                    <div class="prompt-box" id="promptPurpose"></div>
                </div>
                <div class="prompt-section">
                    <h4>Full Build Prompt</h4>
                    <div class="prompt-box" id="promptContent"></div>
                </div>
                <div class="prompt-section">
                    <h4>Integration Points</h4>
                    <div class="prompt-box" id="promptIntegration"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="copy-success" id="copySuccess">Copied to clipboard!</div>

    <script>
        // Tab switching
        function switchTab(tab) {
            document.querySelectorAll('.sidebar-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));

            if (tab === 'workflow') {
                document.querySelector('.sidebar-tab:not(.agent-tab)').classList.add('active');
                document.getElementById('workflow-panel').classList.add('active');
                document.getElementById('workflow-nav').style.display = 'block';
                document.getElementById('agents-nav').style.display = 'none';
            } else {
                document.querySelector('.sidebar-tab.agent-tab').classList.add('active');
                document.getElementById('agents-panel').classList.add('active');
                document.getElementById('workflow-nav').style.display = 'none';
                document.getElementById('agents-nav').style.display = 'block';
            }

            window.scrollTo(0, 0);
        }

        // Scroll spy with isScrolling flag and 1000ms timeout
        const sections = document.querySelectorAll('.section, .quick-ref');
        const navItems = document.querySelectorAll('#workflow-nav .nav-item');
        let isScrolling = false;
        let scrollTimeout;

        function updateActiveNav() {
            if (isScrolling) return;

            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100;
                if (window.scrollY >= sectionTop) current = section.getAttribute('id');
            });
            navItems.forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('href') === '#' + current) item.classList.add('active');
            });
        }

        // Handle nav click to temporarily disable scroll spy
        navItems.forEach(item => {
            item.addEventListener('click', function(e) {
                isScrolling = true;
                clearTimeout(scrollTimeout);

                // Remove active from all, add to clicked
                navItems.forEach(nav => nav.classList.remove('active'));
                this.classList.add('active');

                // Re-enable scroll spy after 1000ms
                scrollTimeout = setTimeout(() => {
                    isScrolling = false;
                }, 1000);
            });
        });

        window.addEventListener('scroll', updateActiveNav);

        // Modal
        function openDocModal() {
            document.getElementById('docModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closeDocModal() {
            document.getElementById('docModal').classList.remove('show');
            document.body.style.overflow = '';
        }

        async function copyToClipboard() {
            try {
                await navigator.clipboard.writeText(document.getElementById('docContent').textContent);
                const success = document.getElementById('copySuccess');
                success.style.display = 'block';
                setTimeout(() => { success.style.display = 'none'; }, 2000);
            } catch (e) { alert('Failed to copy.'); }
        }

        document.addEventListener('keydown', (e) => { if (e.key === 'Escape') { closeDocModal(); closePromptModal(); } });
        document.getElementById('docModal').addEventListener('click', (e) => { if (e.target.id === 'docModal') closeDocModal(); });

        document.addEventListener('DOMContentLoaded', () => { updateActiveNav(); });

        // Scroll to agent card and highlight
        function scrollToAgent(agentId) {
            const agentCard = document.getElementById(agentId);
            if (agentCard) {
                document.querySelectorAll('.agent-card.highlight').forEach(card => {
                    card.classList.remove('highlight');
                });

                agentCard.scrollIntoView({ behavior: 'smooth', block: 'center' });

                setTimeout(() => {
                    agentCard.classList.add('highlight');
                }, 300);

                setTimeout(() => {
                    agentCard.classList.remove('highlight');
                }, 2500);
            }
        }

        // Agent Prompt System
        const agentPrompts = {
            datamatch: {
                name: 'Data Match Agent',
                tags: ['Document Validation', 'OCR', 'Medium Complexity', 'Critical Priority'],
                purpose: `This agent automatically extracts data from signed SSA-89 forms using OCR technology and compares it against Byte borrower fields (Name, DOB, SSN). It flags mismatches instantly and prevents verification orders from being placed until discrepancies are resolved, ensuring compliance and reducing manual verification time.`,
                prompt: `You are building a Document Validation Agent for CMG Financial's SSA-89 SentiLink verification process.

AGENT NAME: SSA-89 Data Match Agent
TYPE: Document Validation / OCR

OBJECTIVE:
Create an agent that automatically extracts and validates data from signed SSA-89 forms against Byte LOS borrower information before allowing verification orders.

INPUT DATA:
- Signed SSA-89 PDF from Stored Documents
- Byte Borrower URLA fields (Name, DOB, SSN)

OCR EXTRACTION TARGETS:
{
  "printed_name": "First Middle Last",
  "date_of_birth": "MM/DD/YYYY",
  "social_security_number": "XXX-XX-XXXX",
  "signature_date": "MM/DD/YYYY",
  "vendor_name": "SentiLink Corp."
}

VALIDATION RULES:
1. Name Match:
   - Exact match on First, Middle, Last
   - Flag if middle name present on one but not other
   - Handle suffix variations (Jr, Jr., Junior)

2. DOB Match:
   - Exact date match required
   - Parse multiple formats (MM/DD/YYYY, MM-DD-YYYY)

3. SSN Match:
   - Remove formatting before comparison
   - 9-digit exact match required

4. Date Validation:
   - Signature date within 90 days of current date
   - Calculate days remaining before expiration

OUTPUT:
{
  "validation_status": "PASS" | "FAIL" | "WARNING",
  "mismatches": [
    { "field": "middle_name", "ssa89_value": "Marie", "byte_value": "" }
  ],
  "days_until_expiration": 45,
  "can_proceed": true | false
}

ERROR HANDLING:
- OCR confidence < 90%: Flag for manual review
- Multiple signatures: Process primary borrower first
- Illegible fields: Request new form`,
                integration: `INTEGRATION POINTS:
1. Byte Stored Documents
   - Retrieve SSA-89 PDF
   - Query by document type
   - Handle multiple versions

2. Byte URLA API
   - Read borrower personal information
   - First, Middle, Last name fields
   - DOB, SSN fields

3. OCR Service
   - Azure Form Recognizer or AWS Textract
   - Custom SSA-89 form model
   - Confidence scoring

4. Verification Screen
   - Block Request button if validation fails
   - Display mismatch details
   - Auto-populate corrected values

DEPLOYMENT:
- Triggered when user navigates to SSA-89 screen
- Background processing during page load
- Results cached until form changes`
            },
            vendorcheck: {
                name: 'Vendor Validation Agent',
                tags: ['Compliance Check', 'OCR', 'Low Complexity', 'High Priority'],
                purpose: `This agent scans the SSA-89 document to verify that SentiLink is listed as the vendor before allowing any verification order to proceed. This prevents critical compliance violations from ordering SSA verification through an incorrect vendor.`,
                prompt: `You are building a Compliance Check Agent for CMG Financial's SSA-89 SentiLink verification process.

AGENT NAME: Vendor Validation Agent
TYPE: Compliance Check / Document Scan

OBJECTIVE:
Verify that "SentiLink" appears as the vendor on the signed SSA-89 form before allowing verification orders, preventing compliance violations.

INPUT DATA:
- Signed SSA-89 PDF from Stored Documents

TARGET SEARCH:
Look for vendor information in:
1. "Company's Agent" field
2. Footer/header area
3. "SentiLink Corp." or "SentiLink Verification"
4. Address: "171 2nd Street, 4th Floor, San Francisco, CA 94105"

VALIDATION LOGIC:
{
  "vendor_found": true | false,
  "vendor_text": "SentiLink Corp., 171 2nd Street...",
  "location_on_form": "Company Agent Field",
  "confidence": 0.98,
  "validation_result": "PASS" | "FAIL"
}

COMPLIANCE RULE:
"It is a VIOLATION to order SSA Verification through SentiLink if SentiLink is not listed as the vendor."

ACTION ON FAILURE:
1. Block the Request button
2. Display warning: "SentiLink vendor not found on SSA-89"
3. Provide instructions to generate new form
4. Log compliance check failure

SUCCESS FLOW:
1. Vendor validated
2. Enable Request button
3. Log compliance check pass
4. Timestamp validation`,
                integration: `INTEGRATION POINTS:
1. Byte Stored Documents
   - Retrieve SSA-89 PDF
   - Handle scanned vs electronic forms

2. OCR/Text Search
   - Simple text search for "SentiLink"
   - Fuzzy matching for variations
   - Address validation as backup

3. Verification Screen
   - Conditional button enabling
   - Warning message display
   - Audit trail logging

4. Compliance Logging
   - Track all validation attempts
   - Store pass/fail results
   - Generate compliance reports

DEPLOYMENT:
- Runs automatically before order
- Sub-second response time
- No user intervention needed`
            },
            expiration: {
                name: '90-Day Monitor Agent',
                tags: ['Monitoring', 'Alerts', 'Low Complexity', 'High Priority'],
                purpose: `This agent monitors SSA-89 signature dates across all active loans and sends proactive alerts to processors when forms are approaching the 90-day validity window, ensuring orders are placed before expiration and preventing costly rework.`,
                prompt: `You are building a Monitoring Agent for CMG Financial's SSA-89 SentiLink verification process.

AGENT NAME: SSA-89 90-Day Expiration Monitor
TYPE: Monitoring / Push Notifications

OBJECTIVE:
Track SSA-89 signature dates and alert processors before the 90-day validity window expires, preventing rework and delays.

MONITORING LOGIC:
1. Extract signature date from SSA-89 forms
2. Calculate days until 90-day expiration
3. Trigger alerts based on thresholds

ALERT THRESHOLDS:
- 30 days remaining: INFO notification
- 14 days remaining: WARNING notification
- 7 days remaining: URGENT notification
- 3 days remaining: CRITICAL notification
- 0 days: EXPIRED - block verification

ALERT CHANNELS:
- Email notification to processor
- Byte dashboard notification
- Pipeline view indicator (color-coded)
- Daily digest summary

ALERT MESSAGE FORMAT:
{
  "loan_number": "2026-001234",
  "borrower_name": "John Smith",
  "ssa89_signed_date": "2025-11-01",
  "expiration_date": "2026-01-30",
  "days_remaining": 14,
  "processor": "Jane Doe",
  "alert_level": "WARNING",
  "action_required": "Order SSA verification before 01/30/2026"
}

BATCH PROCESSING:
- Run daily at 7:00 AM
- Process all loans with signed SSA-89
- Group alerts by processor
- Skip already-verified loans`,
                integration: `INTEGRATION POINTS:
1. Byte Stored Documents
   - Query all SSA-89 forms
   - Extract signature dates
   - Track verification status

2. Notification Services
   - Email via SendGrid
   - Byte notification API
   - Teams webhooks optional

3. Pipeline Dashboard
   - Color-coded status indicators
   - Countdown display
   - One-click navigation to loan

4. Reporting
   - Expiration risk report
   - Processor workload distribution
   - Compliance metrics

DEPLOYMENT:
- Scheduled daily batch job
- Real-time on loan open
- Dashboard widget refresh`
            },
            nbsworkflow: {
                name: 'NBS Workflow Agent',
                tags: ['Process Automation', 'Workflow', 'Medium Complexity', 'Medium Priority'],
                purpose: `This agent automates the complete Non-Borrowing Spouse verification workflow, including temporary addition to Byte, SSA-89 form generation, verification tracking, and automatic removal after successful completion.`,
                prompt: `You are building a Process Automation Agent for CMG Financial's Non-Borrowing Spouse SSA verification workflow.

AGENT NAME: NBS Workflow Automation Agent
TYPE: Process Automation / Workflow Management

OBJECTIVE:
Automate the complete Non-Borrowing Spouse (NBS) SSA-89 verification workflow to ensure proper execution and cleanup.

WORKFLOW STEPS:
1. ADD NBS TO BYTE
   - Input: NBS Full Name, SSN, DOB, Address
   - Action: Create temporary borrower record
   - Flag: Mark as "NBS - Temporary"

2. GENERATE SSA-89 FORM
   - Action: Auto-generate SSA-89 with NBS info
   - Output: PDF ready for signature
   - Track: Form generation timestamp

3. SEND FOR SIGNATURE
   - Channel: DocuSign (Retail) or Email to Broker (Wholesale)
   - Track: Sent date, recipient
   - Monitor: Signature status

4. ORDER VERIFICATION
   - Trigger: Upon signed form return
   - Action: Auto-populate verification screen
   - Execute: Place SentiLink order

5. CONFIRM VALIDATION
   - Check: SSA Verified Identity = Yes
   - Check: SSA Verified Deceased = No
   - Store: Results in Stored Documents

6. REMOVE NBS FROM APPLICATION
   - Trigger: Successful validation
   - Action: Archive NBS record
   - Cleanup: Remove from active borrowers
   - Audit: Log complete workflow

WORKFLOW STATE TRACKING:
{
  "loan_number": "2026-001234",
  "nbs_name": "Jane Smith",
  "workflow_status": "PENDING_SIGNATURE",
  "steps_completed": ["ADD_NBS", "GENERATE_FORM", "SEND_FOR_SIGNATURE"],
  "current_step": "AWAITING_SIGNED_FORM",
  "started_at": "2026-01-15T10:30:00Z",
  "last_updated": "2026-01-15T10:35:00Z"
}

GUARD RAILS:
- Best Practice Alert: "Complete before submitting to Underwriting"
- Manager notification if loan already Approved
- Rollback capability if verification fails`,
                integration: `INTEGRATION POINTS:
1. Byte Borrower Management
   - Add/remove borrower records
   - Temporary record flagging
   - URLA field population

2. Document Generation
   - SSA-89 form creation
   - Pre-filled with NBS data
   - PDF output to Stored Docs

3. Signature Services
   - DocuSign API (Retail)
   - Email dispatch (Wholesale)
   - Status webhook callbacks

4. Verification Integration
   - SentiLink API
   - Results parsing
   - Stored Documents update

5. Workflow Engine
   - State machine tracking
   - Step sequencing
   - Error recovery
   - Audit logging

DEPLOYMENT:
- Triggered by NBS verification request
- Background workflow processing
- Real-time status updates
- Completion notifications`
            }
        };

        // Show agent prompt modal
        let currentPromptContent = '';

        function showAgentPrompt(agentKey) {
            const agent = agentPrompts[agentKey];
            if (!agent) return;

            document.getElementById('promptModalTitle').textContent = agent.name + ' - Build Prompt';

            const tagsHtml = agent.tags.map(tag => '<span class="prompt-tag">' + tag + '</span>').join('');
            document.getElementById('promptTags').innerHTML = tagsHtml;

            document.getElementById('promptPurpose').textContent = agent.purpose;
            document.getElementById('promptContent').textContent = agent.prompt;
            document.getElementById('promptIntegration').textContent = agent.integration;

            currentPromptContent = '# ' + agent.name + '\n\n## Purpose\n' + agent.purpose + '\n\n## Build Prompt\n' + agent.prompt + '\n\n## Integration Points\n' + agent.integration;

            document.getElementById('promptModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closePromptModal() {
            document.getElementById('promptModal').classList.remove('show');
            document.body.style.overflow = '';
        }

        async function copyPromptToClipboard() {
            try {
                await navigator.clipboard.writeText(currentPromptContent);
                const success = document.getElementById('copySuccess');
                success.style.display = 'block';
                setTimeout(() => { success.style.display = 'none'; }, 2000);
            } catch (e) {
                alert('Failed to copy prompt.');
            }
        }

        document.getElementById('promptModal').addEventListener('click', (e) => {
            if (e.target.id === 'promptModal') closePromptModal();
        });
    </script>
</body>
</html>
