<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LO File Submission Form - Process Workflow</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0f1a;
            --bg-secondary: #111827;
            --bg-card: #1a2234;
            --accent-blue: #3b82f6;
            --accent-teal: #14b8a6;
            --accent-amber: #f59e0b;
            --accent-rose: #f43f5e;
            --accent-green: #22c55e;
            --accent-purple: #8b5cf6;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --border-subtle: rgba(255,255,255,0.08);
            --sidebar-width: 280px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
        }

        /* Breadcrumb */
        .breadcrumb {
            background: linear-gradient(90deg, #0d1525 0%, #1a2234 100%);
            padding: 14px 25px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 0.95rem;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1001;
            border-bottom: 1px solid var(--border-subtle);
        }

        .breadcrumb a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 600;
            padding: 8px 16px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
            transition: all 0.2s;
            border: 1px solid var(--border-subtle);
        }

        .breadcrumb a:hover {
            background: rgba(59, 130, 246, 0.15);
            color: var(--accent-blue);
            border-color: rgba(59, 130, 246, 0.3);
        }

        .breadcrumb .separator { color: var(--text-muted); font-size: 1.2rem; }
        .breadcrumb .current { color: var(--accent-amber); font-weight: 600; padding: 8px 16px; }

        /* Sidebar */
        .sidebar {
            position: fixed;
            top: 54px;
            left: 0;
            width: var(--sidebar-width);
            height: calc(100vh - 54px);
            background: var(--bg-secondary);
            overflow-y: auto;
            z-index: 1000;
            border-right: 1px solid var(--border-subtle);
            display: flex;
            flex-direction: column;
        }

        .sidebar-header {
            padding: 25px 20px;
            background: rgba(0,0,0,0.3);
            border-bottom: 1px solid var(--border-subtle);
        }

        .sidebar-header h2 { color: var(--text-primary); font-size: 1.2rem; font-weight: 700; margin-bottom: 5px; }
        .sidebar-header p { color: var(--text-muted); font-size: 0.85rem; }

        /* Tab Switch */
        .sidebar-tabs {
            display: flex;
            border-bottom: 1px solid var(--border-subtle);
        }

        .sidebar-tab {
            flex: 1;
            padding: 14px 10px;
            text-align: center;
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--text-muted);
            cursor: pointer;
            transition: all 0.2s;
            border-bottom: 3px solid transparent;
            background: none;
            border-left: none;
            border-right: none;
            border-top: none;
        }

        .sidebar-tab:hover { background: rgba(255,255,255,0.03); color: var(--text-secondary); }
        .sidebar-tab.active { color: var(--accent-blue); border-bottom-color: var(--accent-blue); background: rgba(59, 130, 246, 0.08); }
        .sidebar-tab.agent-tab.active { color: var(--accent-purple); border-bottom-color: var(--accent-purple); background: rgba(139, 92, 246, 0.08); }

        .sidebar-nav { padding: 15px 0; flex: 1; overflow-y: auto; }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 20px;
            color: var(--text-secondary);
            text-decoration: none;
            border-left: 3px solid transparent;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .nav-item:hover { background: rgba(255,255,255,0.03); color: var(--text-primary); }
        .nav-item.active { background: rgba(59, 130, 246, 0.1); border-left-color: var(--accent-blue); color: var(--text-primary); }

        .nav-number {
            background: rgba(255,255,255,0.1);
            color: var(--text-secondary);
            width: 28px;
            height: 28px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.85rem;
            flex-shrink: 0;
        }

        .nav-item.active .nav-number { background: var(--accent-blue); color: white; }
        .nav-label { font-size: 0.95rem; font-weight: 500; }

        .sidebar-footer {
            padding: 20px;
            border-top: 1px solid var(--border-subtle);
            background: rgba(0,0,0,0.2);
        }

        .doc-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
            padding: 14px 20px;
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            text-decoration: none;
            font-size: 0.95rem;
        }

        .doc-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3); }

        /* Main Content */
        .main-content { margin-left: var(--sidebar-width); padding: 80px 40px 40px 40px; }

        /* Tab Panels */
        .tab-panel { display: none; }
        .tab-panel.active { display: block; }

        .header {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            padding: 35px;
            border-radius: 16px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background:
                radial-gradient(ellipse at 20% 20%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(20, 184, 166, 0.08) 0%, transparent 50%);
            pointer-events: none;
        }

        .header h1 {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 10px;
            position: relative;
            background: linear-gradient(135deg, var(--text-primary) 0%, var(--accent-blue) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header .subtitle { color: var(--text-secondary); font-size: 1.1rem; position: relative; }

        .header .meta { display: flex; gap: 15px; margin-top: 20px; flex-wrap: wrap; position: relative; }

        .header .meta-item {
            background: rgba(255,255,255,0.05);
            border: 1px solid var(--border-subtle);
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Legend */
        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            padding: 18px 22px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            margin-bottom: 25px;
        }

        .legend-item { display: flex; align-items: center; gap: 8px; font-size: 0.85rem; color: var(--text-secondary); }
        .legend-color { width: 18px; height: 18px; border-radius: 4px; }

        /* Sections */
        .section {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            margin-bottom: 25px;
            overflow: hidden;
            scroll-margin-top: 75px;
        }

        .section-header {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, rgba(59, 130, 246, 0.1) 100%);
            border-bottom: 1px solid var(--border-subtle);
            padding: 22px 25px;
            display: flex;
            align-items: center;
            gap: 18px;
        }

        .section-number {
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 1.3rem;
            flex-shrink: 0;
        }

        .section-title h2 { font-size: 1.35rem; font-weight: 700; margin-bottom: 4px; color: var(--text-primary); }
        .section-title span { font-size: 0.9rem; color: var(--text-muted); }
        .section-content { padding: 28px; }

        /* Workflow Diagrams */
        .workflow-diagram {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 28px;
            margin-bottom: 22px;
        }

        .flow-row { display: flex; align-items: center; justify-content: center; flex-wrap: wrap; gap: 12px; margin: 15px 0; }

        .flow-node {
            padding: 14px 22px;
            border-radius: 10px;
            text-align: center;
            font-size: 0.9rem;
            font-weight: 600;
            min-width: 150px;
            border: 1px solid var(--border-subtle);
        }

        .flow-node.start { background: linear-gradient(135deg, var(--accent-green) 0%, #16a34a 100%); color: white; border-radius: 25px; border: none; }
        .flow-node.action { background: linear-gradient(135deg, var(--accent-blue) 0%, #2563eb 100%); color: white; border: none; }
        .flow-node.decision { background: linear-gradient(135deg, var(--accent-amber) 0%, #d97706 100%); color: var(--bg-primary); border: none; }
        .flow-node.input { background: var(--bg-secondary); border: 2px solid var(--accent-blue); color: var(--text-primary); }
        .flow-node.output { background: linear-gradient(135deg, var(--accent-teal) 0%, #0d9488 100%); color: white; border: none; }
        .flow-node.exception { background: linear-gradient(135deg, var(--accent-rose) 0%, #dc2626 100%); color: white; border: none; }

        .flow-arrow { color: var(--accent-blue); font-size: 1.5rem; }
        .flow-arrow.down { transform: rotate(90deg); }

        .decision-branch { display: flex; gap: 40px; justify-content: center; margin: 20px 0; flex-wrap: wrap; }
        .branch { display: flex; flex-direction: column; align-items: center; gap: 10px; }

        .branch-label {
            background: var(--bg-secondary);
            border: 1px solid var(--border-subtle);
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--text-secondary);
        }

        /* Tables */
        .field-table { width: 100%; border-collapse: collapse; margin: 18px 0; }

        .field-table th {
            background: rgba(59, 130, 246, 0.15);
            color: var(--accent-blue);
            padding: 14px 18px;
            text-align: left;
            font-weight: 600;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            border-bottom: 1px solid var(--border-subtle);
        }

        .field-table td { padding: 14px 18px; border-bottom: 1px solid var(--border-subtle); color: var(--text-secondary); }
        .field-table tr:hover { background: rgba(255,255,255,0.02); }

        .badge { display: inline-block; padding: 4px 12px; border-radius: 6px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; }
        .badge.required-badge { background: rgba(244, 63, 94, 0.15); color: var(--accent-rose); }
        .badge.optional-badge { background: rgba(34, 197, 94, 0.15); color: var(--accent-green); }
        .badge.calculated-badge { background: rgba(59, 130, 246, 0.15); color: var(--accent-blue); }

        /* Info Boxes */
        .exception-box, .tip-box, .info-box {
            padding: 18px 22px;
            margin: 18px 0;
            border-radius: 0 10px 10px 0;
            border-left-width: 4px;
            border-left-style: solid;
        }

        .exception-box { background: rgba(244, 63, 94, 0.08); border-color: var(--accent-rose); border: 1px solid rgba(244, 63, 94, 0.2); border-left: 4px solid var(--accent-rose); }
        .exception-box h4 { color: var(--accent-rose); margin-bottom: 10px; font-size: 1rem; }
        .exception-box p, .exception-box li { color: var(--text-secondary); }

        .tip-box { background: rgba(34, 197, 94, 0.08); border-color: var(--accent-green); border: 1px solid rgba(34, 197, 94, 0.2); border-left: 4px solid var(--accent-green); }
        .tip-box h4 { color: var(--accent-green); margin-bottom: 10px; font-size: 1rem; }
        .tip-box p, .tip-box li { color: var(--text-secondary); }

        .info-box { background: rgba(59, 130, 246, 0.08); border-color: var(--accent-blue); border: 1px solid rgba(59, 130, 246, 0.2); border-left: 4px solid var(--accent-blue); }
        .info-box h4 { color: var(--accent-blue); margin-bottom: 10px; font-size: 1rem; }
        .info-box p, .info-box li { color: var(--text-secondary); }

        /* Decision Tree */
        .decision-tree {
            background: rgba(0,0,0,0.2);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 22px;
            margin: 22px 0;
        }

        .decision-tree h3 { color: var(--accent-blue); margin-bottom: 18px; padding-bottom: 12px; border-bottom: 1px solid var(--border-subtle); font-size: 1.1rem; }

        .tree-node { margin-left: 20px; padding: 12px; border-left: 2px solid var(--accent-teal); position: relative; color: var(--text-secondary); }
        .tree-node::before { content: ''; position: absolute; left: -2px; top: 22px; width: 15px; height: 2px; background: var(--accent-teal); }
        .tree-node.level-1 { margin-left: 0; border-left: none; }
        .tree-node.level-1::before { display: none; }

        .tree-label { background: var(--accent-amber); color: var(--bg-primary); padding: 6px 14px; border-radius: 6px; font-weight: 700; display: inline-block; margin-bottom: 6px; font-size: 0.9rem; }

        /* Summary Grid */
        .summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 18px; margin: 22px 0; }

        .summary-card { background: rgba(0,0,0,0.3); border: 1px solid var(--border-subtle); border-radius: 12px; padding: 22px; text-align: center; }
        .summary-card h4 { color: var(--text-secondary); margin-bottom: 12px; font-size: 0.9rem; }
        .summary-card .value {
            font-size: 2.2rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .summary-card .label { font-size: 0.85rem; color: var(--text-muted); margin-top: 8px; }

        /* Checklist Styles */
        .checklist-container {
            background: rgba(0,0,0,0.2);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 22px;
            margin: 18px 0;
        }

        .checklist-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 14px 0;
            border-bottom: 1px solid var(--border-subtle);
            color: var(--text-secondary);
        }

        .checklist-item:last-child { border-bottom: none; }

        .checklist-checkbox {
            width: 22px;
            height: 22px;
            border: 2px solid var(--accent-blue);
            border-radius: 4px;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .checklist-text { flex: 1; line-height: 1.6; }
        .checklist-text strong { color: var(--text-primary); }

        /* Resource Links */
        .resource-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 18px 0;
        }

        .resource-link {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 10px;
            padding: 14px 18px;
            color: var(--accent-blue);
            text-decoration: none;
            font-weight: 600;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .resource-link:hover {
            background: rgba(59, 130, 246, 0.2);
            transform: translateY(-2px);
        }

        /* Payment Options Table */
        .payment-options {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 18px 0;
        }

        .payment-option {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            padding: 18px;
            text-align: center;
        }

        .payment-option h4 {
            color: var(--accent-teal);
            font-size: 0.9rem;
            margin-bottom: 8px;
        }

        .payment-option p {
            color: var(--text-secondary);
            font-size: 0.85rem;
        }

        .or-divider {
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-muted);
            font-weight: 700;
            font-size: 0.9rem;
        }

        /* Quick Reference */
        .quick-ref {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-card) 100%);
            border: 1px solid var(--border-subtle);
            padding: 28px;
            border-radius: 16px;
            margin-top: 30px;
            font-family: 'JetBrains Mono', monospace;
            scroll-margin-top: 75px;
        }

        .quick-ref h3 { color: var(--accent-amber); margin-bottom: 18px; font-family: 'Plus Jakarta Sans', sans-serif; }
        .quick-ref pre { background: rgba(0,0,0,0.4); border: 1px solid var(--border-subtle); padding: 20px; border-radius: 10px; overflow-x: auto; font-size: 0.85rem; line-height: 1.7; color: var(--text-secondary); }

        /* ====== AGENT OPPORTUNITIES STYLES ====== */
        .agent-header {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            padding: 35px;
            border-radius: 16px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .agent-header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background:
                radial-gradient(ellipse at 20% 20%, rgba(139, 92, 246, 0.12) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(245, 158, 11, 0.1) 0%, transparent 50%);
            pointer-events: none;
        }

        .agent-header h1 {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 10px;
            position: relative;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-header .subtitle { color: var(--text-secondary); font-size: 1.1rem; position: relative; }

        /* Heat Map */
        .heat-map-container { margin-bottom: 35px; }
        .heat-map-title { font-size: 1.3rem; font-weight: 700; color: var(--text-primary); margin-bottom: 20px; display: flex; align-items: center; gap: 12px; }

        .heat-map-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .heat-item {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 20px;
            position: relative;
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
        }

        .heat-item:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .heat-item:active { transform: scale(0.98); }

        .heat-item::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; height: 4px;
        }

        .heat-item.critical::before { background: linear-gradient(90deg, #ef4444, #f97316); }
        .heat-item.high::before { background: linear-gradient(90deg, #f97316, #eab308); }
        .heat-item.medium::before { background: linear-gradient(90deg, #eab308, #22c55e); }
        .heat-item.low::before { background: linear-gradient(90deg, #22c55e, #14b8a6); }

        .heat-score {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.8rem;
            font-weight: 800;
        }

        .heat-item.critical .heat-score { color: #ef4444; }
        .heat-item.high .heat-score { color: #f97316; }
        .heat-item.medium .heat-score { color: #eab308; }
        .heat-item.low .heat-score { color: #22c55e; }

        .heat-name { font-size: 1rem; font-weight: 700; color: var(--text-primary); margin-bottom: 6px; padding-right: 50px; }
        .heat-desc { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px; }

        .heat-metrics { display: flex; gap: 15px; margin-top: 12px; }
        .heat-metric { font-size: 0.75rem; color: var(--text-muted); }
        .heat-metric span { color: var(--text-secondary); font-weight: 600; }

        /* Agent Cards */
        .agent-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)); gap: 25px; margin-bottom: 35px; }

        .agent-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .agent-card:hover { transform: translateY(-5px); box-shadow: 0 15px 50px rgba(0,0,0,0.3); }

        .agent-card.highlight {
            animation: highlightPulse 2s ease;
            box-shadow: 0 0 0 3px var(--accent-purple), 0 15px 50px rgba(139, 92, 246, 0.4);
        }

        @keyframes highlightPulse {
            0% { box-shadow: 0 0 0 3px var(--accent-purple), 0 15px 50px rgba(139, 92, 246, 0.6); }
            50% { box-shadow: 0 0 0 6px rgba(139, 92, 246, 0.5), 0 15px 50px rgba(139, 92, 246, 0.3); }
            100% { box-shadow: 0 0 0 0px transparent, 0 15px 50px rgba(0,0,0,0.3); }
        }

        .agent-card-header {
            padding: 22px;
            display: flex;
            align-items: flex-start;
            gap: 18px;
            border-bottom: 1px solid var(--border-subtle);
        }

        .agent-icon {
            width: 55px;
            height: 55px;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.6rem;
            flex-shrink: 0;
        }

        .agent-info { flex: 1; }
        .agent-name { font-size: 1.15rem; font-weight: 700; color: var(--text-primary); margin-bottom: 5px; }
        .agent-type { font-size: 0.8rem; color: var(--accent-purple); font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }

        .agent-priority {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
        }

        .agent-priority.critical { background: rgba(239, 68, 68, 0.15); color: #ef4444; }
        .agent-priority.high { background: rgba(249, 115, 22, 0.15); color: #f97316; }
        .agent-priority.medium { background: rgba(234, 179, 8, 0.15); color: #eab308; }
        .agent-priority.low { background: rgba(34, 197, 94, 0.15); color: #22c55e; }

        .agent-card-body { padding: 22px; }
        .agent-description { font-size: 0.95rem; color: var(--text-secondary); line-height: 1.6; margin-bottom: 20px; }

        .agent-flow {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            padding: 18px;
            margin-bottom: 20px;
        }

        .agent-flow-title { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }

        .agent-flow-diagram { display: flex; align-items: center; flex-wrap: wrap; gap: 8px; justify-content: center; }

        .agent-step {
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
            color: white;
            padding: 8px 14px;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 600;
            white-space: nowrap;
        }

        .agent-arrow { color: var(--accent-purple); font-size: 1.2rem; }

        .agent-stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }

        .agent-stat {
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            padding: 12px;
            text-align: center;
        }

        .agent-stat-value {
            font-size: 1.3rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-stat-label { font-size: 0.7rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.05em; margin-top: 4px; }

        /* View Prompt Button */
        .agent-prompt-btn {
            width: 100%;
            margin-top: 18px;
            padding: 14px 20px;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(59, 130, 246, 0.2) 100%);
            border: 1px solid rgba(139, 92, 246, 0.4);
            border-radius: 10px;
            color: var(--accent-purple);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-size: 0.9rem;
        }

        .agent-prompt-btn:hover {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.3) 0%, rgba(59, 130, 246, 0.3) 100%);
            border-color: var(--accent-purple);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.25);
        }

        /* Summary Stats */
        .agent-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 35px;
        }

        .agent-summary-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 14px;
            padding: 25px;
            text-align: center;
        }

        .agent-summary-value {
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-summary-label { font-size: 0.9rem; color: var(--text-muted); margin-top: 8px; }

        /* Heat Map Legend */
        .heat-legend {
            display: flex;
            gap: 25px;
            padding: 18px 22px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .heat-legend-item { display: flex; align-items: center; gap: 10px; font-size: 0.9rem; color: var(--text-secondary); }
        .heat-legend-color { width: 24px; height: 24px; border-radius: 6px; }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(10, 15, 26, 0.9);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            padding: 20px;
            backdrop-filter: blur(5px);
        }

        .modal-overlay.show { display: flex; }

        .modal {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            width: 100%;
            max-width: 950px;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
            box-shadow: 0 25px 80px rgba(0,0,0,0.5);
        }

        .modal-header {
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            padding: 22px 28px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 16px 16px 0 0;
        }

        .modal-header h3 { font-size: 1.25rem; font-weight: 700; }
        .modal-actions { display: flex; gap: 12px; }

        .modal-btn {
            padding: 10px 18px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 700;
            transition: transform 0.2s;
            font-size: 0.9rem;
        }

        .modal-btn:hover { transform: scale(1.05); }
        .modal-btn.copy { background: white; color: var(--accent-blue); }
        .modal-btn.close { background: rgba(255,255,255,0.2); color: white; }

        .modal-body { padding: 28px; overflow-y: auto; flex: 1; }

        .modal-body pre {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            padding: 22px;
            border-radius: 10px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            line-height: 1.7;
            white-space: pre-wrap;
            word-wrap: break-word;
            color: var(--text-secondary);
        }

        .copy-success {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--accent-green);
            color: white;
            padding: 18px 35px;
            border-radius: 10px;
            font-weight: 700;
            z-index: 3000;
            display: none;
            animation: fadeInOut 2s ease;
        }

        @keyframes fadeInOut { 0%, 100% { opacity: 0; } 10%, 90% { opacity: 1; } }

        /* Prompt Modal */
        .prompt-modal .modal { max-width: 800px; }
        .prompt-modal .modal-header { background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%); }

        .prompt-section { margin-bottom: 25px; }
        .prompt-section h4 { color: var(--accent-purple); font-size: 1rem; margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }

        .prompt-box {
            background: rgba(0,0,0,0.4);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            padding: 20px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            line-height: 1.7;
            color: var(--text-secondary);
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .prompt-tags { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 20px; }
        .prompt-tag { background: rgba(139, 92, 246, 0.15); color: var(--accent-purple); padding: 6px 14px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; }

        .copy-prompt-btn {
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            margin-top: 15px;
        }

        .copy-prompt-btn:hover { transform: scale(1.05); box-shadow: 0 5px 20px rgba(139, 92, 246, 0.3); }

        /* Step List */
        .step-list { list-style: none; padding: 0; margin: 18px 0; }
        .step-list li {
            padding: 14px 18px;
            border-left: 3px solid var(--accent-blue);
            background: rgba(0,0,0,0.2);
            margin-bottom: 10px;
            border-radius: 0 8px 8px 0;
            color: var(--text-secondary);
        }
        .step-list li strong { color: var(--text-primary); }

        @media (max-width: 900px) {
            .sidebar { display: none; }
            .main-content { margin-left: 0; padding: 75px 20px 30px 20px; }
            .agent-grid { grid-template-columns: 1fr; }
            .payment-options { grid-template-columns: 1fr; }
        }
        .breadcrumb-logo-link { display: inline-flex; align-items: center; padding: 4px 8px; background: rgba(255,255,255,0.08); border-radius: 8px; border: 1px solid rgba(255,255,255,0.12); transition: all 0.2s; flex-shrink: 0; margin-right: 4px; }
        .breadcrumb-logo-link:hover { background: rgba(255,255,255,0.15); }
        .breadcrumb-logo { height: 24px; width: auto; display: block; }
    </style>
</head>
<body>
    <!-- Breadcrumb -->
    <nav class="breadcrumb">
<a href="../../index.html" class="breadcrumb-logo-link"><img src="../../images/clear-ai-logo.png" alt="Clear AI" class="breadcrumb-logo"></a>
        <a href="../../index.html">Portal Home</a>
        <span class="separator">></span>
        <a href="./index.html">Mortgage Fundamentals</a>
        <span class="separator">></span>
        <span class="current">LO File Submission Form</span>
    </nav>

    <!-- Fixed Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <h2>File Submission</h2>
            <p>Checklist for Success</p>
        </div>

        <!-- Tab Switcher -->
        <div class="sidebar-tabs">
            <button class="sidebar-tab active" onclick="switchTab('workflow')">Workflow</button>
            <button class="sidebar-tab agent-tab" onclick="switchTab('agents')">AI Agents</button>
        </div>

        <!-- Workflow Navigation -->
        <nav class="sidebar-nav" id="workflow-nav">
            <a href="#section-1" class="nav-item active">
                <span class="nav-number">1</span>
                <span class="nav-label">URLA & ID Requirements</span>
            </a>
            <a href="#section-2" class="nav-item">
                <span class="nav-number">2</span>
                <span class="nav-label">Credit & History</span>
            </a>
            <a href="#section-3" class="nav-item">
                <span class="nav-number">3</span>
                <span class="nav-label">Income Verification</span>
            </a>
            <a href="#section-4" class="nav-item">
                <span class="nav-number">4</span>
                <span class="nav-label">Asset Verification</span>
            </a>
            <a href="#section-5" class="nav-item">
                <span class="nav-number">5</span>
                <span class="nav-label">Property & REO</span>
            </a>
            <a href="#section-6" class="nav-item">
                <span class="nav-number">6</span>
                <span class="nav-label">Closing Costs & AUS</span>
            </a>
            <a href="#section-7" class="nav-item">
                <span class="nav-number">7</span>
                <span class="nav-label">Disclosures & Parties</span>
            </a>
            <a href="#section-8" class="nav-item">
                <span class="nav-number">8</span>
                <span class="nav-label">Appraisal & Payment</span>
            </a>
            <a href="#section-9" class="nav-item">
                <span class="nav-number">9</span>
                <span class="nav-label">Submit to Processing</span>
            </a>
            <a href="#quick-ref" class="nav-item">
                <span class="nav-number">*</span>
                <span class="nav-label">Quick Reference</span>
            </a>
        </nav>

        <!-- Agent Navigation -->
        <nav class="sidebar-nav" id="agents-nav" style="display: none;">
            <a href="#agent-summary" class="nav-item active">
                <span class="nav-number">S</span>
                <span class="nav-label">Summary</span>
            </a>
            <a href="#agent-heatmap" class="nav-item">
                <span class="nav-number">H</span>
                <span class="nav-label">Heat Map</span>
            </a>
            <a href="#agent-details" class="nav-item">
                <span class="nav-number">A</span>
                <span class="nav-label">Agent Details</span>
            </a>
        </nav>

        <div class="sidebar-footer">
            <button class="doc-btn" onclick="openDocModal()">
                View Workflow Markdown
            </button>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">

        <!-- ==================== WORKFLOW TAB ==================== -->
        <div id="workflow-panel" class="tab-panel active">
            <!-- Header -->
            <div class="header">
                <h1>LO File Submission Form - Checklist for Success</h1>
                <p class="subtitle">Complete guide for Loan Officers and Production Assistants to ensure all required tasks are completed before submitting files to Processing</p>
                <div class="meta">
                    <span class="meta-item">System: Clear LOS</span>
                    <span class="meta-item">Role: LO / PA</span>
                    <span class="meta-item">Updated: Nov 20, 2025</span>
                    <span class="meta-item">Duration: 15-30 min per file</span>
                </div>
            </div>

            <!-- Legend -->
            <div class="legend">
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #22c55e, #16a34a);"></div><span>Start/End</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #3b82f6, #2563eb);"></div><span>Action Step</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #f59e0b, #d97706);"></div><span>Decision Point</span></div>
                <div class="legend-item"><div class="legend-color" style="background: #111827; border: 2px solid #3b82f6;"></div><span>User Input</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #f43f5e, #dc2626);"></div><span>Exception</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #14b8a6, #0d9488);"></div><span>Output</span></div>
            </div>

            <!-- Section 1: URLA & ID Requirements -->
            <section id="section-1" class="section">
                <div class="section-header">
                    <div class="section-number">1</div>
                    <div class="section-title"><h2>URLA & ID Requirements</h2><span>Ensure the application and identity documentation is complete</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node start">Start File Submission</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Review URLA</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node decision">All Sections Complete?</div>
                        </div>
                        <div class="decision-branch">
                            <div class="branch">
                                <span class="branch-label">YES</span>
                                <div class="flow-node output">Proceed to ID Verification</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">NO</span>
                                <div class="flow-node exception">Complete Missing Sections</div>
                            </div>
                        </div>
                    </div>

                    <div class="checklist-container">
                        <div class="checklist-item">
                            <div class="checklist-checkbox"></div>
                            <div class="checklist-text"><strong>Completed URLA (all sections)</strong> - Verify that all borrower information sections are fully completed in the Uniform Residential Loan Application</div>
                        </div>
                        <div class="checklist-item">
                            <div class="checklist-checkbox"></div>
                            <div class="checklist-text"><strong>Photo ID as required per the Patriot Act Documentation requirements</strong> - Government-issued photo identification must be collected and verified for all borrowers</div>
                        </div>
                    </div>

                    <div class="info-box">
                        <h4>Patriot Act Requirements</h4>
                        <p>The Patriot Act requires verification of borrower identity. Acceptable forms include valid driver's license, state ID, passport, or military ID. The ID must be unexpired and include a photograph.</p>
                    </div>

                    <div class="tip-box">
                        <h4>LO Checklist in Clear</h4>
                        <p>Access the LO Checklist directly in Clear to track your progress through all required items. This checklist mirrors the requirements outlined in this workflow.</p>
                    </div>
                </div>
            </section>

            <!-- Section 2: Credit & History -->
            <section id="section-2" class="section">
                <div class="section-header">
                    <div class="section-number">2</div>
                    <div class="section-title"><h2>Credit & Residence/Work History</h2><span>Verify credit reports and document borrower history</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Pull Credit Report</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node decision">Omitted Liabilities?</div>
                        </div>
                        <div class="decision-branch">
                            <div class="branch">
                                <span class="branch-label">YES</span>
                                <div class="flow-node input">Provide Supporting Docs</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">NO</span>
                                <div class="flow-node output">Document History</div>
                            </div>
                        </div>
                    </div>

                    <div class="checklist-container">
                        <div class="checklist-item">
                            <div class="checklist-checkbox"></div>
                            <div class="checklist-text"><strong>SoftPull | SoftCheck or unexpired Merged credit report</strong> - Obtain a current credit report. Supporting documents must be provided for any omitted liabilities.</div>
                        </div>
                        <div class="checklist-item">
                            <div class="checklist-checkbox"></div>
                            <div class="checklist-text"><strong>Two-year residence history documented (24 months)</strong> - Document complete residence history. Include Landlord Contact Information if applicable for rental properties.</div>
                        </div>
                        <div class="checklist-item">
                            <div class="checklist-checkbox"></div>
                            <div class="checklist-text"><strong>Two-year work history documented (24 months), if applicable</strong> - Include Income Calculation Form or Loanbeam uploaded with Borrower's docs when applicable.</div>
                        </div>
                    </div>

                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Document Type</th>
                                <th>Requirement</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Credit Report</strong></td>
                                <td>SoftPull, SoftCheck, or Merged Report</td>
                                <td><span class="badge required-badge">Required</span> Must be unexpired</td>
                            </tr>
                            <tr>
                                <td><strong>Omitted Liability Docs</strong></td>
                                <td>Supporting documentation</td>
                                <td><span class="badge optional-badge">If Applicable</span> For any omitted debts</td>
                            </tr>
                            <tr>
                                <td><strong>Residence History</strong></td>
                                <td>24 months documented</td>
                                <td><span class="badge required-badge">Required</span> Include landlord info</td>
                            </tr>
                            <tr>
                                <td><strong>Employment History</strong></td>
                                <td>24 months documented</td>
                                <td><span class="badge required-badge">Required</span> If applicable</td>
                            </tr>
                            <tr>
                                <td><strong>Income Calculation Form</strong></td>
                                <td>Loanbeam upload</td>
                                <td><span class="badge optional-badge">If Applicable</span> With borrower docs</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Section 3: Income Verification -->
            <section id="section-3" class="section">
                <div class="section-header">
                    <div class="section-number">3</div>
                    <div class="section-title"><h2>Income Verification</h2><span>Verify income through Truv or request documentation</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Check Truv Status</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node decision">Truv Available?</div>
                        </div>
                        <div class="decision-branch">
                            <div class="branch">
                                <span class="branch-label">YES</span>
                                <div class="flow-node output">Truv Verification in File</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">NO</span>
                                <div class="flow-node action">Request Docs per AUS</div>
                            </div>
                        </div>
                    </div>

                    <div class="checklist-container">
                        <div class="checklist-item">
                            <div class="checklist-checkbox"></div>
                            <div class="checklist-text"><strong>Verifications from Truv in the loan file for income</strong> - If Truv is unavailable, the verification of the income documents listed in AUS has been requested from the Borrower.</div>
                        </div>
                    </div>

                    <div class="info-box">
                        <h4>Truv Integration</h4>
                        <p>Truv provides instant employment and income verification. When Truv is available for the borrower's employer, use it as the primary verification method. Otherwise, manually request income documents as specified in the AUS findings.</p>
                    </div>

                    <div class="resource-grid">
                        <a href="#" class="resource-link">Income Resources</a>
                        <a href="#" class="resource-link">Truv Resources</a>
                    </div>
                </div>
            </section>

            <!-- Section 4: Asset Verification -->
            <section id="section-4" class="section">
                <div class="section-header">
                    <div class="section-number">4</div>
                    <div class="section-title"><h2>Asset Verification</h2><span>Verify assets through AccountChek or request documentation</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Check AccountChek</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node decision">AccountChek Available?</div>
                        </div>
                        <div class="decision-branch">
                            <div class="branch">
                                <span class="branch-label">YES</span>
                                <div class="flow-node output">AccountChek in File</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">NO</span>
                                <div class="flow-node action">Request Docs per AUS</div>
                            </div>
                        </div>
                    </div>

                    <div class="checklist-container">
                        <div class="checklist-item">
                            <div class="checklist-checkbox"></div>
                            <div class="checklist-text"><strong>Verifications from AccountChek in the loan file</strong> - If AccountChek is not available, the verification of asset documents listed in AUS have been requested from Borrower.</div>
                        </div>
                    </div>

                    <div class="tip-box">
                        <h4>AccountChek Best Practice</h4>
                        <p>AccountChek automates the retrieval of bank statements and asset documentation. Send the request to borrowers early in the process to ensure timely receipt of verified asset information.</p>
                    </div>

                    <div class="resource-grid">
                        <a href="#" class="resource-link">AccountChek Resources</a>
                        <a href="#" class="resource-link">Liability Resources</a>
                    </div>
                </div>
            </section>

            <!-- Section 5: Property & REO -->
            <section id="section-5" class="section">
                <div class="section-header">
                    <div class="section-number">5</div>
                    <div class="section-title"><h2>Property & REO Screen</h2><span>Complete REO information and link mortgage debts</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Open REO Screen</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Link Mortgage Debts</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node decision">Rental Income?</div>
                        </div>
                        <div class="decision-branch">
                            <div class="branch">
                                <span class="branch-label">YES</span>
                                <div class="flow-node input">Document Rental Income</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">NO</span>
                                <div class="flow-node output">REO Complete</div>
                            </div>
                        </div>
                    </div>

                    <div class="checklist-container">
                        <div class="checklist-item">
                            <div class="checklist-checkbox"></div>
                            <div class="checklist-text"><strong>REO screen completed, mortgage debts linked to properties</strong> - Ensure all Real Estate Owned properties are documented with mortgage debts properly linked. Rental income must be documented if applicable.</div>
                        </div>
                    </div>

                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>REO Field</th>
                                <th>Description</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Property Address</strong></td>
                                <td>Full address of each owned property</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Mortgage Debt Link</strong></td>
                                <td>Link to corresponding liability</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Rental Income</strong></td>
                                <td>Monthly rental income if applicable</td>
                                <td><span class="badge optional-badge">If Applicable</span></td>
                            </tr>
                            <tr>
                                <td><strong>Property Type</strong></td>
                                <td>Primary, Secondary, Investment</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Section 6: Closing Costs & AUS -->
            <section id="section-6" class="section">
                <div class="section-header">
                    <div class="section-number">6</div>
                    <div class="section-title"><h2>Closing Costs & AUS</h2><span>Review SmartFees and verify AUS findings</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Open Closing Cost Worksheet</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node decision">SmartFees Update Required?</div>
                        </div>
                        <div class="decision-branch">
                            <div class="branch">
                                <span class="branch-label">YES</span>
                                <div class="flow-node action">Re-Run SmartFees</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">NO</span>
                                <div class="flow-node output">Proceed to AUS</div>
                            </div>
                        </div>
                    </div>

                    <div class="checklist-container">
                        <div class="checklist-item">
                            <div class="checklist-checkbox"></div>
                            <div class="checklist-text"><strong>Open Closing Cost Worksheet</strong> - If there is a notification in SmartFees that an Updated Cert is required, Re-Run SmartFees. If Settlement Fees are updated due to a written itemized quote, that quote must be in Clear Docs in the Final Document Tree.</div>
                        </div>
                        <div class="checklist-item">
                            <div class="checklist-checkbox"></div>
                            <div class="checklist-text"><strong>AUS - AUS Findings in the loan (if applicable, not required for all products)</strong> - All documents listed in the Findings have been requested from the Borrower. For Government Loans only: Refer to Findings to determine whether they meet the requirements of the Manual UW Checklist.</div>
                        </div>
                        <div class="checklist-item">
                            <div class="checklist-checkbox"></div>
                            <div class="checklist-text"><strong>Property Information and AUS Ratios match from AUS to Clear/Byte</strong> - Contact SalesTraining@cmgfi.com for assistance if needed.</div>
                        </div>
                    </div>

                    <div class="exception-box">
                        <h4>Government Loans - Manual Underwriting</h4>
                        <p>For Government Loans (FHA, VA, USDA), carefully review the AUS Findings to determine if the loan meets Manual Underwriting Checklist requirements. Manual UW has additional documentation requirements.</p>
                    </div>

                    <div class="resource-grid">
                        <a href="#" class="resource-link">Closing Cost Manual</a>
                        <a href="#" class="resource-link">Manual Underwriting Checklist</a>
                    </div>
                </div>
            </section>

            <!-- Section 7: Disclosures & Parties -->
            <section id="section-7" class="section">
                <div class="section-header">
                    <div class="section-number">7</div>
                    <div class="section-title"><h2>Disclosures & Parties</h2><span>Confirm eSigned documents and add all parties</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Verify eSigned Docs</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Add Parties</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node decision">Condo/PUD?</div>
                        </div>
                        <div class="decision-branch">
                            <div class="branch">
                                <span class="branch-label">CONDO</span>
                                <div class="flow-node input">Condo Processing Screen</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">PUD</span>
                                <div class="flow-node input">HOA in Parties Screen</div>
                            </div>
                        </div>
                    </div>

                    <div class="checklist-container">
                        <div class="checklist-item">
                            <div class="checklist-checkbox"></div>
                            <div class="checklist-text"><strong>Confirmed eSigned docs are completed by all Borrowers</strong> - Need Signed LE in Clear Docs. If program requires IDS Documents, LO will get an email to sign the URLA.</div>
                        </div>
                        <div class="checklist-item">
                            <div class="checklist-checkbox"></div>
                            <div class="checklist-text"><strong>Obtain the following forms from the Borrowers and include them with the docs uploaded to Clear Docs:</strong> Letter of Explanation for anything needed (i.e., Gap in Employment, Credit Inquiries, Address discrepancies, etc.)</div>
                        </div>
                        <div class="checklist-item">
                            <div class="checklist-checkbox"></div>
                            <div class="checklist-text"><strong>Parties screen - Add in Realtor(s), Title Co., HOA, and Hazard, as applicable</strong> - Access via Action Bolt in Clear or in the Hamburger Menu.</div>
                        </div>
                        <div class="checklist-item">
                            <div class="checklist-checkbox"></div>
                            <div class="checklist-text"><strong>HOA Condo contact information added to the Condo Processing Screen</strong> - For PUDs, the Homeowners Association needs to be entered in the Parties Screen.</div>
                        </div>
                    </div>

                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Party Type</th>
                                <th>Where to Add</th>
                                <th>Required Information</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Realtor(s)</strong></td>
                                <td>Parties Screen</td>
                                <td>Name, Contact Info, License #</td>
                            </tr>
                            <tr>
                                <td><strong>Title Company</strong></td>
                                <td>Parties Screen</td>
                                <td>Company Name, Contact, Address</td>
                            </tr>
                            <tr>
                                <td><strong>HOA (Condo)</strong></td>
                                <td>Condo Processing Screen</td>
                                <td>Contact Info, Fees, Docs</td>
                            </tr>
                            <tr>
                                <td><strong>HOA (PUD)</strong></td>
                                <td>Parties Screen</td>
                                <td>Contact Info, Fees</td>
                            </tr>
                            <tr>
                                <td><strong>Hazard Insurance</strong></td>
                                <td>Parties Screen</td>
                                <td>Agent, Policy Info</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="resource-grid">
                        <a href="#" class="resource-link">Disclosure Resources</a>
                        <a href="#" class="resource-link">Clear Docs Resources</a>
                        <a href="#" class="resource-link">Parties Resources</a>
                        <a href="#" class="resource-link">Condo Resources</a>
                    </div>
                </div>
            </section>

            <!-- Section 8: Appraisal & Payment -->
            <section id="section-8" class="section">
                <div class="section-header">
                    <div class="section-number">8</div>
                    <div class="section-title"><h2>Appraisal Payment Notes</h2><span>Document appraisal payment method in Conversation Log</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Open Conversation Log</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node decision">Payment Method?</div>
                        </div>
                    </div>

                    <div class="checklist-container">
                        <div class="checklist-item">
                            <div class="checklist-checkbox"></div>
                            <div class="checklist-text"><strong>Appraisal Notes in the Conversation Log stating the payment method</strong> - Copy and paste the applicable option below into the Conversation Log.</div>
                        </div>
                    </div>

                    <h4 style="color: var(--text-primary); margin: 25px 0 15px 0;">Appraisal Payment Options (Copy & Paste)</h4>

                    <div class="payment-options">
                        <div class="payment-option">
                            <h4>Option 1</h4>
                            <p><strong>Send Payment Link to Borrower: Pay before Proceeding</strong></p>
                        </div>
                        <div class="payment-option">
                            <h4>Option 2</h4>
                            <p><strong>Invoice Borrower at Closing</strong></p>
                        </div>
                        <div class="payment-option">
                            <h4>Option 3</h4>
                            <p><strong>Send Payment Link to Borrower: Proceed without Payment</strong></p>
                        </div>
                    </div>

                    <div class="info-box">
                        <h4>Payment Method Documentation</h4>
                        <p>Documenting the appraisal payment method in the Conversation Log ensures the Processing team knows how to handle the appraisal order. This prevents delays and miscommunication about payment expectations.</p>
                    </div>
                </div>
            </section>

            <!-- Section 9: Submit to Processing -->
            <section id="section-9" class="section">
                <div class="section-header">
                    <div class="section-number">9</div>
                    <div class="section-title"><h2>Send File to Processing</h2><span>Assign processor and submit the loan file</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Assign Processor</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Write Cover Letter</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node decision">TBD/Credit Only?</div>
                        </div>
                        <div class="decision-branch">
                            <div class="branch">
                                <span class="branch-label">NO - Standard</span>
                                <div class="flow-node output">Click Submit to Processing</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">YES - TBD</span>
                                <div class="flow-node exception">Follow TBD Checklist</div>
                            </div>
                        </div>
                    </div>

                    <div class="decision-tree">
                        <h3>Standard File Submission (Clear)</h3>
                        <ul class="step-list">
                            <li><strong>Step 1:</strong> Assign the Processor (at minimum) and as applicable Production Assistant(s) and/or Jr LO to the top of the URLA</li>
                            <li><strong>Step 2:</strong> Access the Cover Letter Submission Notes (hamburger menu)</li>
                            <li><strong>Step 3:</strong> <span style="color: var(--accent-amber); font-weight: 700;">TELL THE STORY</span> in Cover Letter Submission Notes - Provide context about the borrower, loan purpose, and any special circumstances</li>
                            <li><strong>Step 4:</strong> Click <strong>Submit Loan to Processing</strong> on the top right</li>
                            <li><strong>Step 5:</strong> Status will change to <strong>File Received</strong> - The Loan is now sent to Processing</li>
                        </ul>
                    </div>

                    <div class="exception-box">
                        <h4>TBD / Credit Only Submission</h4>
                        <p><strong>Do NOT click Submit to Processing or File Received</strong> for TBD or Credit Only files. Instead, follow the TBD Checklist for manual handoff to Processing. These files require a different workflow and should not use the standard submission process.</p>
                    </div>

                    <div class="tip-box">
                        <h4>Cover Letter Best Practice - Tell the Story</h4>
                        <p>The Cover Letter Submission Notes are critical for giving Processing the context they need. Include:</p>
                        <ul style="margin-top: 10px; margin-left: 20px;">
                            <li>Loan purpose and borrower situation</li>
                            <li>Any unique circumstances or challenges</li>
                            <li>Time-sensitive information (rate locks, closing dates)</li>
                            <li>Special requests or considerations</li>
                        </ul>
                    </div>

                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Assignment</th>
                                <th>Location</th>
                                <th>Required</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Processor</strong></td>
                                <td>Top of URLA</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Production Assistant(s)</strong></td>
                                <td>Top of URLA</td>
                                <td><span class="badge optional-badge">If Applicable</span></td>
                            </tr>
                            <tr>
                                <td><strong>Jr LO</strong></td>
                                <td>Top of URLA</td>
                                <td><span class="badge optional-badge">If Applicable</span></td>
                            </tr>
                            <tr>
                                <td><strong>Cover Letter Notes</strong></td>
                                <td>Hamburger Menu</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Quick Reference -->
            <div id="quick-ref" class="quick-ref">
                <h3>LO File Submission Quick Reference</h3>
                <pre>
LO FILE SUBMISSION CHECKLIST SUMMARY
=====================================

URLA & IDENTITY
[ ] Completed URLA (all sections)
[ ] Photo ID per Patriot Act requirements

CREDIT & HISTORY
[ ] SoftPull/SoftCheck or Merged Credit Report
[ ] Supporting docs for omitted liabilities
[ ] 2-year residence history (24 months)
[ ] 2-year work history (24 months)
[ ] Income Calculation Form/Loanbeam (if applicable)

INCOME VERIFICATION
[ ] Truv verifications in file
    OR Income documents requested per AUS

ASSET VERIFICATION
[ ] AccountChek verifications in file
    OR Asset documents requested per AUS

PROPERTY & REO
[ ] REO screen completed
[ ] Mortgage debts linked to properties
[ ] Rental income documented (if applicable)

CLOSING COSTS & AUS
[ ] Closing Cost Worksheet reviewed
[ ] SmartFees re-run if notification present
[ ] Written quotes in Clear Docs Final Tree
[ ] AUS Findings in loan (if applicable)
[ ] All AUS documents requested from Borrower
[ ] Government loans: Check Manual UW Checklist
[ ] Property info/ratios match AUS to Clear/Byte

DISCLOSURES & PARTIES
[ ] eSigned docs completed by all Borrowers
[ ] Signed LE in Clear Docs
[ ] Letters of Explanation obtained
[ ] Parties Screen: Realtor, Title Co., HOA, Hazard
[ ] Condo: HOA info in Condo Processing Screen
[ ] PUD: HOA info in Parties Screen

APPRAISAL PAYMENT
[ ] Payment method noted in Conversation Log
    OPTIONS:
    - Send Payment Link: Pay before Proceeding
    - Invoice Borrower at Closing
    - Send Payment Link: Proceed without Payment

SUBMISSION
[ ] Processor assigned to URLA
[ ] PA/Jr LO assigned (if applicable)
[ ] Cover Letter Submission Notes completed
    (TELL THE STORY!)
[ ] Click "Submit Loan to Processing"
[ ] Status changes to "File Received"

TBD/CREDIT ONLY FILES
=====================
- Do NOT click Submit to Processing
- Do NOT set to File Received
- Follow TBD Checklist for manual handoff

HELPFUL RESOURCES
=================
- Income Resources
- Truv Resources
- AccountChek Resources
- Liability Resources
- Closing Cost Manual
- Manual Underwriting Checklist
- Disclosure Resources
- Clear Docs Resources
- Parties Resources
- Condo Resources

CONTACT: SalesTraining@cmgfi.com for assistance
                </pre>
            </div>
        </div>

        <!-- ==================== AI AGENTS TAB ==================== -->
        <div id="agents-panel" class="tab-panel">
            <!-- Agent Header -->
            <div class="agent-header">
                <h1>AI Agent Opportunities</h1>
                <p class="subtitle">Automation opportunities identified for the LO File Submission process</p>
            </div>

            <!-- Summary Stats -->
            <div class="agent-summary" id="agent-summary">
                <div class="agent-summary-card">
                    <div class="agent-summary-value">5</div>
                    <div class="agent-summary-label">Agent Opportunities</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">68%</div>
                    <div class="agent-summary-label">Automation Potential</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">12 min</div>
                    <div class="agent-summary-label">Est. Time Saved</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">High</div>
                    <div class="agent-summary-label">Quality Impact</div>
                </div>
            </div>

            <!-- Heat Map Legend -->
            <div class="heat-legend">
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(90deg, #ef4444, #f97316);"></div>
                    <span>Critical Priority (9-10)</span>
                </div>
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(90deg, #f97316, #eab308);"></div>
                    <span>High Priority (7-8)</span>
                </div>
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(90deg, #eab308, #22c55e);"></div>
                    <span>Medium Priority (5-6)</span>
                </div>
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(90deg, #22c55e, #14b8a6);"></div>
                    <span>Low Priority (1-4)</span>
                </div>
            </div>

            <!-- Heat Map Grid -->
            <div class="heat-map-container" id="agent-heatmap">
                <div class="heat-map-title">Priority Heat Map</div>
                <div class="heat-map-grid">
                    <div class="heat-item critical" onclick="scrollToAgent('agent-checklist')">
                        <div class="heat-score">9.4</div>
                        <div class="heat-name">Submission Validator</div>
                        <div class="heat-desc">Auto-validate all checklist items before submission</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Time: <span>5 min</span></div>
                            <div class="heat-metric">Complexity: <span>Medium</span></div>
                        </div>
                    </div>
                    <div class="heat-item high" onclick="scrollToAgent('agent-verification')">
                        <div class="heat-score">8.5</div>
                        <div class="heat-name">Verification Orchestrator</div>
                        <div class="heat-desc">Auto-trigger Truv and AccountChek requests</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Time: <span>3 min</span></div>
                            <div class="heat-metric">Complexity: <span>Medium</span></div>
                        </div>
                    </div>
                    <div class="heat-item high" onclick="scrollToAgent('agent-aus')">
                        <div class="heat-score">7.8</div>
                        <div class="heat-name">AUS Document Tracker</div>
                        <div class="heat-desc">Track AUS findings and requested documents</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Time: <span>2 min</span></div>
                            <div class="heat-metric">Complexity: <span>Low</span></div>
                        </div>
                    </div>
                    <div class="heat-item medium" onclick="scrollToAgent('agent-party')">
                        <div class="heat-score">6.2</div>
                        <div class="heat-name">Party Auto-Populate</div>
                        <div class="heat-desc">Auto-fill party information from databases</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Time: <span>1 min</span></div>
                            <div class="heat-metric">Complexity: <span>Low</span></div>
                        </div>
                    </div>
                    <div class="heat-item medium" onclick="scrollToAgent('agent-cover')">
                        <div class="heat-score">5.5</div>
                        <div class="heat-name">Cover Letter Generator</div>
                        <div class="heat-desc">AI-assisted cover letter drafting</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Time: <span>1 min</span></div>
                            <div class="heat-metric">Complexity: <span>Medium</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Agent Details -->
            <div id="agent-details">
                <h2 style="color: var(--text-primary); margin-bottom: 25px; font-size: 1.5rem;">Agent Details</h2>
                <div class="agent-grid">
                    <!-- Submission Validator Agent -->
                    <div class="agent-card" id="agent-checklist">
                        <div class="agent-card-header">
                            <div class="agent-icon">V</div>
                            <div class="agent-info">
                                <div class="agent-name">Submission Validator</div>
                                <div class="agent-type">Quality Assurance / Validation</div>
                            </div>
                            <span class="agent-priority critical">Critical</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">Automatically validates all checklist items before file submission. Scans the loan file to verify URLA completion, ID documentation, credit reports, history documentation, verifications, and all other required items. Prevents incomplete submissions and reduces processor kickbacks.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Flow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">LO Initiates</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Scan All Items</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Generate Report</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Pass/Fail</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">5 min</div>
                                    <div class="agent-stat-label">Time Saved</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">95%</div>
                                    <div class="agent-stat-label">Accuracy</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">Med</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('checklist')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>

                    <!-- Verification Orchestrator Agent -->
                    <div class="agent-card" id="agent-verification">
                        <div class="agent-card-header">
                            <div class="agent-icon">O</div>
                            <div class="agent-info">
                                <div class="agent-name">Verification Orchestrator</div>
                                <div class="agent-type">Integration / Automation</div>
                            </div>
                            <span class="agent-priority high">High</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">Automatically triggers Truv and AccountChek verification requests when a new loan is created. Monitors response status and flags when manual document requests are needed. Reduces time spent on repetitive verification tasks.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Flow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">Loan Created</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Trigger Truv</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Trigger AccountChek</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Monitor Status</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">3 min</div>
                                    <div class="agent-stat-label">Time Saved</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">92%</div>
                                    <div class="agent-stat-label">Accuracy</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">Med</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('verification')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>

                    <!-- AUS Document Tracker Agent -->
                    <div class="agent-card" id="agent-aus">
                        <div class="agent-card-header">
                            <div class="agent-icon">A</div>
                            <div class="agent-info">
                                <div class="agent-name">AUS Document Tracker</div>
                                <div class="agent-type">Document Management</div>
                            </div>
                            <span class="agent-priority high">High</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">Parses AUS findings to extract all required documents, creates a tracking checklist, and monitors document receipt status. Automatically flags missing documents and sends reminders to borrowers through the LO.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Flow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">Parse AUS</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Create Checklist</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Track Receipts</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Send Reminders</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">2 min</div>
                                    <div class="agent-stat-label">Time Saved</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">98%</div>
                                    <div class="agent-stat-label">Accuracy</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">Low</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('aus')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>

                    <!-- Party Auto-Populate Agent -->
                    <div class="agent-card" id="agent-party">
                        <div class="agent-card-header">
                            <div class="agent-icon">P</div>
                            <div class="agent-info">
                                <div class="agent-name">Party Auto-Populate</div>
                                <div class="agent-type">Data Integration</div>
                            </div>
                            <span class="agent-priority medium">Medium</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">Automatically populates party information (Realtors, Title Companies, HOAs) from internal databases and external sources. Reduces manual data entry and ensures consistency across loan files.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Flow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">Enter Name</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Search DB</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Auto-Fill</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Verify</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">1 min</div>
                                    <div class="agent-stat-label">Time Saved</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">90%</div>
                                    <div class="agent-stat-label">Accuracy</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">Low</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('party')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>

                    <!-- Cover Letter Generator Agent -->
                    <div class="agent-card" id="agent-cover">
                        <div class="agent-card-header">
                            <div class="agent-icon">C</div>
                            <div class="agent-info">
                                <div class="agent-name">Cover Letter Generator</div>
                                <div class="agent-type">AI Content Generation</div>
                            </div>
                            <span class="agent-priority medium">Medium</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">AI-assisted cover letter drafting that analyzes the loan file and generates a comprehensive cover letter draft. Includes loan purpose, borrower situation, unique circumstances, and key highlights for the processor.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Flow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">Analyze File</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Extract Key Info</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Generate Draft</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">LO Review</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">1 min</div>
                                    <div class="agent-stat-label">Time Saved</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">85%</div>
                                    <div class="agent-stat-label">Accuracy</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">Med</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('cover')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Documentation Modal -->
    <div class="modal-overlay" id="docModal">
        <div class="modal">
            <div class="modal-header">
                <h3>LO File Submission Form Documentation</h3>
                <div class="modal-actions">
                    <button class="modal-btn copy" onclick="copyToClipboard()">Copy</button>
                    <button class="modal-btn close" onclick="closeDocModal()">Close</button>
                </div>
            </div>
            <div class="modal-body">
                <pre id="docContent"># LO File Submission Form - Checklist for Success

## Overview
This checklist ensures Loan Officers and Production Assistants complete all required tasks before submitting files to Processing. Following this checklist reduces kickbacks and accelerates loan processing.

## Required Items Before Processing

### 1. URLA & Identity
- Completed URLA (all sections)
- Photo ID per Patriot Act requirements

### 2. Credit & History
- SoftPull/SoftCheck or unexpired Merged Credit Report
- Supporting docs for omitted liabilities
- 2-year residence history (24 months) with landlord contact
- 2-year work history (24 months) if applicable
- Income Calculation Form or Loanbeam

### 3. Income Verification
- Truv verifications in loan file
- OR: Income documents per AUS requested from Borrower

### 4. Asset Verification
- AccountChek verifications in loan file
- OR: Asset documents per AUS requested from Borrower

### 5. Property & REO
- REO screen completed
- Mortgage debts linked to properties
- Rental income documented if applicable

### 6. Closing Costs & AUS
- Closing Cost Worksheet reviewed
- SmartFees re-run if notification present
- AUS Findings addressed (if applicable)
- Government loans: Check Manual UW Checklist
- Property info/ratios match AUS to Clear/Byte

### 7. Disclosures & Parties
- eSigned docs completed by all Borrowers
- Signed LE in Clear Docs
- Letters of Explanation obtained
- Parties Screen populated (Realtor, Title, HOA, Hazard)
- Condo: HOA in Condo Processing Screen
- PUD: HOA in Parties Screen

### 8. Appraisal Payment
- Payment method noted in Conversation Log

### 9. Submission
- Processor assigned to URLA
- Cover Letter Submission Notes completed (TELL THE STORY!)
- Click "Submit Loan to Processing"

## TBD/Credit Only Files
- Do NOT click Submit to Processing
- Follow TBD Checklist for manual handoff

## Contact
SalesTraining@cmgfi.com for assistance</pre>
            </div>
        </div>
    </div>

    <!-- AI Prompt Modal -->
    <div class="modal-overlay prompt-modal" id="promptModal">
        <div class="modal">
            <div class="modal-header">
                <h3 id="promptModalTitle">AI Agent Build Prompt</h3>
                <div class="modal-actions">
                    <button class="modal-btn copy" onclick="copyPromptToClipboard()">Copy Prompt</button>
                    <button class="modal-btn close" onclick="closePromptModal()">Close</button>
                </div>
            </div>
            <div class="modal-body">
                <div class="prompt-tags" id="promptTags"></div>
                <div class="prompt-section">
                    <h4>Agent Purpose</h4>
                    <div class="prompt-box" id="promptPurpose"></div>
                </div>
                <div class="prompt-section">
                    <h4>Full Build Prompt</h4>
                    <div class="prompt-box" id="promptContent"></div>
                </div>
                <div class="prompt-section">
                    <h4>Integration Points</h4>
                    <div class="prompt-box" id="promptIntegration"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="copy-success" id="copySuccess">Copied to clipboard!</div>

    <script>
        // Tab switching
        function switchTab(tab) {
            document.querySelectorAll('.sidebar-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));

            if (tab === 'workflow') {
                document.querySelector('.sidebar-tab:not(.agent-tab)').classList.add('active');
                document.getElementById('workflow-panel').classList.add('active');
                document.getElementById('workflow-nav').style.display = 'block';
                document.getElementById('agents-nav').style.display = 'none';
            } else {
                document.querySelector('.sidebar-tab.agent-tab').classList.add('active');
                document.getElementById('agents-panel').classList.add('active');
                document.getElementById('workflow-nav').style.display = 'none';
                document.getElementById('agents-nav').style.display = 'block';
            }

            window.scrollTo(0, 0);
        }

        // Scroll spy with isScrolling flag and 1000ms timeout
        const sections = document.querySelectorAll('.section, .quick-ref');
        const navItems = document.querySelectorAll('#workflow-nav .nav-item');
        let isScrolling = false;
        let scrollTimeout;

        function updateActiveNav() {
            if (isScrolling) return;

            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100;
                if (window.scrollY >= sectionTop) current = section.getAttribute('id');
            });
            navItems.forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('href') === '#' + current) item.classList.add('active');
            });
        }

        // Handle nav click to temporarily disable scroll spy
        navItems.forEach(item => {
            item.addEventListener('click', function(e) {
                isScrolling = true;
                clearTimeout(scrollTimeout);

                // Remove active from all, add to clicked
                navItems.forEach(nav => nav.classList.remove('active'));
                this.classList.add('active');

                // Re-enable scroll spy after 1000ms
                scrollTimeout = setTimeout(() => {
                    isScrolling = false;
                }, 1000);
            });
        });

        window.addEventListener('scroll', updateActiveNav);

        // Modal
        function openDocModal() {
            document.getElementById('docModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closeDocModal() {
            document.getElementById('docModal').classList.remove('show');
            document.body.style.overflow = '';
        }

        async function copyToClipboard() {
            try {
                await navigator.clipboard.writeText(document.getElementById('docContent').textContent);
                const success = document.getElementById('copySuccess');
                success.style.display = 'block';
                setTimeout(() => { success.style.display = 'none'; }, 2000);
            } catch (e) { alert('Failed to copy.'); }
        }

        document.addEventListener('keydown', (e) => { if (e.key === 'Escape') { closeDocModal(); closePromptModal(); } });
        document.getElementById('docModal').addEventListener('click', (e) => { if (e.target.id === 'docModal') closeDocModal(); });

        document.addEventListener('DOMContentLoaded', () => { updateActiveNav(); });

        // Scroll to agent card and highlight
        function scrollToAgent(agentId) {
            const agentCard = document.getElementById(agentId);
            if (agentCard) {
                document.querySelectorAll('.agent-card.highlight').forEach(card => {
                    card.classList.remove('highlight');
                });

                agentCard.scrollIntoView({ behavior: 'smooth', block: 'center' });

                setTimeout(() => {
                    agentCard.classList.add('highlight');
                }, 300);

                setTimeout(() => {
                    agentCard.classList.remove('highlight');
                }, 2500);
            }
        }

        // Agent Prompt System
        const agentPrompts = {
            checklist: {
                name: 'Submission Validator Agent',
                tags: ['Quality Assurance', 'Validation', 'Medium Complexity', 'Critical Priority'],
                purpose: `This agent automatically validates all checklist items before file submission. It scans the loan file to verify URLA completion, ID documentation, credit reports, history documentation, verifications, and all other required items. Prevents incomplete submissions and significantly reduces processor kickbacks.`,
                prompt: `You are building a Quality Assurance Agent for CMG Financial's LO File Submission process.

AGENT NAME: Submission Validator
TYPE: Quality Assurance / Validation

OBJECTIVE:
Create an agent that automatically validates all required checklist items before a file can be submitted to processing.

VALIDATION CHECKLIST:
1. URLA Validation
   - All sections completed
   - No blank required fields
   - Signatures present

2. Identity Validation
   - Photo ID uploaded to Clear Docs
   - ID unexpired
   - Name matches URLA

3. Credit Validation
   - Credit report present (SoftPull/SoftCheck/Merged)
   - Report unexpired (within 120 days)
   - Omitted liability docs present if applicable

4. History Validation
   - 24-month residence history complete
   - Landlord info present for rentals
   - 24-month employment history complete
   - Income calc form present if applicable

5. Verification Validation
   - Truv OR income docs present
   - AccountChek OR asset docs present

6. REO Validation
   - All properties documented
   - Mortgage debts linked
   - Rental income documented if applicable

7. Closing Cost Validation
   - Worksheet opened/reviewed
   - SmartFees current
   - Written quotes uploaded if applicable

8. AUS Validation
   - Findings present (if required)
   - All requested docs addressed
   - Ratios match Clear/Byte

9. Disclosure Validation
   - eSigned docs complete
   - Signed LE present
   - LOEs uploaded

10. Party Validation
    - Realtor(s) entered
    - Title company entered
    - HOA entered (if applicable)
    - Hazard insurance entered

OUTPUT FORMAT:
{
  "status": "PASS" | "FAIL" | "WARNINGS",
  "score": 95,
  "checks": [
    { "item": "URLA Complete", "status": "PASS", "details": "" },
    { "item": "Photo ID", "status": "FAIL", "details": "ID expired" }
  ],
  "blockers": ["Photo ID expired"],
  "warnings": ["Truv pending - monitor status"]
}`,
                integration: `INTEGRATION POINTS:
1. Clear LOS API
   - Read URLA fields
   - Check document uploads
   - Verify party entries
   - Read AUS findings

2. Document Classification
   - Identify document types in Clear Docs
   - Verify required documents present
   - Check document dates/validity

3. User Interface
   - Pre-submission validation button
   - Detailed validation report
   - One-click fix suggestions

4. Notification System
   - Alert LO to missing items
   - Block submission if critical items missing
   - Generate fix-list email to borrower`
            },
            verification: {
                name: 'Verification Orchestrator Agent',
                tags: ['Integration', 'Automation', 'Medium Complexity', 'High Priority'],
                purpose: `This agent automatically triggers Truv and AccountChek verification requests when a new loan is created. It monitors response status and flags when manual document requests are needed, reducing time spent on repetitive verification tasks.`,
                prompt: `You are building an Integration Agent for CMG Financial's LO File Submission process.

AGENT NAME: Verification Orchestrator
TYPE: Integration / Automation

OBJECTIVE:
Automatically trigger income and asset verification requests through Truv and AccountChek when a new loan is created, monitor status, and flag when manual alternatives are needed.

TRIGGER CONDITIONS:
- New loan created in Clear
- Borrower employment information entered
- Borrower bank accounts entered (for AccountChek)

TRUV WORKFLOW:
1. Extract employer information from URLA
2. Check Truv database for employer coverage
3. If covered:
   - Send verification request
   - Monitor for completion
   - Flag response in loan file
4. If not covered:
   - Flag for manual income document request
   - Generate borrower communication template

ACCOUNTCHEK WORKFLOW:
1. Extract borrower contact information
2. Send AccountChek invitation
3. Monitor for:
   - Invitation opened
   - Accounts connected
   - Reports generated
4. If no response in 48 hours:
   - Send reminder
   - After 72 hours, flag for manual request

STATUS MONITORING:
{
  "loan_number": "2026-001234",
  "truv_status": "PENDING" | "COMPLETE" | "NOT_COVERED",
  "accountchek_status": "INVITED" | "CONNECTED" | "COMPLETE" | "MANUAL_NEEDED",
  "days_pending": 2,
  "next_action": "Send reminder" | "Request manual docs"
}

ALERTS:
- Daily digest of pending verifications
- Immediate alert when manual docs needed
- Success notification when complete`,
                integration: `INTEGRATION POINTS:
1. Truv API
   - Employer lookup
   - Verification request
   - Status polling
   - Report retrieval

2. AccountChek API
   - Invitation creation
   - Status monitoring
   - Report download
   - Reminder triggers

3. Clear LOS
   - Read borrower/employer info
   - Update verification status
   - Store reports in Clear Docs

4. Communication
   - Email templates for borrowers
   - LO notifications
   - Dashboard status display`
            },
            aus: {
                name: 'AUS Document Tracker Agent',
                tags: ['Document Management', 'Low Complexity', 'High Priority'],
                purpose: `This agent parses AUS findings to extract all required documents, creates a tracking checklist, and monitors document receipt status. Automatically flags missing documents and sends reminders to borrowers through the LO.`,
                prompt: `You are building a Document Management Agent for CMG Financial's LO File Submission process.

AGENT NAME: AUS Document Tracker
TYPE: Document Management / Tracking

OBJECTIVE:
Parse AUS findings to extract required documents, track receipt status, and automate follow-up communications for missing documents.

AUS PARSING:
1. Extract AUS findings from loan file
2. Parse document requirements:
   - Income documents
   - Asset documents
   - Property documents
   - Credit explanations
   - Special requirements

3. Create structured checklist:
{
  "loan_number": "2026-001234",
  "aus_type": "DU" | "LP" | "GUS",
  "findings_date": "2026-01-15",
  "required_documents": [
    {
      "category": "Income",
      "document": "2024 W-2",
      "status": "RECEIVED" | "PENDING" | "REQUESTED",
      "received_date": null,
      "notes": ""
    }
  ]
}

TRACKING WORKFLOW:
1. Initial parse - create checklist
2. Monitor Clear Docs for uploads
3. Auto-match uploaded docs to requirements
4. Update status when docs received
5. Generate missing doc lists

COMMUNICATION AUTOMATION:
- Day 0: Initial request email with full list
- Day 3: Reminder for pending items
- Day 7: Escalation to LO
- Day 10: Second borrower reminder

MANUAL UW FLAG:
- For Government loans
- Check if findings indicate Manual UW
- Add Manual UW Checklist items to tracker
- Alert LO to additional requirements`,
                integration: `INTEGRATION POINTS:
1. Clear LOS
   - Read AUS findings
   - Monitor Clear Docs uploads
   - Update tracking status

2. Document Classification
   - Match uploads to requirements
   - Identify document types
   - Verify completeness

3. Communication
   - Borrower email templates
   - LO notification system
   - Reminder scheduling

4. Reporting
   - Pipeline-wide missing doc report
   - Average time to complete
   - Common missing documents`
            },
            party: {
                name: 'Party Auto-Populate Agent',
                tags: ['Data Integration', 'Low Complexity', 'Medium Priority'],
                purpose: `This agent automatically populates party information (Realtors, Title Companies, HOAs) from internal databases and external sources. Reduces manual data entry and ensures consistency across loan files.`,
                prompt: `You are building a Data Integration Agent for CMG Financial's LO File Submission process.

AGENT NAME: Party Auto-Populate
TYPE: Data Integration / Auto-Fill

OBJECTIVE:
Automatically populate party information from databases when LO enters a name or partial information, reducing data entry and ensuring accuracy.

PARTY TYPES:
1. Realtors
   - Search internal realtor database
   - Query MLS/state license databases
   - Auto-fill: Name, Phone, Email, License #, Company

2. Title Companies
   - Search internal title company database
   - Match by name or address
   - Auto-fill: Company, Contact, Phone, Address, Email

3. HOA (Condo/PUD)
   - Search property address databases
   - Match to known HOA records
   - Auto-fill: HOA Name, Contact, Phone, Fees, Docs

4. Insurance Agents
   - Search internal agent database
   - Auto-fill: Agent, Company, Phone, Policy Info

SEARCH LOGIC:
1. LO enters partial name/company
2. Agent searches databases (fuzzy match)
3. Return top 5 matches with confidence scores
4. LO selects correct match
5. Auto-populate all fields

DATA SOURCES:
- Internal CMG party database
- MLS realtor lookup
- State license databases
- Property/HOA databases
- Previous loan history

OUTPUT:
{
  "search_term": "ABC Title",
  "results": [
    {
      "match_score": 0.95,
      "company": "ABC Title Company",
      "contact": "John Smith",
      "phone": "(555) 123-4567",
      "address": "123 Main St, City, ST 12345",
      "email": "john@abctitle.com"
    }
  ]
}`,
                integration: `INTEGRATION POINTS:
1. Internal Databases
   - CMG party database
   - Previous loan lookups
   - Branch-specific records

2. External APIs
   - MLS realtor search
   - State licensing boards
   - Property data providers

3. Clear LOS
   - Parties screen integration
   - Auto-fill capability
   - Validation on save

4. Data Quality
   - Flag stale records
   - Update database on new entries
   - De-duplicate records`
            },
            cover: {
                name: 'Cover Letter Generator Agent',
                tags: ['AI Content Generation', 'Medium Complexity', 'Medium Priority'],
                purpose: `AI-assisted cover letter drafting that analyzes the loan file and generates a comprehensive cover letter draft. Includes loan purpose, borrower situation, unique circumstances, and key highlights for the processor.`,
                prompt: `You are building an AI Content Generation Agent for CMG Financial's LO File Submission process.

AGENT NAME: Cover Letter Generator
TYPE: AI Content Generation

OBJECTIVE:
Analyze the loan file and generate a comprehensive cover letter draft that tells the borrower's story and highlights key information for the processor.

INPUT DATA:
- URLA information
- Loan purpose
- Property details
- Employment/income summary
- Asset summary
- Credit profile
- AUS findings
- Special circumstances

COVER LETTER SECTIONS:
1. Loan Overview
   - Loan purpose (purchase/refi/cashout)
   - Property type and address
   - Loan amount and program

2. Borrower Profile
   - Employment summary
   - Income highlights
   - Asset position
   - Credit summary

3. Unique Circumstances
   - Credit explanations needed
   - Income variances
   - Gap letters required
   - Property concerns

4. Time-Sensitive Items
   - Rate lock expiration
   - Closing date requirements
   - Contract deadlines

5. Special Requests
   - Rush processing needs
   - Investor-specific requirements
   - Complex scenarios

GENERATION PROMPT:
"Generate a professional cover letter for a loan submission that:
- Summarizes the loan scenario in 2-3 sentences
- Highlights key strengths (strong credit, high assets, stable employment)
- Notes any concerns or explanations needed
- Lists time-sensitive deadlines
- Uses professional mortgage industry language
- Keeps total length under 300 words"

OUTPUT FORMAT:
{
  "draft": "Full cover letter text...",
  "highlights": ["Strong credit at 780", "20% down payment"],
  "concerns": ["2-month employment gap in 2024"],
  "deadlines": ["Rate lock expires 02/15/2026"]
}`,
                integration: `INTEGRATION POINTS:
1. Clear LOS Data
   - Read all loan fields
   - Extract key metrics
   - Identify special conditions

2. AI/LLM Integration
   - Claude API for generation
   - Prompt engineering
   - Quality validation

3. User Interface
   - One-click generation
   - Edit/customize capability
   - Insert into Clear

4. Templates
   - Program-specific templates
   - Common scenario templates
   - LO customization options`
            }
        };

        // Show agent prompt modal
        let currentPromptContent = '';

        function showAgentPrompt(agentKey) {
            const agent = agentPrompts[agentKey];
            if (!agent) return;

            document.getElementById('promptModalTitle').textContent = agent.name + ' - Build Prompt';

            const tagsHtml = agent.tags.map(tag => '<span class="prompt-tag">' + tag + '</span>').join('');
            document.getElementById('promptTags').innerHTML = tagsHtml;

            document.getElementById('promptPurpose').textContent = agent.purpose;
            document.getElementById('promptContent').textContent = agent.prompt;
            document.getElementById('promptIntegration').textContent = agent.integration;

            currentPromptContent = '# ' + agent.name + '\n\n## Purpose\n' + agent.purpose + '\n\n## Build Prompt\n' + agent.prompt + '\n\n## Integration Points\n' + agent.integration;

            document.getElementById('promptModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closePromptModal() {
            document.getElementById('promptModal').classList.remove('show');
            document.body.style.overflow = '';
        }

        async function copyPromptToClipboard() {
            try {
                await navigator.clipboard.writeText(currentPromptContent);
                const success = document.getElementById('copySuccess');
                success.style.display = 'block';
                setTimeout(() => { success.style.display = 'none'; }, 2000);
            } catch (e) {
                alert('Failed to copy prompt.');
            }
        }

        document.getElementById('promptModal').addEventListener('click', (e) => {
            if (e.target.id === 'promptModal') closePromptModal();
        });
    </script>
</body>
</html>
