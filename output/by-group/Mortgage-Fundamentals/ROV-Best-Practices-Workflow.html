<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reconsideration of Value Best Practices - Process Workflow</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0f1a;
            --bg-secondary: #111827;
            --bg-card: #1a2234;
            --accent-blue: #3b82f6;
            --accent-teal: #14b8a6;
            --accent-amber: #f59e0b;
            --accent-rose: #f43f5e;
            --accent-green: #22c55e;
            --accent-purple: #8b5cf6;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --border-subtle: rgba(255,255,255,0.08);
            --sidebar-width: 280px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
        }

        /* Breadcrumb */
        .breadcrumb {
            background: linear-gradient(90deg, #0d1525 0%, #1a2234 100%);
            padding: 14px 25px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 0.95rem;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1001;
            border-bottom: 1px solid var(--border-subtle);
        }

        .breadcrumb a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 600;
            padding: 8px 16px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
            transition: all 0.2s;
            border: 1px solid var(--border-subtle);
        }

        .breadcrumb a:hover {
            background: rgba(59, 130, 246, 0.15);
            color: var(--accent-blue);
            border-color: rgba(59, 130, 246, 0.3);
        }

        .breadcrumb .separator { color: var(--text-muted); font-size: 1.2rem; }
        .breadcrumb .current { color: var(--accent-amber); font-weight: 600; padding: 8px 16px; }

        /* Sidebar */
        .sidebar {
            position: fixed;
            top: 54px;
            left: 0;
            width: var(--sidebar-width);
            height: calc(100vh - 54px);
            background: var(--bg-secondary);
            overflow-y: auto;
            z-index: 1000;
            border-right: 1px solid var(--border-subtle);
            display: flex;
            flex-direction: column;
        }

        .sidebar-header {
            padding: 25px 20px;
            background: rgba(0,0,0,0.3);
            border-bottom: 1px solid var(--border-subtle);
        }

        .sidebar-header h2 { color: var(--text-primary); font-size: 1.2rem; font-weight: 700; margin-bottom: 5px; }
        .sidebar-header p { color: var(--text-muted); font-size: 0.85rem; }

        /* Tab Switch */
        .sidebar-tabs {
            display: flex;
            border-bottom: 1px solid var(--border-subtle);
        }

        .sidebar-tab {
            flex: 1;
            padding: 14px 10px;
            text-align: center;
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--text-muted);
            cursor: pointer;
            transition: all 0.2s;
            border-bottom: 3px solid transparent;
            background: none;
            border-left: none;
            border-right: none;
            border-top: none;
        }

        .sidebar-tab:hover { background: rgba(255,255,255,0.03); color: var(--text-secondary); }
        .sidebar-tab.active { color: var(--accent-blue); border-bottom-color: var(--accent-blue); background: rgba(59, 130, 246, 0.08); }
        .sidebar-tab.agent-tab.active { color: var(--accent-purple); border-bottom-color: var(--accent-purple); background: rgba(139, 92, 246, 0.08); }

        .sidebar-nav { padding: 15px 0; flex: 1; overflow-y: auto; }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 20px;
            color: var(--text-secondary);
            text-decoration: none;
            border-left: 3px solid transparent;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .nav-item:hover { background: rgba(255,255,255,0.03); color: var(--text-primary); }
        .nav-item.active { background: rgba(59, 130, 246, 0.1); border-left-color: var(--accent-blue); color: var(--text-primary); }

        .nav-number {
            background: rgba(255,255,255,0.1);
            color: var(--text-secondary);
            width: 28px;
            height: 28px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.85rem;
            flex-shrink: 0;
        }

        .nav-item.active .nav-number { background: var(--accent-blue); color: white; }
        .nav-label { font-size: 0.95rem; font-weight: 500; }

        .sidebar-footer {
            padding: 20px;
            border-top: 1px solid var(--border-subtle);
            background: rgba(0,0,0,0.2);
        }

        .doc-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
            padding: 14px 20px;
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            text-decoration: none;
            font-size: 0.95rem;
        }

        .doc-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3); }

        /* Main Content */
        .main-content { margin-left: var(--sidebar-width); padding: 80px 40px 40px 40px; }

        /* Tab Panels */
        .tab-panel { display: none; }
        .tab-panel.active { display: block; }

        .header {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            padding: 35px;
            border-radius: 16px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background:
                radial-gradient(ellipse at 20% 20%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(20, 184, 166, 0.08) 0%, transparent 50%);
            pointer-events: none;
        }

        .header h1 {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 10px;
            position: relative;
            background: linear-gradient(135deg, var(--text-primary) 0%, var(--accent-blue) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header .subtitle { color: var(--text-secondary); font-size: 1.1rem; position: relative; }

        .header .meta { display: flex; gap: 15px; margin-top: 20px; flex-wrap: wrap; position: relative; }

        .header .meta-item {
            background: rgba(255,255,255,0.05);
            border: 1px solid var(--border-subtle);
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Legend */
        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            padding: 18px 22px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            margin-bottom: 25px;
        }

        .legend-item { display: flex; align-items: center; gap: 8px; font-size: 0.85rem; color: var(--text-secondary); }
        .legend-color { width: 18px; height: 18px; border-radius: 4px; }

        /* Sections */
        .section {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            margin-bottom: 25px;
            overflow: hidden;
            scroll-margin-top: 75px;
        }

        .section-header {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, rgba(59, 130, 246, 0.1) 100%);
            border-bottom: 1px solid var(--border-subtle);
            padding: 22px 25px;
            display: flex;
            align-items: center;
            gap: 18px;
        }

        .section-number {
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 1.3rem;
            flex-shrink: 0;
        }

        .section-title h2 { font-size: 1.35rem; font-weight: 700; margin-bottom: 4px; color: var(--text-primary); }
        .section-title span { font-size: 0.9rem; color: var(--text-muted); }
        .section-content { padding: 28px; }

        /* Workflow Diagrams */
        .workflow-diagram {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 28px;
            margin-bottom: 22px;
        }

        .flow-row { display: flex; align-items: center; justify-content: center; flex-wrap: wrap; gap: 12px; margin: 15px 0; }

        .flow-node {
            padding: 14px 22px;
            border-radius: 10px;
            text-align: center;
            font-size: 0.9rem;
            font-weight: 600;
            min-width: 150px;
            border: 1px solid var(--border-subtle);
        }

        .flow-node.start { background: linear-gradient(135deg, var(--accent-green) 0%, #16a34a 100%); color: white; border-radius: 25px; border: none; }
        .flow-node.action { background: linear-gradient(135deg, var(--accent-blue) 0%, #2563eb 100%); color: white; border: none; }
        .flow-node.decision { background: linear-gradient(135deg, var(--accent-amber) 0%, #d97706 100%); color: var(--bg-primary); border: none; }
        .flow-node.input { background: var(--bg-secondary); border: 2px solid var(--accent-blue); color: var(--text-primary); }
        .flow-node.output { background: linear-gradient(135deg, var(--accent-teal) 0%, #0d9488 100%); color: white; border: none; }
        .flow-node.exception { background: linear-gradient(135deg, var(--accent-rose) 0%, #dc2626 100%); color: white; border: none; }

        .flow-arrow { color: var(--accent-blue); font-size: 1.5rem; }
        .flow-arrow.down { transform: rotate(90deg); }

        .decision-branch { display: flex; gap: 40px; justify-content: center; margin: 20px 0; flex-wrap: wrap; }
        .branch { display: flex; flex-direction: column; align-items: center; gap: 10px; }

        .branch-label {
            background: var(--bg-secondary);
            border: 1px solid var(--border-subtle);
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--text-secondary);
        }

        /* Tables */
        .field-table { width: 100%; border-collapse: collapse; margin: 18px 0; }

        .field-table th {
            background: rgba(59, 130, 246, 0.15);
            color: var(--accent-blue);
            padding: 14px 18px;
            text-align: left;
            font-weight: 600;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            border-bottom: 1px solid var(--border-subtle);
        }

        .field-table td { padding: 14px 18px; border-bottom: 1px solid var(--border-subtle); color: var(--text-secondary); }
        .field-table tr:hover { background: rgba(255,255,255,0.02); }

        .badge { display: inline-block; padding: 4px 12px; border-radius: 6px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; }
        .badge.required-badge { background: rgba(244, 63, 94, 0.15); color: var(--accent-rose); }
        .badge.optional-badge { background: rgba(34, 197, 94, 0.15); color: var(--accent-green); }
        .badge.calculated-badge { background: rgba(59, 130, 246, 0.15); color: var(--accent-blue); }

        /* Info Boxes */
        .exception-box, .tip-box, .info-box {
            padding: 18px 22px;
            margin: 18px 0;
            border-radius: 0 10px 10px 0;
            border-left-width: 4px;
            border-left-style: solid;
        }

        .exception-box { background: rgba(244, 63, 94, 0.08); border-color: var(--accent-rose); border: 1px solid rgba(244, 63, 94, 0.2); border-left: 4px solid var(--accent-rose); }
        .exception-box h4 { color: var(--accent-rose); margin-bottom: 10px; font-size: 1rem; }
        .exception-box p, .exception-box li { color: var(--text-secondary); }

        .tip-box { background: rgba(34, 197, 94, 0.08); border-color: var(--accent-green); border: 1px solid rgba(34, 197, 94, 0.2); border-left: 4px solid var(--accent-green); }
        .tip-box h4 { color: var(--accent-green); margin-bottom: 10px; font-size: 1rem; }
        .tip-box p, .tip-box li { color: var(--text-secondary); }

        .info-box { background: rgba(59, 130, 246, 0.08); border-color: var(--accent-blue); border: 1px solid rgba(59, 130, 246, 0.2); border-left: 4px solid var(--accent-blue); }
        .info-box h4 { color: var(--accent-blue); margin-bottom: 10px; font-size: 1rem; }
        .info-box p, .info-box li { color: var(--text-secondary); }

        /* Decision Tree */
        .decision-tree {
            background: rgba(0,0,0,0.2);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 22px;
            margin: 22px 0;
        }

        .decision-tree h3 { color: var(--accent-blue); margin-bottom: 18px; padding-bottom: 12px; border-bottom: 1px solid var(--border-subtle); font-size: 1.1rem; }

        .tree-node { margin-left: 20px; padding: 12px; border-left: 2px solid var(--accent-teal); position: relative; color: var(--text-secondary); }
        .tree-node::before { content: ''; position: absolute; left: -2px; top: 22px; width: 15px; height: 2px; background: var(--accent-teal); }
        .tree-node.level-1 { margin-left: 0; border-left: none; }
        .tree-node.level-1::before { display: none; }

        .tree-label { background: var(--accent-amber); color: var(--bg-primary); padding: 6px 14px; border-radius: 6px; font-weight: 700; display: inline-block; margin-bottom: 6px; font-size: 0.9rem; }

        /* Summary Grid */
        .summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 18px; margin: 22px 0; }

        .summary-card { background: rgba(0,0,0,0.3); border: 1px solid var(--border-subtle); border-radius: 12px; padding: 22px; text-align: center; }
        .summary-card h4 { color: var(--text-secondary); margin-bottom: 12px; font-size: 0.9rem; }
        .summary-card .value {
            font-size: 2.2rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .summary-card .label { font-size: 0.85rem; color: var(--text-muted); margin-top: 8px; }

        /* Quick Reference */
        .quick-ref {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-card) 100%);
            border: 1px solid var(--border-subtle);
            padding: 28px;
            border-radius: 16px;
            margin-top: 30px;
            font-family: 'JetBrains Mono', monospace;
            scroll-margin-top: 75px;
        }

        .quick-ref h3 { color: var(--accent-amber); margin-bottom: 18px; font-family: 'Plus Jakarta Sans', sans-serif; }
        .quick-ref pre { background: rgba(0,0,0,0.4); border: 1px solid var(--border-subtle); padding: 20px; border-radius: 10px; overflow-x: auto; font-size: 0.85rem; line-height: 1.7; color: var(--text-secondary); }

        /* Step List */
        .step-list { list-style: none; padding: 0; margin: 18px 0; }
        .step-list li {
            padding: 14px 18px;
            border-left: 3px solid var(--accent-blue);
            background: rgba(0,0,0,0.2);
            margin-bottom: 10px;
            border-radius: 0 8px 8px 0;
            color: var(--text-secondary);
        }
        .step-list li strong { color: var(--text-primary); }

        /* ====== AGENT OPPORTUNITIES STYLES ====== */
        .agent-header {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            padding: 35px;
            border-radius: 16px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .agent-header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background:
                radial-gradient(ellipse at 20% 20%, rgba(139, 92, 246, 0.12) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(245, 158, 11, 0.1) 0%, transparent 50%);
            pointer-events: none;
        }

        .agent-header h1 {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 10px;
            position: relative;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-header .subtitle { color: var(--text-secondary); font-size: 1.1rem; position: relative; }

        /* Heat Map */
        .heat-map-container { margin-bottom: 35px; }
        .heat-map-title { font-size: 1.3rem; font-weight: 700; color: var(--text-primary); margin-bottom: 20px; display: flex; align-items: center; gap: 12px; }

        .heat-map-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .heat-item {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 20px;
            position: relative;
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
        }

        .heat-item:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .heat-item:active { transform: scale(0.98); }

        .heat-item::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; height: 4px;
        }

        .heat-item.critical::before { background: linear-gradient(90deg, #ef4444, #f97316); }
        .heat-item.high::before { background: linear-gradient(90deg, #f97316, #eab308); }
        .heat-item.medium::before { background: linear-gradient(90deg, #eab308, #22c55e); }
        .heat-item.low::before { background: linear-gradient(90deg, #22c55e, #14b8a6); }

        .heat-score {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.8rem;
            font-weight: 800;
        }

        .heat-item.critical .heat-score { color: #ef4444; }
        .heat-item.high .heat-score { color: #f97316; }
        .heat-item.medium .heat-score { color: #eab308; }
        .heat-item.low .heat-score { color: #22c55e; }

        .heat-name { font-size: 1rem; font-weight: 700; color: var(--text-primary); margin-bottom: 6px; padding-right: 50px; }
        .heat-desc { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px; }

        .heat-metrics { display: flex; gap: 15px; margin-top: 12px; }
        .heat-metric { font-size: 0.75rem; color: var(--text-muted); }
        .heat-metric span { color: var(--text-secondary); font-weight: 600; }

        /* Agent Cards */
        .agent-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)); gap: 25px; margin-bottom: 35px; }

        .agent-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .agent-card:hover { transform: translateY(-5px); box-shadow: 0 15px 50px rgba(0,0,0,0.3); }

        .agent-card.highlight {
            animation: highlightPulse 2s ease;
            box-shadow: 0 0 0 3px var(--accent-purple), 0 15px 50px rgba(139, 92, 246, 0.4);
        }

        @keyframes highlightPulse {
            0% { box-shadow: 0 0 0 3px var(--accent-purple), 0 15px 50px rgba(139, 92, 246, 0.6); }
            50% { box-shadow: 0 0 0 6px rgba(139, 92, 246, 0.5), 0 15px 50px rgba(139, 92, 246, 0.3); }
            100% { box-shadow: 0 0 0 0px transparent, 0 15px 50px rgba(0,0,0,0.3); }
        }

        .agent-card-header {
            padding: 22px;
            display: flex;
            align-items: flex-start;
            gap: 18px;
            border-bottom: 1px solid var(--border-subtle);
        }

        .agent-icon {
            width: 55px;
            height: 55px;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.6rem;
            flex-shrink: 0;
        }

        .agent-info { flex: 1; }
        .agent-name { font-size: 1.15rem; font-weight: 700; color: var(--text-primary); margin-bottom: 5px; }
        .agent-type { font-size: 0.8rem; color: var(--accent-purple); font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }

        .agent-priority {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
        }

        .agent-priority.critical { background: rgba(239, 68, 68, 0.15); color: #ef4444; }
        .agent-priority.high { background: rgba(249, 115, 22, 0.15); color: #f97316; }
        .agent-priority.medium { background: rgba(234, 179, 8, 0.15); color: #eab308; }
        .agent-priority.low { background: rgba(34, 197, 94, 0.15); color: #22c55e; }

        .agent-card-body { padding: 22px; }
        .agent-description { font-size: 0.95rem; color: var(--text-secondary); line-height: 1.6; margin-bottom: 20px; }

        .agent-flow {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            padding: 18px;
            margin-bottom: 20px;
        }

        .agent-flow-title { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }

        .agent-flow-diagram { display: flex; align-items: center; flex-wrap: wrap; gap: 8px; justify-content: center; }

        .agent-step {
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
            color: white;
            padding: 8px 14px;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 600;
            white-space: nowrap;
        }

        .agent-arrow { color: var(--accent-purple); font-size: 1.2rem; }

        .agent-stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }

        .agent-stat {
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            padding: 12px;
            text-align: center;
        }

        .agent-stat-value {
            font-size: 1.3rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-stat-label { font-size: 0.7rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.05em; margin-top: 4px; }

        /* View Prompt Button */
        .agent-prompt-btn {
            width: 100%;
            margin-top: 18px;
            padding: 14px 20px;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(59, 130, 246, 0.2) 100%);
            border: 1px solid rgba(139, 92, 246, 0.4);
            border-radius: 10px;
            color: var(--accent-purple);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-size: 0.9rem;
        }

        .agent-prompt-btn:hover {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.3) 0%, rgba(59, 130, 246, 0.3) 100%);
            border-color: var(--accent-purple);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.25);
        }

        /* Summary Stats */
        .agent-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 35px;
        }

        .agent-summary-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 14px;
            padding: 25px;
            text-align: center;
        }

        .agent-summary-value {
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-summary-label { font-size: 0.9rem; color: var(--text-muted); margin-top: 8px; }

        /* Heat Map Legend */
        .heat-legend {
            display: flex;
            gap: 25px;
            padding: 18px 22px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .heat-legend-item { display: flex; align-items: center; gap: 10px; font-size: 0.9rem; color: var(--text-secondary); }
        .heat-legend-color { width: 24px; height: 24px; border-radius: 6px; }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(10, 15, 26, 0.9);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            padding: 20px;
            backdrop-filter: blur(5px);
        }

        .modal-overlay.show { display: flex; }

        .modal {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            width: 100%;
            max-width: 950px;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
            box-shadow: 0 25px 80px rgba(0,0,0,0.5);
        }

        .modal-header {
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            padding: 22px 28px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 16px 16px 0 0;
        }

        .modal-header h3 { font-size: 1.25rem; font-weight: 700; }
        .modal-actions { display: flex; gap: 12px; }

        .modal-btn {
            padding: 10px 18px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 700;
            transition: transform 0.2s;
            font-size: 0.9rem;
        }

        .modal-btn:hover { transform: scale(1.05); }
        .modal-btn.copy { background: white; color: var(--accent-blue); }
        .modal-btn.close { background: rgba(255,255,255,0.2); color: white; }

        .modal-body { padding: 28px; overflow-y: auto; flex: 1; }

        .modal-body pre {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            padding: 22px;
            border-radius: 10px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            line-height: 1.7;
            white-space: pre-wrap;
            word-wrap: break-word;
            color: var(--text-secondary);
        }

        .copy-success {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--accent-green);
            color: white;
            padding: 18px 35px;
            border-radius: 10px;
            font-weight: 700;
            z-index: 3000;
            display: none;
            animation: fadeInOut 2s ease;
        }

        @keyframes fadeInOut { 0%, 100% { opacity: 0; } 10%, 90% { opacity: 1; } }

        /* Prompt Modal */
        .prompt-modal .modal { max-width: 800px; }
        .prompt-modal .modal-header { background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%); }

        .prompt-section { margin-bottom: 25px; }
        .prompt-section h4 { color: var(--accent-purple); font-size: 1rem; margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }

        .prompt-box {
            background: rgba(0,0,0,0.4);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            padding: 20px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            line-height: 1.7;
            color: var(--text-secondary);
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .prompt-tags { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 20px; }
        .prompt-tag { background: rgba(139, 92, 246, 0.15); color: var(--accent-purple); padding: 6px 14px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; }

        .copy-prompt-btn {
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            margin-top: 15px;
        }

        .copy-prompt-btn:hover { transform: scale(1.05); box-shadow: 0 5px 20px rgba(139, 92, 246, 0.3); }

        @media (max-width: 900px) {
            .sidebar { display: none; }
            .main-content { margin-left: 0; padding: 75px 20px 30px 20px; }
            .agent-grid { grid-template-columns: 1fr; }
        }
        .breadcrumb-logo-link { display: inline-flex; align-items: center; padding: 4px 8px; background: rgba(255,255,255,0.08); border-radius: 8px; border: 1px solid rgba(255,255,255,0.12); transition: all 0.2s; flex-shrink: 0; margin-right: 4px; }
        .breadcrumb-logo-link:hover { background: rgba(255,255,255,0.15); }
        .breadcrumb-logo { height: 24px; width: auto; display: block; }
    </style>
</head>
<body>
    <!-- Breadcrumb -->
    <nav class="breadcrumb">
<a href="../../index.html" class="breadcrumb-logo-link"><img src="../../images/clear-ai-logo.png" alt="Clear AI" class="breadcrumb-logo"></a>
        <a href="../../index.html">Home</a>
        <span class="separator">></span>
        <a href="./index.html">Mortgage Fundamentals</a>
        <span class="separator">></span>
        <span class="current">ROV Best Practices</span>
    </nav>

    <!-- Fixed Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <h2>ROV Best Practices</h2>
            <p>Interactive Workflow Guide</p>
        </div>

        <!-- Tab Switcher -->
        <div class="sidebar-tabs">
            <button class="sidebar-tab active" onclick="switchTab('workflow')">Workflow</button>
            <button class="sidebar-tab agent-tab" onclick="switchTab('agents')">AI Agents</button>
        </div>

        <!-- Workflow Navigation -->
        <nav class="sidebar-nav" id="workflow-nav">
            <a href="#section-1" class="nav-item active">
                <span class="nav-number">1</span>
                <span class="nav-label">Before You Begin</span>
            </a>
            <a href="#section-2" class="nav-item">
                <span class="nav-number">2</span>
                <span class="nav-label">ROV Request Form</span>
            </a>
            <a href="#section-3" class="nav-item">
                <span class="nav-number">3</span>
                <span class="nav-label">Comparable Sales</span>
            </a>
            <a href="#section-4" class="nav-item">
                <span class="nav-number">4</span>
                <span class="nav-label">Uploading to BYTE</span>
            </a>
            <a href="#quick-ref" class="nav-item">
                <span class="nav-number">*</span>
                <span class="nav-label">Quick Reference</span>
            </a>
        </nav>

        <!-- Agent Navigation -->
        <nav class="sidebar-nav" id="agents-nav" style="display: none;">
            <a href="#agent-summary" class="nav-item active">
                <span class="nav-number">S</span>
                <span class="nav-label">Summary</span>
            </a>
            <a href="#agent-heatmap" class="nav-item">
                <span class="nav-number">H</span>
                <span class="nav-label">Heat Map</span>
            </a>
            <a href="#agent-details" class="nav-item">
                <span class="nav-number">A</span>
                <span class="nav-label">Agent Details</span>
            </a>
        </nav>

        <div class="sidebar-footer">
            <button class="doc-btn" onclick="openDocModal()">
                View Workflow Markdown
            </button>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">

        <!-- ==================== WORKFLOW TAB ==================== -->
        <div id="workflow-panel" class="tab-panel active">
            <!-- Header -->
            <div class="header">
                <h1>Reconsideration of Value Best Practices</h1>
                <p class="subtitle">Complete guide for submitting ROV requests with comparable sales and proper documentation</p>
                <div class="meta">
                    <span class="meta-item">System: Byte LOS</span>
                    <span class="meta-item">Role: Processor / LO</span>
                    <span class="meta-item">Updated: Oct 30, 2024</span>
                    <span class="meta-item">Submission Limit: ONE per loan</span>
                </div>
            </div>

            <!-- Legend -->
            <div class="legend">
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #22c55e, #16a34a);"></div><span>Start/End</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #3b82f6, #2563eb);"></div><span>Action Step</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #f59e0b, #d97706);"></div><span>Decision Point</span></div>
                <div class="legend-item"><div class="legend-color" style="background: #111827; border: 2px solid #3b82f6;"></div><span>User Input</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #f43f5e, #dc2626);"></div><span>Exception</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #14b8a6, #0d9488);"></div><span>Output</span></div>
            </div>

            <!-- Section 1: Before You Begin -->
            <section id="section-1" class="section">
                <div class="section-header">
                    <div class="section-number">1</div>
                    <div class="section-title"><h2>Before You Begin</h2><span>Critical information before submitting any ROV request</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node start">Start ROV Process</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node decision">First ROV Attempt?</div>
                        </div>
                        <div class="decision-branch">
                            <div class="branch">
                                <span class="branch-label">YES</span>
                                <div class="flow-node action">Proceed to Review</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">NO</span>
                                <div class="flow-node exception">STOP - Not Allowed</div>
                            </div>
                        </div>
                    </div>

                    <div class="exception-box">
                        <h4>CRITICAL: One Submission Only</h4>
                        <p><strong>ONLY ONE RECONSIDERATION OF VALUE SUBMISSION IS ALLOWED.</strong> Review the entire process thoroughly before submitting. There are no second chances - make it count!</p>
                    </div>

                    <div class="tip-box">
                        <h4>Best Practice</h4>
                        <p>Before initiating an ROV, gather all comparable sales, verify they meet all criteria, and ensure the ROV Request Form is complete. This is your only opportunity to challenge the appraisal value.</p>
                    </div>
                </div>
            </section>

            <!-- Section 2: ROV Request Form -->
            <section id="section-2" class="section">
                <div class="section-header">
                    <div class="section-number">2</div>
                    <div class="section-title"><h2>ROV Request Form</h2><span>Complete and document the Reconsideration of Value request form</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Complete ROV Form</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node decision">Borrower Initiated?</div>
                        </div>
                        <div class="decision-branch">
                            <div class="branch">
                                <span class="branch-label">YES</span>
                                <div class="flow-node decision">All Sections Complete?</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">NO</span>
                                <div class="flow-node action">Complete All Sections</div>
                            </div>
                        </div>
                        <div class="flow-row" style="margin-top: 20px;">
                            <div class="flow-node action">Review for Accuracy</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Label in Stored Docs</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Submit to Appraisal Review</div>
                        </div>
                    </div>

                    <div class="decision-tree">
                        <h3>DO: Required Actions</h3>
                        <ul class="step-list">
                            <li><strong>Complete all applicable sections</strong> of the ROV request form</li>
                            <li><strong>For borrower-initiated ROVs:</strong> Confirm all sections are completed. If not, send back to borrower to complete the form</li>
                            <li><strong>Label ROV Request Form &amp; all related documentation</strong> in Stored Documents with proper categorization</li>
                        </ul>
                    </div>

                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Value</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Type</strong></td>
                                <td>Appraisal Review Request</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Category</strong></td>
                                <td>PROP</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Description</strong></td>
                                <td>ROV Comparable / ROV Request Form / Etc.</td>
                                <td>Be specific and descriptive</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="exception-box">
                        <h4>DO NOT: Common Mistakes to Avoid</h4>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li>Send the form to appraisal review without completing a document review for accuracy and completeness</li>
                            <li>Forget that the ROV form is required on ALL ROVs</li>
                            <li>Place the ROV Form in Miscellaneous - the Collateral UW reviews from Property Folder</li>
                            <li>Add unsupported data, commentary, or opinions - only factual and verifiable data will be reviewed</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Section 3: Comparable Sales -->
            <section id="section-3" class="section">
                <div class="section-header">
                    <div class="section-number">3</div>
                    <div class="section-title"><h2>Comparable Sales</h2><span>Select and validate comparable sales for the ROV submission</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Gather Comparable Sales</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node decision">Max 5 Sales?</div>
                        </div>
                        <div class="decision-branch">
                            <div class="branch">
                                <span class="branch-label">YES</span>
                                <div class="flow-node action">Validate Each Sale</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">NO</span>
                                <div class="flow-node exception">Reduce to 5 or Less</div>
                            </div>
                        </div>
                        <div class="flow-row" style="margin-top: 20px;">
                            <div class="flow-node decision">All Criteria Met?</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Include in ROV</div>
                        </div>
                    </div>

                    <div class="decision-tree">
                        <h3>DO: Comparable Sales Checklist</h3>
                        <ul class="step-list">
                            <li><strong>Maximum 5 closed sales only</strong> - We cannot accept any more than 5 closed sales</li>
                            <li><strong>Confirm sales are NOT in existing appraisal</strong> - All sales provided must not already be used</li>
                            <li><strong>Verify closed PRIOR to appraisal effective date</strong> - Sales must have closed before the existing appraisal's effective date</li>
                            <li><strong>Confirm all sales are CLOSED</strong> - Not pending or existing listings</li>
                            <li><strong>Provide brief explanation</strong> - Explain why these sales are superior to those already in the report</li>
                            <li><strong>Proximity to subject</strong> - The closer and more similar, the more likely to be considered acceptable</li>
                            <li><strong>Similar characteristics</strong> - GLA, room/bedroom/bathroom count, age, condition, quality of construction, style (do not have to be identical)</li>
                        </ul>
                    </div>

                    <div class="info-box">
                        <h4>Subdivision / Condo / PUD Sales</h4>
                        <p>If you live in a subdivision, condominium project, or PUD, recent sales in your development of similar homes are the most persuasive comparable sales for an ROV submission.</p>
                    </div>

                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Criteria</th>
                                <th>Requirement</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Sale Status</strong></td>
                                <td>CLOSED sales only</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Sale Date</strong></td>
                                <td>Prior to appraisal effective date</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Not In Appraisal</strong></td>
                                <td>Must not already be used in report</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Maximum Age</strong></td>
                                <td>Within 12 months of effective date</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Compatibility</strong></td>
                                <td>Similar design, location, condition, features</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="exception-box">
                        <h4>DO NOT: Invalid Comparable Sales</h4>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li>Send over more than 5 closed sales</li>
                            <li>Send pending or active listings</li>
                            <li>Send sales that closed AFTER the effective date of the appraisal</li>
                            <li>Send sales that are not compatible with the subject in design, location, condition, and features</li>
                            <li>Send comparables that closed more than 12 months from effective date</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Section 4: Uploading Documents to BYTE -->
            <section id="section-4" class="section">
                <div class="section-header">
                    <div class="section-number">4</div>
                    <div class="section-title"><h2>Uploading Documents to BYTE</h2><span>Properly categorize and upload all ROV documentation</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Upload All Docs First</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Set Type & Category</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Add Description</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Enter ROV Request</div>
                        </div>
                    </div>

                    <div class="decision-tree">
                        <h3>DO: Document Upload Requirements</h3>
                        <ul class="step-list">
                            <li><strong>Upload ALL documentation PRIOR to entering the ROV request in BYTE</strong> - If documents are not uploaded first, the request will not be reviewed</li>
                            <li><strong>ROV Form and all supporting documents:</strong> Upload in the "PROP" section</li>
                            <li><strong>Set TYPE:</strong> Appraisal Review Request</li>
                            <li><strong>Set DESCRIPTION:</strong> Should indicate ROV Form</li>
                            <li><strong>MLS Sheets NOT needed:</strong> Only MLS Listing Info via the submitted ROV Form</li>
                        </ul>
                    </div>

                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Document Field</th>
                                <th>Value</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Section</strong></td>
                                <td>PROP</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Type</strong></td>
                                <td>Appraisal Review Request</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Description</strong></td>
                                <td>ROV Form / ROV Comparable</td>
                                <td>Be descriptive</td>
                            </tr>
                            <tr>
                                <td><strong>MLS Sheets</strong></td>
                                <td>Not Required</td>
                                <td><span class="badge optional-badge">Not Needed</span></td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="exception-box">
                        <h4>DO NOT: Upload Errors</h4>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li>Upload any documents in Miscellaneous</li>
                            <li>Forget to upload the ROV Request Form - This is required on ALL ROVs</li>
                            <li>Enter the ROV request before uploading all documentation</li>
                        </ul>
                    </div>

                    <div class="tip-box">
                        <h4>Review Before Submission</h4>
                        <p>Remember: You only get ONE chance at an ROV submission. Double-check all documents are uploaded, properly categorized, and that your comparable sales meet all criteria before entering the ROV request in BYTE.</p>
                    </div>
                </div>
            </section>

            <!-- Quick Reference -->
            <div id="quick-ref" class="quick-ref">
                <h3>ROV Quick Reference</h3>
                <pre>
RECONSIDERATION OF VALUE - QUICK REFERENCE GUIDE
=================================================

CRITICAL RULE: ONLY ONE ROV SUBMISSION ALLOWED PER LOAN

ROV REQUEST FORM REQUIREMENTS
=============================
[ ] Complete ALL applicable sections
[ ] For borrower-initiated: Verify all sections complete
[ ] Review for accuracy BEFORE submitting
[ ] Type: Appraisal Review Request
[ ] Category: PROP
[ ] Description: ROV Form / ROV Comparable

DO NOT:
- Place in Miscellaneous folder
- Add unsupported data/opinions
- Skip document review

COMPARABLE SALES CHECKLIST
==========================
[ ] Maximum 5 closed sales
[ ] All sales CLOSED (not pending/active)
[ ] Closed PRIOR to appraisal effective date
[ ] Not already in existing appraisal
[ ] Within 12 months of effective date
[ ] Compatible: design, location, condition, features
[ ] Explanation of why superior to current comps
[ ] Proximate to subject property

MOST PERSUASIVE COMPARABLES:
- Same subdivision/condo/PUD
- Similar GLA, rooms, age, condition
- Closest proximity to subject

BYTE UPLOAD REQUIREMENTS
========================
[ ] Upload ALL docs BEFORE entering ROV request
[ ] Section: PROP
[ ] Type: Appraisal Review Request
[ ] Description: Indicates ROV Form
[ ] MLS Sheets: NOT needed (use ROV Form info)

DO NOT:
- Upload to Miscellaneous
- Forget ROV Request Form
- Enter request before docs uploaded

SUBMISSION PROCESS
==================
1. Gather comparable sales (max 5)
2. Validate all criteria met
3. Complete ROV Request Form
4. Upload ALL documentation to PROP
5. Label as Appraisal Review Request
6. Enter ROV request in BYTE
7. Submit to Appraisal Review Department

REMEMBER: ONE SHOT - MAKE IT COUNT!
                </pre>
            </div>
        </div>

        <!-- ==================== AI AGENTS TAB ==================== -->
        <div id="agents-panel" class="tab-panel">
            <!-- Agent Header -->
            <div class="agent-header">
                <h1>AI Agent Opportunities</h1>
                <p class="subtitle">Automation opportunities identified for the ROV process</p>
            </div>

            <!-- Summary Stats -->
            <div class="agent-summary" id="agent-summary">
                <div class="agent-summary-card">
                    <div class="agent-summary-value">4</div>
                    <div class="agent-summary-label">Agent Opportunities</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">65%</div>
                    <div class="agent-summary-label">Automation Potential</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">15 min</div>
                    <div class="agent-summary-label">Est. Time Saved</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">High</div>
                    <div class="agent-summary-label">Value Recovery Impact</div>
                </div>
            </div>

            <!-- Heat Map Legend -->
            <div class="heat-legend">
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(90deg, #ef4444, #f97316);"></div>
                    <span>Critical Priority (9-10)</span>
                </div>
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(90deg, #f97316, #eab308);"></div>
                    <span>High Priority (7-8)</span>
                </div>
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(90deg, #eab308, #22c55e);"></div>
                    <span>Medium Priority (5-6)</span>
                </div>
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(90deg, #22c55e, #14b8a6);"></div>
                    <span>Low Priority (1-4)</span>
                </div>
            </div>

            <!-- Heat Map Grid -->
            <div class="heat-map-container" id="agent-heatmap">
                <div class="heat-map-title">Priority Heat Map</div>
                <div class="heat-map-grid">
                    <div class="heat-item critical" onclick="scrollToAgent('agent-compfinder')">
                        <div class="heat-score">9.4</div>
                        <div class="heat-name">Comp Finder Agent</div>
                        <div class="heat-desc">Auto-search MLS for qualifying comparable sales</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Time: <span>10 min</span></div>
                            <div class="heat-metric">Complexity: <span>High</span></div>
                        </div>
                    </div>
                    <div class="heat-item high" onclick="scrollToAgent('agent-validator')">
                        <div class="heat-score">8.2</div>
                        <div class="heat-name">ROV Validator Agent</div>
                        <div class="heat-desc">Validate comparables against all criteria</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Time: <span>3 min</span></div>
                            <div class="heat-metric">Complexity: <span>Medium</span></div>
                        </div>
                    </div>
                    <div class="heat-item high" onclick="scrollToAgent('agent-formfiller')">
                        <div class="heat-score">7.6</div>
                        <div class="heat-name">Form Filler Agent</div>
                        <div class="heat-desc">Auto-populate ROV request form fields</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Time: <span>2 min</span></div>
                            <div class="heat-metric">Complexity: <span>Low</span></div>
                        </div>
                    </div>
                    <div class="heat-item medium" onclick="scrollToAgent('agent-docorganizer')">
                        <div class="heat-score">6.1</div>
                        <div class="heat-name">Doc Organizer Agent</div>
                        <div class="heat-desc">Auto-categorize and upload ROV documents</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Time: <span>2 min</span></div>
                            <div class="heat-metric">Complexity: <span>Low</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Agent Details -->
            <div id="agent-details">
                <h2 style="color: var(--text-primary); margin-bottom: 25px; font-size: 1.5rem;">Agent Details</h2>
                <div class="agent-grid">
                    <!-- Comp Finder Agent -->
                    <div class="agent-card" id="agent-compfinder">
                        <div class="agent-card-header">
                            <div class="agent-icon">C</div>
                            <div class="agent-info">
                                <div class="agent-name">Comp Finder Agent</div>
                                <div class="agent-type">Data Mining / MLS Integration</div>
                            </div>
                            <span class="agent-priority critical">Critical</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">Automatically searches MLS databases for qualifying comparable sales based on subject property characteristics, appraisal effective date, and proximity requirements. Filters results against ROV criteria and ranks by persuasiveness.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Flow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">Subject Property</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">MLS Search</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Filter Criteria</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Rank Comps</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">10 min</div>
                                    <div class="agent-stat-label">Time Saved</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">92%</div>
                                    <div class="agent-stat-label">Accuracy</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">High</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('compfinder')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>

                    <!-- ROV Validator Agent -->
                    <div class="agent-card" id="agent-validator">
                        <div class="agent-card-header">
                            <div class="agent-icon">V</div>
                            <div class="agent-info">
                                <div class="agent-name">ROV Validator Agent</div>
                                <div class="agent-type">Data Validation / Rules Engine</div>
                            </div>
                            <span class="agent-priority high">High</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">Validates proposed comparable sales against all ROV criteria including sale date, appraisal date, existing appraisal comps, 12-month window, and compatibility factors. Provides pass/fail with specific failure reasons.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Flow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">Input Comps</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Check Criteria</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Validate</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Report Issues</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">3 min</div>
                                    <div class="agent-stat-label">Time Saved</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">99%</div>
                                    <div class="agent-stat-label">Accuracy</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">Med</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('validator')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>

                    <!-- Form Filler Agent -->
                    <div class="agent-card" id="agent-formfiller">
                        <div class="agent-card-header">
                            <div class="agent-icon">F</div>
                            <div class="agent-info">
                                <div class="agent-name">Form Filler Agent</div>
                                <div class="agent-type">Document Automation</div>
                            </div>
                            <span class="agent-priority high">High</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">Auto-populates the ROV Request Form with subject property details, comparable sale information, and generates the required explanation of why submitted comparables are superior to those in the appraisal.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Flow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">Gather Data</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Generate Text</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Fill Form</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Review Output</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">2 min</div>
                                    <div class="agent-stat-label">Time Saved</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">95%</div>
                                    <div class="agent-stat-label">Accuracy</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">Low</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('formfiller')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>

                    <!-- Doc Organizer Agent -->
                    <div class="agent-card" id="agent-docorganizer">
                        <div class="agent-card-header">
                            <div class="agent-icon">D</div>
                            <div class="agent-info">
                                <div class="agent-name">Doc Organizer Agent</div>
                                <div class="agent-type">Document Management</div>
                            </div>
                            <span class="agent-priority medium">Medium</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">Automatically categorizes ROV-related documents, sets proper Type (Appraisal Review Request), Category (PROP), and Description fields. Validates all required documents are present before ROV submission.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Flow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">Identify Docs</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Set Metadata</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Upload PROP</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Verify Complete</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">2 min</div>
                                    <div class="agent-stat-label">Time Saved</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">98%</div>
                                    <div class="agent-stat-label">Accuracy</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">Low</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('docorganizer')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Documentation Modal -->
    <div class="modal-overlay" id="docModal">
        <div class="modal">
            <div class="modal-header">
                <h3>ROV Best Practices Documentation</h3>
                <div class="modal-actions">
                    <button class="modal-btn copy" onclick="copyToClipboard()">Copy</button>
                    <button class="modal-btn close" onclick="closeDocModal()">Close</button>
                </div>
            </div>
            <div class="modal-body">
                <pre id="docContent"># Reconsideration of Value (ROV) Best Practices

## Overview
ONLY ONE RECONSIDERATION OF VALUE SUBMISSION IS ALLOWED per loan. Review the entire process thoroughly before submitting.

## ROV Request Form

### DO:
- Complete all applicable sections of the ROV request form
- For borrower-initiated ROVs, confirm all sections are completed
- Label ROV Request Form & all documentation in Stored Documents
  - Type: Appraisal Review Request
  - Category: PROP
  - Description: ROV Comparable / ROV Request Form

### DO NOT:
- Send form without completing document review
- Forget that form is required on ALL ROVs
- Place ROV Form in Miscellaneous
- Add unsupported data, commentary, or opinions

## Comparable Sales Requirements

### DO:
- Provide up to 5 closed sales only (max 5)
- Confirm sales not already in existing appraisal
- Confirm sales closed PRIOR to appraisal effective date
- Confirm all sales are CLOSED (not pending/active)
- Provide explanation why sales are superior
- Select proximate comparables
- Match similar characteristics (GLA, rooms, age, condition, quality)

### DO NOT:
- Send more than 5 closed sales
- Send pending or active listings
- Send sales closed AFTER appraisal effective date
- Send incompatible sales
- Send comparables closed more than 12 months from effective date

## Uploading to BYTE

### DO:
- Upload ALL documentation PRIOR to entering ROV request
- Upload in "PROP" section
- Label TYPE as "Appraisal Review Request"
- DESCRIPTION should indicate ROV Form
- MLS Sheets NOT needed

### DO NOT:
- Upload documents in Miscellaneous
- Forget to upload ROV Request Form</pre>
            </div>
        </div>
    </div>

    <!-- AI Prompt Modal -->
    <div class="modal-overlay prompt-modal" id="promptModal">
        <div class="modal">
            <div class="modal-header">
                <h3 id="promptModalTitle">AI Agent Build Prompt</h3>
                <div class="modal-actions">
                    <button class="modal-btn copy" onclick="copyPromptToClipboard()">Copy Prompt</button>
                    <button class="modal-btn close" onclick="closePromptModal()">Close</button>
                </div>
            </div>
            <div class="modal-body">
                <div class="prompt-tags" id="promptTags"></div>
                <div class="prompt-section">
                    <h4>Agent Purpose</h4>
                    <div class="prompt-box" id="promptPurpose"></div>
                </div>
                <div class="prompt-section">
                    <h4>Full Build Prompt</h4>
                    <div class="prompt-box" id="promptContent"></div>
                </div>
                <div class="prompt-section">
                    <h4>Integration Points</h4>
                    <div class="prompt-box" id="promptIntegration"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="copy-success" id="copySuccess">Copied to clipboard!</div>

    <script>
        // Tab switching
        function switchTab(tab) {
            document.querySelectorAll('.sidebar-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));

            if (tab === 'workflow') {
                document.querySelector('.sidebar-tab:not(.agent-tab)').classList.add('active');
                document.getElementById('workflow-panel').classList.add('active');
                document.getElementById('workflow-nav').style.display = 'block';
                document.getElementById('agents-nav').style.display = 'none';
            } else {
                document.querySelector('.sidebar-tab.agent-tab').classList.add('active');
                document.getElementById('agents-panel').classList.add('active');
                document.getElementById('workflow-nav').style.display = 'none';
                document.getElementById('agents-nav').style.display = 'block';
            }

            window.scrollTo(0, 0);
        }

        // Scroll spy with isScrolling flag and 1000ms timeout
        const sections = document.querySelectorAll('.section, .quick-ref');
        const navItems = document.querySelectorAll('#workflow-nav .nav-item');
        let isScrolling = false;
        let scrollTimeout;

        function updateActiveNav() {
            if (isScrolling) return;

            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100;
                if (window.scrollY >= sectionTop) current = section.getAttribute('id');
            });
            navItems.forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('href') === '#' + current) item.classList.add('active');
            });
        }

        // Handle nav click to temporarily disable scroll spy
        navItems.forEach(item => {
            item.addEventListener('click', function(e) {
                isScrolling = true;
                clearTimeout(scrollTimeout);

                // Remove active from all, add to clicked
                navItems.forEach(nav => nav.classList.remove('active'));
                this.classList.add('active');

                // Re-enable scroll spy after 1000ms
                scrollTimeout = setTimeout(() => {
                    isScrolling = false;
                }, 1000);
            });
        });

        window.addEventListener('scroll', updateActiveNav);

        // Modal
        function openDocModal() {
            document.getElementById('docModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closeDocModal() {
            document.getElementById('docModal').classList.remove('show');
            document.body.style.overflow = '';
        }

        async function copyToClipboard() {
            try {
                await navigator.clipboard.writeText(document.getElementById('docContent').textContent);
                const success = document.getElementById('copySuccess');
                success.style.display = 'block';
                setTimeout(() => { success.style.display = 'none'; }, 2000);
            } catch (e) { alert('Failed to copy.'); }
        }

        document.addEventListener('keydown', (e) => { if (e.key === 'Escape') { closeDocModal(); closePromptModal(); } });
        document.getElementById('docModal').addEventListener('click', (e) => { if (e.target.id === 'docModal') closeDocModal(); });

        document.addEventListener('DOMContentLoaded', () => { updateActiveNav(); });

        // Scroll to agent card and highlight
        function scrollToAgent(agentId) {
            const agentCard = document.getElementById(agentId);
            if (agentCard) {
                document.querySelectorAll('.agent-card.highlight').forEach(card => {
                    card.classList.remove('highlight');
                });

                agentCard.scrollIntoView({ behavior: 'smooth', block: 'center' });

                setTimeout(() => {
                    agentCard.classList.add('highlight');
                }, 300);

                setTimeout(() => {
                    agentCard.classList.remove('highlight');
                }, 2500);
            }
        }

        // Agent Prompt System
        const agentPrompts = {
            compfinder: {
                name: 'Comp Finder Agent',
                tags: ['Data Mining', 'MLS Integration', 'High Complexity', 'Critical Priority'],
                purpose: `This agent automatically searches MLS databases for qualifying comparable sales based on subject property characteristics, appraisal effective date, and proximity requirements. It filters results against all ROV criteria and ranks comparables by persuasiveness, prioritizing same-subdivision sales.`,
                prompt: `You are building a Data Mining Agent for CMG Financial's ROV process.

AGENT NAME: Comp Finder Agent
TYPE: Data Mining / MLS Integration

OBJECTIVE:
Automatically search MLS databases to find the best qualifying comparable sales for a Reconsideration of Value submission, filtering against all ROV criteria.

INPUT DATA:
- Subject Property Address
- Subject Property Characteristics (GLA, beds, baths, age, condition)
- Appraisal Effective Date
- Existing Appraisal Comparables (to exclude)
- Subdivision/HOA Name (if applicable)

SEARCH CRITERIA:
1. Sale Status: CLOSED only
2. Sale Date: PRIOR to appraisal effective date
3. Sale Date: Within 12 months of effective date
4. Proximity: Within X miles (configurable, default 1 mile)
5. GLA: Within 20% of subject
6. Bedrooms: +/- 1 of subject
7. Bathrooms: +/- 1 of subject
8. Year Built: Within 10 years of subject
9. Property Type: Same as subject
10. NOT in existing appraisal comparables list

RANKING ALGORITHM:
Score each comp on weighted factors:
- Same Subdivision: +50 points
- Distance (closer = better): 0-30 points
- GLA Match: 0-20 points
- Age Match: 0-15 points
- Sale Recency: 0-10 points

OUTPUT:
{
  "comparables": [
    {
      "address": "123 Main St",
      "sale_price": 450000,
      "sale_date": "2024-08-15",
      "gla": 2100,
      "beds": 4,
      "baths": 2.5,
      "year_built": 2015,
      "distance_miles": 0.3,
      "persuasiveness_score": 87,
      "mls_number": "MLS123456"
    }
  ],
  "total_found": 12,
  "returned": 5
}`,
                integration: `INTEGRATION POINTS:
1. MLS Data Sources
   - Regional MLS API access
   - RETS/RESO Web API
   - Refresh data daily

2. Property Data
   - Subject property from Byte
   - Existing appraisal comparables for exclusion
   - Subdivision/HOA mapping

3. Geocoding
   - Address to lat/long conversion
   - Distance calculation (Haversine)
   - Radius search optimization

4. Output
   - Return top 5 ranked comparables
   - Include all supporting data
   - Flag same-subdivision matches`
            },
            validator: {
                name: 'ROV Validator Agent',
                tags: ['Data Validation', 'Rules Engine', 'Medium Complexity', 'High Priority'],
                purpose: `This agent validates proposed comparable sales against all ROV criteria including sale date, appraisal effective date, existing appraisal comps, 12-month window, and compatibility factors. It provides a pass/fail verdict with specific failure reasons for each comparable.`,
                prompt: `You are building a Data Validation Agent for CMG Financial's ROV process.

AGENT NAME: ROV Validator Agent
TYPE: Data Validation / Rules Engine

OBJECTIVE:
Validate each proposed comparable sale against all ROV submission criteria and provide detailed pass/fail results with specific failure reasons.

INPUT DATA:
- Proposed Comparable Sales (up to 5)
- Appraisal Effective Date
- Existing Appraisal Comparables
- Subject Property Characteristics

VALIDATION RULES:

RULE 1: Maximum Count
- Check: comparables.length <= 5
- Failure: "Cannot submit more than 5 comparables"

RULE 2: Sale Status
- Check: sale_status === "CLOSED"
- Failure: "Sale must be closed, not pending or active"

RULE 3: Sale Date vs Effective Date
- Check: sale_date < appraisal_effective_date
- Failure: "Sale closed after appraisal effective date"

RULE 4: 12-Month Window
- Check: sale_date >= effective_date - 12 months
- Failure: "Sale closed more than 12 months before effective date"

RULE 5: Not In Appraisal
- Check: address NOT IN existing_comps
- Failure: "Comparable already used in existing appraisal"

RULE 6: Property Compatibility
- Check: similar_property_type AND similar_characteristics
- Warning: "Significant differences in [feature] may reduce persuasiveness"

OUTPUT:
{
  "overall_status": "PASS" | "FAIL" | "WARNINGS",
  "valid_count": 4,
  "results": [
    {
      "address": "123 Main St",
      "status": "PASS",
      "rules_checked": 6,
      "rules_passed": 6,
      "failures": [],
      "warnings": ["GLA differs by 18%"]
    }
  ]
}`,
                integration: `INTEGRATION POINTS:
1. Appraisal Data
   - Extract effective date from appraisal
   - Parse existing comparable addresses
   - Subject property characteristics

2. MLS Verification
   - Confirm sale status is CLOSED
   - Verify sale date accuracy
   - Pull property characteristics

3. Rules Engine
   - Configurable rule thresholds
   - Hard fail vs warning rules
   - Investor-specific variations

4. Reporting
   - Detailed validation report
   - Specific failure reasons
   - Recommendations for fixes`
            },
            formfiller: {
                name: 'Form Filler Agent',
                tags: ['Document Automation', 'NLG', 'Low Complexity', 'High Priority'],
                purpose: `This agent auto-populates the ROV Request Form with subject property details, comparable sale information, and generates professional narrative explanations of why the submitted comparables are superior to those in the existing appraisal.`,
                prompt: `You are building a Document Automation Agent for CMG Financial's ROV process.

AGENT NAME: Form Filler Agent
TYPE: Document Automation / Natural Language Generation

OBJECTIVE:
Auto-populate the ROV Request Form with all required information and generate compelling narrative explanations for why submitted comparables are superior.

INPUT DATA:
- Subject Property Details
- Selected Comparable Sales (validated)
- Existing Appraisal Comparables
- Appraisal Effective Date
- Borrower Information (if borrower-initiated)

FORM FIELDS TO POPULATE:

Section 1: Subject Property
- Address
- Property Type
- GLA
- Bedrooms/Bathrooms
- Year Built
- Current Appraised Value

Section 2: Comparable Sales (up to 5)
- Address
- Sale Price
- Sale Date
- GLA
- Beds/Baths
- Distance from Subject
- Key Features

Section 3: Explanation (AI Generated)
Generate narrative explaining:
- Why these comps are more similar to subject
- Why they support higher value
- Specific advantages over existing appraisal comps

NARRATIVE TEMPLATE:
"The submitted comparable sales are superior to those used in the appraisal because [reasons]. Specifically:

1. [Comp 1 Address] closed at $[price] on [date] and is located [distance] from the subject. This comparable is more similar because [specific reasons - same subdivision, closer in GLA, newer, etc.].

2. [Continue for each comp]

These sales demonstrate that the subject property's market value should be reconsidered based on more comparable recent closed sales in the immediate market area."

OUTPUT:
{
  "form_data": { ... populated fields ... },
  "narrative": "Generated explanation text",
  "pdf_path": "/docs/ROV_Form_Completed.pdf"
}`,
                integration: `INTEGRATION POINTS:
1. Form Template
   - ROV Request Form PDF template
   - Field mapping configuration
   - PDF form filling library

2. Data Sources
   - Byte loan data
   - Validated comparable data
   - Existing appraisal extraction

3. NLG Engine
   - Template-based generation
   - Fact-based comparisons
   - Professional tone

4. Output
   - Completed PDF form
   - Editable draft for review
   - Auto-save to staging area`
            },
            docorganizer: {
                name: 'Doc Organizer Agent',
                tags: ['Document Management', 'Automation', 'Low Complexity', 'Medium Priority'],
                purpose: `This agent automatically categorizes ROV-related documents, sets the proper Type (Appraisal Review Request), Category (PROP), and Description fields, and validates that all required documents are present before allowing ROV submission.`,
                prompt: `You are building a Document Management Agent for CMG Financial's ROV process.

AGENT NAME: Doc Organizer Agent
TYPE: Document Management / Automation

OBJECTIVE:
Automatically categorize and upload ROV documents with correct metadata, and validate completeness before submission.

DOCUMENT CLASSIFICATION:

Document Type Detection:
1. ROV Request Form -> Description: "ROV Request Form"
2. MLS Listing Sheet -> Description: "ROV Comparable - [Address]"
3. Property Photos -> Description: "ROV Comparable Photos"
4. Market Analysis -> Description: "ROV Market Analysis"
5. Supporting Narrative -> Description: "ROV Justification"

REQUIRED METADATA:
- Section: PROP (always)
- Type: Appraisal Review Request (always)
- Category: PROP (always)
- Description: Per classification above
- Status: Reviewed (after validation)

VALIDATION CHECKLIST:
[ ] ROV Request Form present
[ ] At least 1 comparable documented
[ ] Maximum 5 comparables
[ ] No documents in Miscellaneous
[ ] All documents in PROP section

UPLOAD SEQUENCE:
1. Identify all ROV-related documents in staging
2. Classify each document
3. Set metadata fields
4. Upload to Stored Documents (PROP section)
5. Validate completeness
6. Flag any missing required documents

OUTPUT:
{
  "documents_processed": 6,
  "documents_uploaded": 6,
  "validation_status": "COMPLETE",
  "missing_documents": [],
  "warnings": [],
  "ready_for_submission": true
}`,
                integration: `INTEGRATION POINTS:
1. Document Classification
   - OCR for form identification
   - Filename pattern matching
   - Content analysis

2. Byte Integration
   - Stored Documents API
   - Metadata field mapping
   - Section/Type/Category values

3. Validation Engine
   - Required document checklist
   - Duplicate detection
   - Completeness verification

4. User Interface
   - Upload status dashboard
   - Missing document alerts
   - One-click correction`
            }
        };

        // Show agent prompt modal
        let currentPromptContent = '';

        function showAgentPrompt(agentKey) {
            const agent = agentPrompts[agentKey];
            if (!agent) return;

            document.getElementById('promptModalTitle').textContent = agent.name + ' - Build Prompt';

            const tagsHtml = agent.tags.map(tag => '<span class="prompt-tag">' + tag + '</span>').join('');
            document.getElementById('promptTags').innerHTML = tagsHtml;

            document.getElementById('promptPurpose').textContent = agent.purpose;
            document.getElementById('promptContent').textContent = agent.prompt;
            document.getElementById('promptIntegration').textContent = agent.integration;

            currentPromptContent = '# ' + agent.name + '\n\n## Purpose\n' + agent.purpose + '\n\n## Build Prompt\n' + agent.prompt + '\n\n## Integration Points\n' + agent.integration;

            document.getElementById('promptModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closePromptModal() {
            document.getElementById('promptModal').classList.remove('show');
            document.body.style.overflow = '';
        }

        async function copyPromptToClipboard() {
            try {
                await navigator.clipboard.writeText(currentPromptContent);
                const success = document.getElementById('copySuccess');
                success.style.display = 'block';
                setTimeout(() => { success.style.display = 'none'; }, 2000);
            } catch (e) {
                alert('Failed to copy prompt.');
            }
        }

        document.getElementById('promptModal').addEventListener('click', (e) => {
            if (e.target.id === 'promptModal') closePromptModal();
        });
    </script>
</body>
</html>
