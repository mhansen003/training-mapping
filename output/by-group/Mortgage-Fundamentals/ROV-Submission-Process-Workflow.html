<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ROV Submission Process - Process Workflow</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0f1a;
            --bg-secondary: #111827;
            --bg-card: #1a2234;
            --accent-blue: #3b82f6;
            --accent-teal: #14b8a6;
            --accent-amber: #f59e0b;
            --accent-rose: #f43f5e;
            --accent-green: #22c55e;
            --accent-purple: #8b5cf6;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --border-subtle: rgba(255,255,255,0.08);
            --sidebar-width: 280px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
        }

        /* Breadcrumb */
        .breadcrumb {
            background: linear-gradient(90deg, #0d1525 0%, #1a2234 100%);
            padding: 14px 25px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 0.95rem;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1001;
            border-bottom: 1px solid var(--border-subtle);
        }

        .breadcrumb a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 600;
            padding: 8px 16px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
            transition: all 0.2s;
            border: 1px solid var(--border-subtle);
        }

        .breadcrumb a:hover {
            background: rgba(59, 130, 246, 0.15);
            color: var(--accent-blue);
            border-color: rgba(59, 130, 246, 0.3);
        }

        .breadcrumb .separator { color: var(--text-muted); font-size: 1.2rem; }
        .breadcrumb .current { color: var(--accent-amber); font-weight: 600; padding: 8px 16px; }

        /* Sidebar */
        .sidebar {
            position: fixed;
            top: 54px;
            left: 0;
            width: var(--sidebar-width);
            height: calc(100vh - 54px);
            background: var(--bg-secondary);
            overflow-y: auto;
            z-index: 1000;
            border-right: 1px solid var(--border-subtle);
            display: flex;
            flex-direction: column;
        }

        .sidebar-header {
            padding: 25px 20px;
            background: rgba(0,0,0,0.3);
            border-bottom: 1px solid var(--border-subtle);
        }

        .sidebar-header h2 { color: var(--text-primary); font-size: 1.2rem; font-weight: 700; margin-bottom: 5px; }
        .sidebar-header p { color: var(--text-muted); font-size: 0.85rem; }

        /* Tab Switch */
        .sidebar-tabs {
            display: flex;
            border-bottom: 1px solid var(--border-subtle);
        }

        .sidebar-tab {
            flex: 1;
            padding: 14px 10px;
            text-align: center;
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--text-muted);
            cursor: pointer;
            transition: all 0.2s;
            border-bottom: 3px solid transparent;
            background: none;
            border-left: none;
            border-right: none;
            border-top: none;
        }

        .sidebar-tab:hover { background: rgba(255,255,255,0.03); color: var(--text-secondary); }
        .sidebar-tab.active { color: var(--accent-blue); border-bottom-color: var(--accent-blue); background: rgba(59, 130, 246, 0.08); }
        .sidebar-tab.agent-tab.active { color: var(--accent-purple); border-bottom-color: var(--accent-purple); background: rgba(139, 92, 246, 0.08); }

        .sidebar-nav { padding: 15px 0; flex: 1; overflow-y: auto; }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 20px;
            color: var(--text-secondary);
            text-decoration: none;
            border-left: 3px solid transparent;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .nav-item:hover { background: rgba(255,255,255,0.03); color: var(--text-primary); }
        .nav-item.active { background: rgba(59, 130, 246, 0.1); border-left-color: var(--accent-blue); color: var(--text-primary); }

        .nav-number {
            background: rgba(255,255,255,0.1);
            color: var(--text-secondary);
            width: 28px;
            height: 28px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.85rem;
            flex-shrink: 0;
        }

        .nav-item.active .nav-number { background: var(--accent-blue); color: white; }
        .nav-label { font-size: 0.95rem; font-weight: 500; }

        .sidebar-footer {
            padding: 20px;
            border-top: 1px solid var(--border-subtle);
            background: rgba(0,0,0,0.2);
        }

        .doc-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
            padding: 14px 20px;
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            text-decoration: none;
            font-size: 0.95rem;
        }

        .doc-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3); }

        /* Main Content */
        .main-content { margin-left: var(--sidebar-width); padding: 80px 40px 40px 40px; }

        /* Tab Panels */
        .tab-panel { display: none; }
        .tab-panel.active { display: block; }

        .header {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            padding: 35px;
            border-radius: 16px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background:
                radial-gradient(ellipse at 20% 20%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(20, 184, 166, 0.08) 0%, transparent 50%);
            pointer-events: none;
        }

        .header h1 {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 10px;
            position: relative;
            background: linear-gradient(135deg, var(--text-primary) 0%, var(--accent-blue) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header .subtitle { color: var(--text-secondary); font-size: 1.1rem; position: relative; }

        .header .meta { display: flex; gap: 15px; margin-top: 20px; flex-wrap: wrap; position: relative; }

        .header .meta-item {
            background: rgba(255,255,255,0.05);
            border: 1px solid var(--border-subtle);
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Legend */
        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            padding: 18px 22px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            margin-bottom: 25px;
        }

        .legend-item { display: flex; align-items: center; gap: 8px; font-size: 0.85rem; color: var(--text-secondary); }
        .legend-color { width: 18px; height: 18px; border-radius: 4px; }

        /* Sections */
        .section {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            margin-bottom: 25px;
            overflow: hidden;
            scroll-margin-top: 75px;
        }

        .section-header {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, rgba(59, 130, 246, 0.1) 100%);
            border-bottom: 1px solid var(--border-subtle);
            padding: 22px 25px;
            display: flex;
            align-items: center;
            gap: 18px;
        }

        .section-number {
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 1.3rem;
            flex-shrink: 0;
        }

        .section-title h2 { font-size: 1.35rem; font-weight: 700; margin-bottom: 4px; color: var(--text-primary); }
        .section-title span { font-size: 0.9rem; color: var(--text-muted); }
        .section-content { padding: 28px; }

        /* Workflow Diagrams */
        .workflow-diagram {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 28px;
            margin-bottom: 22px;
        }

        .flow-row { display: flex; align-items: center; justify-content: center; flex-wrap: wrap; gap: 12px; margin: 15px 0; }

        .flow-node {
            padding: 14px 22px;
            border-radius: 10px;
            text-align: center;
            font-size: 0.9rem;
            font-weight: 600;
            min-width: 150px;
            border: 1px solid var(--border-subtle);
        }

        .flow-node.start { background: linear-gradient(135deg, var(--accent-green) 0%, #16a34a 100%); color: white; border-radius: 25px; border: none; }
        .flow-node.action { background: linear-gradient(135deg, var(--accent-blue) 0%, #2563eb 100%); color: white; border: none; }
        .flow-node.decision { background: linear-gradient(135deg, var(--accent-amber) 0%, #d97706 100%); color: var(--bg-primary); border: none; }
        .flow-node.input { background: var(--bg-secondary); border: 2px solid var(--accent-blue); color: var(--text-primary); }
        .flow-node.output { background: linear-gradient(135deg, var(--accent-teal) 0%, #0d9488 100%); color: white; border: none; }
        .flow-node.exception { background: linear-gradient(135deg, var(--accent-rose) 0%, #dc2626 100%); color: white; border: none; }

        .flow-arrow { color: var(--accent-blue); font-size: 1.5rem; }
        .flow-arrow.down { transform: rotate(90deg); }

        .decision-branch { display: flex; gap: 40px; justify-content: center; margin: 20px 0; flex-wrap: wrap; }
        .branch { display: flex; flex-direction: column; align-items: center; gap: 10px; }

        .branch-label {
            background: var(--bg-secondary);
            border: 1px solid var(--border-subtle);
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--text-secondary);
        }

        /* Tables */
        .field-table { width: 100%; border-collapse: collapse; margin: 18px 0; }

        .field-table th {
            background: rgba(59, 130, 246, 0.15);
            color: var(--accent-blue);
            padding: 14px 18px;
            text-align: left;
            font-weight: 600;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            border-bottom: 1px solid var(--border-subtle);
        }

        .field-table td { padding: 14px 18px; border-bottom: 1px solid var(--border-subtle); color: var(--text-secondary); }
        .field-table tr:hover { background: rgba(255,255,255,0.02); }

        .badge { display: inline-block; padding: 4px 12px; border-radius: 6px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; }
        .badge.required-badge { background: rgba(244, 63, 94, 0.15); color: var(--accent-rose); }
        .badge.optional-badge { background: rgba(34, 197, 94, 0.15); color: var(--accent-green); }
        .badge.calculated-badge { background: rgba(59, 130, 246, 0.15); color: var(--accent-blue); }

        /* Info Boxes */
        .exception-box, .tip-box, .info-box {
            padding: 18px 22px;
            margin: 18px 0;
            border-radius: 0 10px 10px 0;
            border-left-width: 4px;
            border-left-style: solid;
        }

        .exception-box { background: rgba(244, 63, 94, 0.08); border-color: var(--accent-rose); border: 1px solid rgba(244, 63, 94, 0.2); border-left: 4px solid var(--accent-rose); }
        .exception-box h4 { color: var(--accent-rose); margin-bottom: 10px; font-size: 1rem; }
        .exception-box p, .exception-box li { color: var(--text-secondary); }

        .tip-box { background: rgba(34, 197, 94, 0.08); border-color: var(--accent-green); border: 1px solid rgba(34, 197, 94, 0.2); border-left: 4px solid var(--accent-green); }
        .tip-box h4 { color: var(--accent-green); margin-bottom: 10px; font-size: 1rem; }
        .tip-box p, .tip-box li { color: var(--text-secondary); }

        .info-box { background: rgba(59, 130, 246, 0.08); border-color: var(--accent-blue); border: 1px solid rgba(59, 130, 246, 0.2); border-left: 4px solid var(--accent-blue); }
        .info-box h4 { color: var(--accent-blue); margin-bottom: 10px; font-size: 1rem; }
        .info-box p, .info-box li { color: var(--text-secondary); }

        /* Decision Tree */
        .decision-tree {
            background: rgba(0,0,0,0.2);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 22px;
            margin: 22px 0;
        }

        .decision-tree h3 { color: var(--accent-blue); margin-bottom: 18px; padding-bottom: 12px; border-bottom: 1px solid var(--border-subtle); font-size: 1.1rem; }

        .tree-node { margin-left: 20px; padding: 12px; border-left: 2px solid var(--accent-teal); position: relative; color: var(--text-secondary); }
        .tree-node::before { content: ''; position: absolute; left: -2px; top: 22px; width: 15px; height: 2px; background: var(--accent-teal); }
        .tree-node.level-1 { margin-left: 0; border-left: none; }
        .tree-node.level-1::before { display: none; }

        .tree-label { background: var(--accent-amber); color: var(--bg-primary); padding: 6px 14px; border-radius: 6px; font-weight: 700; display: inline-block; margin-bottom: 6px; font-size: 0.9rem; }

        /* Summary Grid */
        .summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 18px; margin: 22px 0; }

        .summary-card { background: rgba(0,0,0,0.3); border: 1px solid var(--border-subtle); border-radius: 12px; padding: 22px; text-align: center; }
        .summary-card h4 { color: var(--text-secondary); margin-bottom: 12px; font-size: 0.9rem; }
        .summary-card .value {
            font-size: 2.2rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .summary-card .label { font-size: 0.85rem; color: var(--text-muted); margin-top: 8px; }

        /* Quick Reference */
        .quick-ref {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-card) 100%);
            border: 1px solid var(--border-subtle);
            padding: 28px;
            border-radius: 16px;
            margin-top: 30px;
            font-family: 'JetBrains Mono', monospace;
            scroll-margin-top: 75px;
        }

        .quick-ref h3 { color: var(--accent-amber); margin-bottom: 18px; font-family: 'Plus Jakarta Sans', sans-serif; }
        .quick-ref pre { background: rgba(0,0,0,0.4); border: 1px solid var(--border-subtle); padding: 20px; border-radius: 10px; overflow-x: auto; font-size: 0.85rem; line-height: 1.7; color: var(--text-secondary); }

        /* ====== AGENT OPPORTUNITIES STYLES ====== */
        .agent-header {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            padding: 35px;
            border-radius: 16px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .agent-header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background:
                radial-gradient(ellipse at 20% 20%, rgba(139, 92, 246, 0.12) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(245, 158, 11, 0.1) 0%, transparent 50%);
            pointer-events: none;
        }

        .agent-header h1 {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 10px;
            position: relative;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-header .subtitle { color: var(--text-secondary); font-size: 1.1rem; position: relative; }

        /* Heat Map */
        .heat-map-container { margin-bottom: 35px; }
        .heat-map-title { font-size: 1.3rem; font-weight: 700; color: var(--text-primary); margin-bottom: 20px; display: flex; align-items: center; gap: 12px; }

        .heat-map-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .heat-item {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 20px;
            position: relative;
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
        }

        .heat-item:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .heat-item:active { transform: scale(0.98); }

        .heat-item::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; height: 4px;
        }

        .heat-item.critical::before { background: linear-gradient(90deg, #ef4444, #f97316); }
        .heat-item.high::before { background: linear-gradient(90deg, #f97316, #eab308); }
        .heat-item.medium::before { background: linear-gradient(90deg, #eab308, #22c55e); }
        .heat-item.low::before { background: linear-gradient(90deg, #22c55e, #14b8a6); }

        .heat-score {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.8rem;
            font-weight: 800;
        }

        .heat-item.critical .heat-score { color: #ef4444; }
        .heat-item.high .heat-score { color: #f97316; }
        .heat-item.medium .heat-score { color: #eab308; }
        .heat-item.low .heat-score { color: #22c55e; }

        .heat-name { font-size: 1rem; font-weight: 700; color: var(--text-primary); margin-bottom: 6px; padding-right: 50px; }
        .heat-desc { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px; }

        .heat-metrics { display: flex; gap: 15px; margin-top: 12px; }
        .heat-metric { font-size: 0.75rem; color: var(--text-muted); }
        .heat-metric span { color: var(--text-secondary); font-weight: 600; }

        /* Agent Cards */
        .agent-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)); gap: 25px; margin-bottom: 35px; }

        .agent-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .agent-card:hover { transform: translateY(-5px); box-shadow: 0 15px 50px rgba(0,0,0,0.3); }

        .agent-card.highlight {
            animation: highlightPulse 2s ease;
            box-shadow: 0 0 0 3px var(--accent-purple), 0 15px 50px rgba(139, 92, 246, 0.4);
        }

        @keyframes highlightPulse {
            0% { box-shadow: 0 0 0 3px var(--accent-purple), 0 15px 50px rgba(139, 92, 246, 0.6); }
            50% { box-shadow: 0 0 0 6px rgba(139, 92, 246, 0.5), 0 15px 50px rgba(139, 92, 246, 0.3); }
            100% { box-shadow: 0 0 0 0px transparent, 0 15px 50px rgba(0,0,0,0.3); }
        }

        .agent-card-header {
            padding: 22px;
            display: flex;
            align-items: flex-start;
            gap: 18px;
            border-bottom: 1px solid var(--border-subtle);
        }

        .agent-icon {
            width: 55px;
            height: 55px;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.6rem;
            flex-shrink: 0;
        }

        .agent-info { flex: 1; }
        .agent-name { font-size: 1.15rem; font-weight: 700; color: var(--text-primary); margin-bottom: 5px; }
        .agent-type { font-size: 0.8rem; color: var(--accent-purple); font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }

        .agent-priority {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
        }

        .agent-priority.critical { background: rgba(239, 68, 68, 0.15); color: #ef4444; }
        .agent-priority.high { background: rgba(249, 115, 22, 0.15); color: #f97316; }
        .agent-priority.medium { background: rgba(234, 179, 8, 0.15); color: #eab308; }
        .agent-priority.low { background: rgba(34, 197, 94, 0.15); color: #22c55e; }

        .agent-card-body { padding: 22px; }
        .agent-description { font-size: 0.95rem; color: var(--text-secondary); line-height: 1.6; margin-bottom: 20px; }

        .agent-flow {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            padding: 18px;
            margin-bottom: 20px;
        }

        .agent-flow-title { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }

        .agent-flow-diagram { display: flex; align-items: center; flex-wrap: wrap; gap: 8px; justify-content: center; }

        .agent-step {
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
            color: white;
            padding: 8px 14px;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 600;
            white-space: nowrap;
        }

        .agent-arrow { color: var(--accent-purple); font-size: 1.2rem; }

        .agent-stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }

        .agent-stat {
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            padding: 12px;
            text-align: center;
        }

        .agent-stat-value {
            font-size: 1.3rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-stat-label { font-size: 0.7rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.05em; margin-top: 4px; }

        /* View Prompt Button */
        .agent-prompt-btn {
            width: 100%;
            margin-top: 18px;
            padding: 14px 20px;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(59, 130, 246, 0.2) 100%);
            border: 1px solid rgba(139, 92, 246, 0.4);
            border-radius: 10px;
            color: var(--accent-purple);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-size: 0.9rem;
        }

        .agent-prompt-btn:hover {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.3) 0%, rgba(59, 130, 246, 0.3) 100%);
            border-color: var(--accent-purple);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.25);
        }

        /* Summary Stats */
        .agent-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 35px;
        }

        .agent-summary-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 14px;
            padding: 25px;
            text-align: center;
        }

        .agent-summary-value {
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-summary-label { font-size: 0.9rem; color: var(--text-muted); margin-top: 8px; }

        /* Heat Map Legend */
        .heat-legend {
            display: flex;
            gap: 25px;
            padding: 18px 22px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .heat-legend-item { display: flex; align-items: center; gap: 10px; font-size: 0.9rem; color: var(--text-secondary); }
        .heat-legend-color { width: 24px; height: 24px; border-radius: 6px; }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(10, 15, 26, 0.9);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            padding: 20px;
            backdrop-filter: blur(5px);
        }

        .modal-overlay.show { display: flex; }

        .modal {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            width: 100%;
            max-width: 950px;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
            box-shadow: 0 25px 80px rgba(0,0,0,0.5);
        }

        .modal-header {
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            padding: 22px 28px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 16px 16px 0 0;
        }

        .modal-header h3 { font-size: 1.25rem; font-weight: 700; }
        .modal-actions { display: flex; gap: 12px; }

        .modal-btn {
            padding: 10px 18px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 700;
            transition: transform 0.2s;
            font-size: 0.9rem;
        }

        .modal-btn:hover { transform: scale(1.05); }
        .modal-btn.copy { background: white; color: var(--accent-blue); }
        .modal-btn.close { background: rgba(255,255,255,0.2); color: white; }

        .modal-body { padding: 28px; overflow-y: auto; flex: 1; }

        .modal-body pre {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            padding: 22px;
            border-radius: 10px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            line-height: 1.7;
            white-space: pre-wrap;
            word-wrap: break-word;
            color: var(--text-secondary);
        }

        .copy-success {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--accent-green);
            color: white;
            padding: 18px 35px;
            border-radius: 10px;
            font-weight: 700;
            z-index: 3000;
            display: none;
            animation: fadeInOut 2s ease;
        }

        @keyframes fadeInOut { 0%, 100% { opacity: 0; } 10%, 90% { opacity: 1; } }

        /* Prompt Modal */
        .prompt-modal .modal { max-width: 800px; }
        .prompt-modal .modal-header { background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%); }

        .prompt-section { margin-bottom: 25px; }
        .prompt-section h4 { color: var(--accent-purple); font-size: 1rem; margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }

        .prompt-box {
            background: rgba(0,0,0,0.4);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            padding: 20px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            line-height: 1.7;
            color: var(--text-secondary);
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .prompt-tags { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 20px; }
        .prompt-tag { background: rgba(139, 92, 246, 0.15); color: var(--accent-purple); padding: 6px 14px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; }

        .copy-prompt-btn {
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            margin-top: 15px;
        }

        .copy-prompt-btn:hover { transform: scale(1.05); box-shadow: 0 5px 20px rgba(139, 92, 246, 0.3); }

        /* Step List */
        .step-list { list-style: none; padding: 0; margin: 18px 0; }
        .step-list li {
            padding: 14px 18px;
            border-left: 3px solid var(--accent-blue);
            background: rgba(0,0,0,0.2);
            margin-bottom: 10px;
            border-radius: 0 8px 8px 0;
            color: var(--text-secondary);
        }
        .step-list li strong { color: var(--text-primary); }

        @media (max-width: 900px) {
            .sidebar { display: none; }
            .main-content { margin-left: 0; padding: 75px 20px 30px 20px; }
            .agent-grid { grid-template-columns: 1fr; }
        }
            .breadcrumb-logo-link { display: flex; align-items: center; padding: 4px 8px; background: rgba(255,255,255,0.08); border-radius: 8px; border: 1px solid rgba(255,255,255,0.12); transition: all 0.2s; }
        .breadcrumb-logo-link:hover { background: rgba(255,255,255,0.15); }
        .breadcrumb-logo { height: 28px; width: auto; }
    </style>
</head>
<body>
    <!-- Breadcrumb -->
    <nav class="breadcrumb">
        <a href="../../index.html" class="breadcrumb-logo-link"><img src="../../images/clear-ai-logo.png" alt="Clear AI" class="breadcrumb-logo"></a>
        <a href="../../index.html">Home</a>
        <span class="separator">></span>
        <a href="./index.html">Mortgage Fundamentals</a>
        <span class="separator">></span>
        <span class="current">ROV Submission Process</span>
    </nav>

    <!-- Fixed Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <h2>ROV Submission</h2>
            <p>Interactive Workflow Guide</p>
        </div>

        <!-- Tab Switcher -->
        <div class="sidebar-tabs">
            <button class="sidebar-tab active" onclick="switchTab('workflow')">Workflow</button>
            <button class="sidebar-tab agent-tab" onclick="switchTab('agents')">AI Agents</button>
        </div>

        <!-- Workflow Navigation -->
        <nav class="sidebar-nav" id="workflow-nav">
            <a href="#section-1" class="nav-item active">
                <span class="nav-number">1</span>
                <span class="nav-label">Understanding ROV</span>
            </a>
            <a href="#section-2" class="nav-item">
                <span class="nav-number">2</span>
                <span class="nav-label">Sales Team Actions</span>
            </a>
            <a href="#section-3" class="nav-item">
                <span class="nav-number">3</span>
                <span class="nav-label">Processor Actions</span>
            </a>
            <a href="#section-4" class="nav-item">
                <span class="nav-number">4</span>
                <span class="nav-label">BYTE Appraisal Review</span>
            </a>
            <a href="#section-5" class="nav-item">
                <span class="nav-number">5</span>
                <span class="nav-label">Tracking ROV Status</span>
            </a>
            <a href="#quick-ref" class="nav-item">
                <span class="nav-number">*</span>
                <span class="nav-label">Quick Reference</span>
            </a>
        </nav>

        <!-- Agent Navigation -->
        <nav class="sidebar-nav" id="agents-nav" style="display: none;">
            <a href="#agent-summary" class="nav-item active">
                <span class="nav-number">S</span>
                <span class="nav-label">Summary</span>
            </a>
            <a href="#agent-heatmap" class="nav-item">
                <span class="nav-number">H</span>
                <span class="nav-label">Heat Map</span>
            </a>
            <a href="#agent-details" class="nav-item">
                <span class="nav-number">A</span>
                <span class="nav-label">Agent Details</span>
            </a>
        </nav>

        <div class="sidebar-footer">
            <button class="doc-btn" onclick="openDocModal()">
                View Workflow Markdown
            </button>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">

        <!-- ==================== WORKFLOW TAB ==================== -->
        <div id="workflow-panel" class="tab-panel active">
            <!-- Header -->
            <div class="header">
                <h1>Reconsideration of Value (ROV) Submission Process</h1>
                <p class="subtitle">Complete guide for requesting a reconsideration of appraised value when inaccuracies or inadequate comparables are identified</p>
                <div class="meta">
                    <span class="meta-item">System: BYTE LOS</span>
                    <span class="meta-item">Roles: Sales Team, Processor</span>
                    <span class="meta-item">Updated: Oct 31, 2024</span>
                    <span class="meta-item">Submissions: 1 per loan</span>
                </div>
            </div>

            <!-- Legend -->
            <div class="legend">
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #22c55e, #16a34a);"></div><span>Start/End</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #3b82f6, #2563eb);"></div><span>Action Step</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #f59e0b, #d97706);"></div><span>Decision Point</span></div>
                <div class="legend-item"><div class="legend-color" style="background: #111827; border: 2px solid #3b82f6;"></div><span>User Input</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #f43f5e, #dc2626);"></div><span>Exception</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #14b8a6, #0d9488);"></div><span>Output</span></div>
            </div>

            <!-- Section 1: Understanding ROV -->
            <section id="section-1" class="section">
                <div class="section-header">
                    <div class="section-number">1</div>
                    <div class="section-title"><h2>Understanding Reconsideration of Value</h2><span>When and why to request a reconsideration of the appraisal</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node start">Appraisal Received</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node decision">Value Acceptable?</div>
                        </div>
                        <div class="decision-branch">
                            <div class="branch">
                                <span class="branch-label">YES</span>
                                <div class="flow-node output">Proceed with Loan</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">NO</span>
                                <div class="flow-node action">Initiate ROV Process</div>
                            </div>
                        </div>
                    </div>

                    <div class="info-box">
                        <h4>Borrower Rights Disclosure</h4>
                        <p>Loan applicants receive a disclosure outlining their right to request a reconsideration of the appraisal value if they find inaccuracies or believe the value is too low. To initiate this process, applicants must complete the Reconsideration of Value Form.</p>
                    </div>

                    <div class="decision-tree">
                        <h3>Valid Reasons for ROV Request</h3>
                        <ul class="step-list">
                            <li><strong>Factual Errors:</strong> Incorrect property details such as square footage, room count, lot size, or condition</li>
                            <li><strong>Inadequate Comparables:</strong> Comparable sales used are not similar enough to the subject property</li>
                            <li><strong>Evidence of Bias:</strong> Concerns that bias may have affected the appraisal outcome</li>
                            <li><strong>Better Comparables Available:</strong> Sales exist that better represent the subject property's value</li>
                        </ul>
                    </div>

                    <div class="exception-box">
                        <h4>CRITICAL: One Submission Only</h4>
                        <p><strong>Only one submission for a Reconsideration of Value is allowed per loan.</strong> Ensure you follow the process in its entirety and review the ROV Submission Best Practices Job Aid before submission.</p>
                    </div>
                </div>
            </section>

            <!-- Section 2: Sales Team Actions -->
            <section id="section-2" class="section">
                <div class="section-header">
                    <div class="section-number">2</div>
                    <div class="section-title"><h2>Sales Team Actions</h2><span>Complete the ROV Request Form with supporting comparable sales</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node start">ROV Needed</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Select ROV Form</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node input">Complete All Sections</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Add Comparables</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Submit to Processor</div>
                        </div>
                    </div>

                    <div class="decision-tree">
                        <h3>ROV Form Selection</h3>
                        <ul class="step-list">
                            <li><strong>Retail and Wholesale:</strong> Use the Retail and Wholesale ROV Form</li>
                            <li><strong>JV (Joint Venture):</strong> Use the JV ROV Form</li>
                        </ul>
                    </div>

                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Requirement</th>
                                <th>Details</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Number of Comparables</strong></td>
                                <td>Limited to 5 closed sales maximum</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Sale Date Requirement</strong></td>
                                <td>Must have closed BEFORE the effective date of the appraisal</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>MLS Information</strong></td>
                                <td>Updated on ROV Form with detailed information</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Explanation</strong></td>
                                <td>Why these sales are better than those in the appraisal</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="tip-box">
                        <h4>Justification Examples</h4>
                        <p>When explaining why your comparables are better, consider these factors:</p>
                        <ul style="margin-top: 10px; margin-left: 20px;">
                            <li><strong>More Recent:</strong> Sales that closed closer to the appraisal date</li>
                            <li><strong>Better Bracket:</strong> Sales that bracket the subject's size, age, or features</li>
                            <li><strong>Closer to Subject:</strong> Sales located nearer to the subject property</li>
                            <li><strong>More Similar Features:</strong> Comparable upgrades, lot size, or condition</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Section 3: Processor Actions -->
            <section id="section-3" class="section">
                <div class="section-header">
                    <div class="section-number">3</div>
                    <div class="section-title"><h2>Processor Actions</h2><span>Save ROV documents to Stored Documents in BYTE</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Receive ROV from Sales</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Navigate to Stored Docs</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node input">Set Document Properties</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Save Documents</div>
                        </div>
                    </div>

                    <div class="info-box">
                        <h4>Document Storage Location</h4>
                        <p>Ensure all completed ROV documents are saved to <strong>Stored Documents</strong> in BYTE with the appropriate labeling.</p>
                    </div>

                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Value</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Type</strong></td>
                                <td>Appraisal Review Request</td>
                                <td>Select from dropdown</td>
                            </tr>
                            <tr>
                                <td><strong>Category</strong></td>
                                <td>PROP</td>
                                <td>Property category</td>
                            </tr>
                            <tr>
                                <td><strong>Description</strong></td>
                                <td>ROV Comparables, ROV Request Form, etc.</td>
                                <td>Descriptive label for each document</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="decision-tree">
                        <h3>Required Documents to Save</h3>
                        <ul class="step-list">
                            <li><strong>ROV Request Form:</strong> Completed form from Sales Team</li>
                            <li><strong>ROV Comparables:</strong> Supporting MLS data and comparable sales information</li>
                            <li><strong>Any Additional Documentation:</strong> Photos, property details, or market analysis</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Section 4: BYTE Appraisal Review Screen -->
            <section id="section-4" class="section">
                <div class="section-header">
                    <div class="section-number">4</div>
                    <div class="section-title"><h2>BYTE Appraisal Review Screen</h2><span>Submit the ROV request through BYTE system</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Open Appraisal Review</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node input">Check Request Box</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node input">Complete Fields</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Click Save</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Verify Timestamp</div>
                        </div>
                    </div>

                    <div class="decision-tree">
                        <h3>Appraisal Review Screen Steps</h3>
                        <ul class="step-list">
                            <li><strong>Step 1:</strong> Click the checkbox next to <strong>"Appraisal Review #1 Requested"</strong></li>
                            <li><strong>Step 2:</strong> Select appropriate dropdown in <strong>"Review Type Requested"</strong></li>
                            <li><strong>Step 3:</strong> Enter name of party requesting ROV in <strong>"Requested By:"</strong></li>
                            <li><strong>Step 4:</strong> Select appropriate dropdown in <strong>"If ROV, request on behalf of"</strong></li>
                            <li><strong>Step 5:</strong> Click <strong>Save</strong> to submit the request</li>
                        </ul>
                    </div>

                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Field</th>
                                <th>Description</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Appraisal Review #1 Requested</strong></td>
                                <td>Checkbox to initiate the ROV request</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Review Type Requested</strong></td>
                                <td>Dropdown selection (e.g., Borrower ROV)</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Requested By</strong></td>
                                <td>Name of party requesting the ROV</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>If ROV, request on behalf of</strong></td>
                                <td>Dropdown selection (e.g., Borrower)</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Date/Time Stamp</strong></td>
                                <td>Auto-generated upon save</td>
                                <td><span class="badge calculated-badge">Auto-Generated</span></td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="exception-box">
                        <h4>CRITICAL: Verify Date/Time Stamp</h4>
                        <p>This will date/time stamp the screen with your request and submit it to the Appraisal team for review. <strong>ENSURE THE DATE AND TIME STAMP IS PRESENT BEFORE LEAVING THE SCREEN.</strong></p>
                    </div>
                </div>
            </section>

            <!-- Section 5: Tracking ROV Status -->
            <section id="section-5" class="section">
                <div class="section-header">
                    <div class="section-number">5</div>
                    <div class="section-title"><h2>Tracking ROV Status</h2><span>Monitor the progress of the ROV submission</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">ROV Submitted</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Collateral UW Reviews</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node decision">Form Appropriate?</div>
                        </div>
                        <div class="decision-branch">
                            <div class="branch">
                                <span class="branch-label">YES</span>
                                <div class="flow-node action">Submit via Value Link</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">NO</span>
                                <div class="flow-node exception">ROV - Incomplete Form</div>
                            </div>
                        </div>
                    </div>

                    <div class="info-box">
                        <h4>Collateral Underwriter Process</h4>
                        <p>When the ROV Form is appropriate, the Collateral Underwriter will:</p>
                        <ul style="margin-top: 10px; margin-left: 20px;">
                            <li>Assess the situation and review submitted comparables</li>
                            <li>Submit the ROV Request through Value Link</li>
                            <li>Change the appraisal order status to "Reconsideration of Value"</li>
                            <li>Send revision request to appraiser with comments on suggested comparables</li>
                        </ul>
                    </div>

                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>ROV Review Status</th>
                                <th>Description</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>ROV - In Review</strong></td>
                                <td>Collateral team is reviewing the ROV submission</td>
                                <td>Wait for review completion</td>
                            </tr>
                            <tr>
                                <td><strong>ROV - Revisions Requested</strong></td>
                                <td>Appraiser has been asked to review comparables</td>
                                <td>Wait for appraiser response</td>
                            </tr>
                            <tr>
                                <td><strong>ROV - Incomplete Form</strong></td>
                                <td>Form is missing required information</td>
                                <td>Complete and resubmit required items</td>
                            </tr>
                            <tr>
                                <td><strong>ROV - Completed</strong></td>
                                <td>ROV process has been completed</td>
                                <td>Review updated appraisal</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="tip-box">
                        <h4>Status Tracking Location</h4>
                        <p>You can track the status of the ROV submission on the <strong>Appraisal Info Screen</strong> in BYTE. Check the "ROV Review Status" dropdown to see the current status.</p>
                    </div>
                </div>
            </section>

            <!-- Quick Reference -->
            <div id="quick-ref" class="quick-ref">
                <h3>ROV Submission Quick Reference</h3>
                <pre>
ROV SUBMISSION PROCESS SUMMARY
==============================

CRITICAL REMINDER
-----------------
* Only ONE ROV submission allowed per loan
* Review ROV Submission Best Practices Job Aid BEFORE submission

SALES TEAM CHECKLIST
--------------------
[ ] Select correct ROV Form (Retail/Wholesale OR JV)
[ ] Complete all applicable sections
[ ] Add up to 5 closed sales (closed BEFORE appraisal date)
[ ] Include detailed MLS information
[ ] Explain why comparables are better than appraisal comps
    - More recent sales
    - Better bracket
    - Closer to subject
    - More similar features

PROCESSOR CHECKLIST
-------------------
[ ] Save documents to Stored Documents in BYTE
[ ] Set Type: Appraisal Review Request
[ ] Set Category: PROP
[ ] Add Description: ROV Comparables, ROV Request Form, etc.

BYTE APPRAISAL REVIEW SCREEN
----------------------------
[ ] Check "Appraisal Review #1 Requested"
[ ] Select Review Type Requested
[ ] Enter Requested By name
[ ] Select "If ROV, request on behalf of"
[ ] Click SAVE
[ ] VERIFY DATE/TIME STAMP IS PRESENT

ROV STATUS VALUES
-----------------
ROV - In Review          | Under review by Collateral
ROV - Revisions Requested| Sent to appraiser
ROV - Incomplete Form    | Missing information
ROV - Completed          | Process complete

TRACKING
--------
Monitor status on: Appraisal Info Screen > ROV Review Status

VALID ROV REASONS
-----------------
1. Factual errors in appraisal
2. Inadequate comparables used
3. Evidence of bias
4. Better comparables available
                </pre>
            </div>
        </div>

        <!-- ==================== AI AGENTS TAB ==================== -->
        <div id="agents-panel" class="tab-panel">
            <!-- Agent Header -->
            <div class="agent-header">
                <h1>AI Agent Opportunities</h1>
                <p class="subtitle">Automation opportunities identified for the ROV Submission process</p>
            </div>

            <!-- Summary Stats -->
            <div class="agent-summary" id="agent-summary">
                <div class="agent-summary-card">
                    <div class="agent-summary-value">4</div>
                    <div class="agent-summary-label">Agent Opportunities</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">65%</div>
                    <div class="agent-summary-label">Automation Potential</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">12 min</div>
                    <div class="agent-summary-label">Est. Time Saved</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">High</div>
                    <div class="agent-summary-label">Compliance Impact</div>
                </div>
            </div>

            <!-- Heat Map Legend -->
            <div class="heat-legend">
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(90deg, #ef4444, #f97316);"></div>
                    <span>Critical Priority (9-10)</span>
                </div>
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(90deg, #f97316, #eab308);"></div>
                    <span>High Priority (7-8)</span>
                </div>
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(90deg, #eab308, #22c55e);"></div>
                    <span>Medium Priority (5-6)</span>
                </div>
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(90deg, #22c55e, #14b8a6);"></div>
                    <span>Low Priority (1-4)</span>
                </div>
            </div>

            <!-- Heat Map Grid -->
            <div class="heat-map-container" id="agent-heatmap">
                <div class="heat-map-title">Priority Heat Map</div>
                <div class="heat-map-grid">
                    <div class="heat-item critical" onclick="scrollToAgent('agent-compsearch')">
                        <div class="heat-score">9.1</div>
                        <div class="heat-name">Comparable Search Agent</div>
                        <div class="heat-desc">Auto-search MLS for better comparable sales</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Time: <span>8 min</span></div>
                            <div class="heat-metric">Complexity: <span>High</span></div>
                        </div>
                    </div>
                    <div class="heat-item high" onclick="scrollToAgent('agent-formvalidator')">
                        <div class="heat-score">8.3</div>
                        <div class="heat-name">ROV Form Validator</div>
                        <div class="heat-desc">Validate completeness before submission</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Time: <span>2 min</span></div>
                            <div class="heat-metric">Complexity: <span>Low</span></div>
                        </div>
                    </div>
                    <div class="heat-item high" onclick="scrollToAgent('agent-statustracker')">
                        <div class="heat-score">7.5</div>
                        <div class="heat-name">Status Tracker Agent</div>
                        <div class="heat-desc">Monitor and alert on ROV status changes</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Time: <span>N/A</span></div>
                            <div class="heat-metric">Complexity: <span>Low</span></div>
                        </div>
                    </div>
                    <div class="heat-item medium" onclick="scrollToAgent('agent-docorganizer')">
                        <div class="heat-score">6.2</div>
                        <div class="heat-name">Document Organizer</div>
                        <div class="heat-desc">Auto-label and categorize ROV documents</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Time: <span>2 min</span></div>
                            <div class="heat-metric">Complexity: <span>Low</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Agent Details -->
            <div id="agent-details">
                <h2 style="color: var(--text-primary); margin-bottom: 25px; font-size: 1.5rem;">Agent Details</h2>
                <div class="agent-grid">
                    <!-- Comparable Search Agent -->
                    <div class="agent-card" id="agent-compsearch">
                        <div class="agent-card-header">
                            <div class="agent-icon">C</div>
                            <div class="agent-info">
                                <div class="agent-name">Comparable Search Agent</div>
                                <div class="agent-type">Data Integration / MLS API</div>
                            </div>
                            <span class="agent-priority critical">Critical</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">Automatically searches MLS databases for comparable sales that could support a higher property value. Analyzes proximity, sale date, property features, and price per square foot to identify the best comparables that closed before the appraisal effective date.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Flow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">Subject Property</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">MLS Search</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Rank Results</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Generate Report</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">8 min</div>
                                    <div class="agent-stat-label">Time Saved</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">92%</div>
                                    <div class="agent-stat-label">Accuracy</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">High</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('compsearch')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>

                    <!-- ROV Form Validator Agent -->
                    <div class="agent-card" id="agent-formvalidator">
                        <div class="agent-card-header">
                            <div class="agent-icon">V</div>
                            <div class="agent-info">
                                <div class="agent-name">ROV Form Validator</div>
                                <div class="agent-type">Validation / Compliance</div>
                            </div>
                            <span class="agent-priority high">High</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">Validates ROV form completeness before submission to prevent "Incomplete Form" status. Checks that all required fields are filled, comparables meet date requirements, and explanations are provided for each comparable's superiority.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Flow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">Parse Form</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Check Fields</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Validate Dates</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Report Issues</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">2 min</div>
                                    <div class="agent-stat-label">Time Saved</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">99%</div>
                                    <div class="agent-stat-label">Accuracy</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">Low</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('formvalidator')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>

                    <!-- Status Tracker Agent -->
                    <div class="agent-card" id="agent-statustracker">
                        <div class="agent-card-header">
                            <div class="agent-icon">S</div>
                            <div class="agent-info">
                                <div class="agent-name">Status Tracker Agent</div>
                                <div class="agent-type">Monitoring / Alerts</div>
                            </div>
                            <span class="agent-priority high">High</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">Monitors ROV status changes across all active submissions and sends proactive alerts to Sales Teams and Processors when status changes occur, ensuring timely response to requests for additional information or completion notifications.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Flow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">Monitor Status</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Detect Change</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Send Alert</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Log Action</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">N/A</div>
                                    <div class="agent-stat-label">Time Saved</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">99%</div>
                                    <div class="agent-stat-label">Accuracy</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">Low</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('statustracker')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>

                    <!-- Document Organizer Agent -->
                    <div class="agent-card" id="agent-docorganizer">
                        <div class="agent-card-header">
                            <div class="agent-icon">D</div>
                            <div class="agent-info">
                                <div class="agent-name">Document Organizer</div>
                                <div class="agent-type">Document Processing</div>
                            </div>
                            <span class="agent-priority medium">Medium</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">Automatically categorizes and labels ROV-related documents when uploaded to Stored Documents. Sets the correct Type (Appraisal Review Request), Category (PROP), and generates appropriate descriptions based on document content analysis.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Flow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">Detect Upload</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Classify Doc</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Set Metadata</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Confirm Save</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">2 min</div>
                                    <div class="agent-stat-label">Time Saved</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">95%</div>
                                    <div class="agent-stat-label">Accuracy</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">Low</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('docorganizer')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Documentation Modal -->
    <div class="modal-overlay" id="docModal">
        <div class="modal">
            <div class="modal-header">
                <h3>ROV Submission Workflow Documentation</h3>
                <div class="modal-actions">
                    <button class="modal-btn copy" onclick="copyToClipboard()">Copy</button>
                    <button class="modal-btn close" onclick="closeDocModal()">Close</button>
                </div>
            </div>
            <div class="modal-body">
                <pre id="docContent"># Reconsideration of Value (ROV) Submission Process

## Overview
Loan applicants receive a disclosure outlining their right to request a reconsideration of the appraisal value if they find inaccuracies or believe the value is too low. Only ONE submission is allowed per loan.

## Valid ROV Reasons
- Factual errors in the appraisal
- Inadequate comparables used
- Evidence of bias
- Better comparable sales available

## Sales Team Responsibilities
1. Select correct ROV Form (Retail/Wholesale OR JV)
2. Complete all applicable sections
3. Provide up to 5 closed sales that closed BEFORE appraisal date
4. Include detailed MLS information
5. Explain why comparables are better than those in appraisal

## Processor Responsibilities
1. Save documents to Stored Documents in BYTE
2. Set Type: Appraisal Review Request
3. Set Category: PROP
4. Add descriptions: ROV Comparables, ROV Request Form, etc.

## BYTE Appraisal Review Screen
1. Check "Appraisal Review #1 Requested"
2. Select Review Type Requested
3. Enter Requested By name
4. Select "If ROV, request on behalf of"
5. Click SAVE
6. VERIFY DATE/TIME STAMP IS PRESENT

## ROV Status Values
- ROV - In Review: Under review by Collateral
- ROV - Revisions Requested: Sent to appraiser
- ROV - Incomplete Form: Missing information
- ROV - Completed: Process complete

## Tracking
Monitor status on Appraisal Info Screen > ROV Review Status</pre>
            </div>
        </div>
    </div>

    <!-- AI Prompt Modal -->
    <div class="modal-overlay prompt-modal" id="promptModal">
        <div class="modal">
            <div class="modal-header">
                <h3 id="promptModalTitle">AI Agent Build Prompt</h3>
                <div class="modal-actions">
                    <button class="modal-btn copy" onclick="copyPromptToClipboard()">Copy Prompt</button>
                    <button class="modal-btn close" onclick="closePromptModal()">Close</button>
                </div>
            </div>
            <div class="modal-body">
                <div class="prompt-tags" id="promptTags"></div>
                <div class="prompt-section">
                    <h4>Agent Purpose</h4>
                    <div class="prompt-box" id="promptPurpose"></div>
                </div>
                <div class="prompt-section">
                    <h4>Full Build Prompt</h4>
                    <div class="prompt-box" id="promptContent"></div>
                </div>
                <div class="prompt-section">
                    <h4>Integration Points</h4>
                    <div class="prompt-box" id="promptIntegration"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="copy-success" id="copySuccess">Copied to clipboard!</div>

    <script>
        // Tab switching
        function switchTab(tab) {
            document.querySelectorAll('.sidebar-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));

            if (tab === 'workflow') {
                document.querySelector('.sidebar-tab:not(.agent-tab)').classList.add('active');
                document.getElementById('workflow-panel').classList.add('active');
                document.getElementById('workflow-nav').style.display = 'block';
                document.getElementById('agents-nav').style.display = 'none';
            } else {
                document.querySelector('.sidebar-tab.agent-tab').classList.add('active');
                document.getElementById('agents-panel').classList.add('active');
                document.getElementById('workflow-nav').style.display = 'none';
                document.getElementById('agents-nav').style.display = 'block';
            }

            window.scrollTo(0, 0);
        }

        // Scroll spy with isScrolling flag and 1000ms timeout
        const sections = document.querySelectorAll('.section, .quick-ref');
        const navItems = document.querySelectorAll('#workflow-nav .nav-item');
        let isScrolling = false;
        let scrollTimeout;

        function updateActiveNav() {
            if (isScrolling) return;

            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100;
                if (window.scrollY >= sectionTop) current = section.getAttribute('id');
            });
            navItems.forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('href') === '#' + current) item.classList.add('active');
            });
        }

        // Handle nav click to temporarily disable scroll spy
        navItems.forEach(item => {
            item.addEventListener('click', function(e) {
                isScrolling = true;
                clearTimeout(scrollTimeout);

                // Remove active from all, add to clicked
                navItems.forEach(nav => nav.classList.remove('active'));
                this.classList.add('active');

                // Re-enable scroll spy after 1000ms
                scrollTimeout = setTimeout(() => {
                    isScrolling = false;
                }, 1000);
            });
        });

        window.addEventListener('scroll', updateActiveNav);

        // Modal
        function openDocModal() {
            document.getElementById('docModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closeDocModal() {
            document.getElementById('docModal').classList.remove('show');
            document.body.style.overflow = '';
        }

        async function copyToClipboard() {
            try {
                await navigator.clipboard.writeText(document.getElementById('docContent').textContent);
                const success = document.getElementById('copySuccess');
                success.style.display = 'block';
                setTimeout(() => { success.style.display = 'none'; }, 2000);
            } catch (e) { alert('Failed to copy.'); }
        }

        document.addEventListener('keydown', (e) => { if (e.key === 'Escape') { closeDocModal(); closePromptModal(); } });
        document.getElementById('docModal').addEventListener('click', (e) => { if (e.target.id === 'docModal') closeDocModal(); });

        document.addEventListener('DOMContentLoaded', () => { updateActiveNav(); });

        // Scroll to agent card and highlight
        function scrollToAgent(agentId) {
            const agentCard = document.getElementById(agentId);
            if (agentCard) {
                document.querySelectorAll('.agent-card.highlight').forEach(card => {
                    card.classList.remove('highlight');
                });

                agentCard.scrollIntoView({ behavior: 'smooth', block: 'center' });

                setTimeout(() => {
                    agentCard.classList.add('highlight');
                }, 300);

                setTimeout(() => {
                    agentCard.classList.remove('highlight');
                }, 2500);
            }
        }

        // Agent Prompt System
        const agentPrompts = {
            compsearch: {
                name: 'Comparable Search Agent',
                tags: ['Data Integration', 'MLS API', 'High Complexity', 'Critical Priority'],
                purpose: `This agent automatically searches MLS databases for comparable sales that could support a higher property value. It analyzes proximity, sale date, property features, and price per square foot to identify the best comparables that closed before the appraisal effective date, saving significant research time for sales teams.`,
                prompt: `You are building a Data Integration Agent for CMG Financial's ROV Submission process.

AGENT NAME: Comparable Search Agent
TYPE: Data Integration / MLS API

OBJECTIVE:
Create an agent that automatically searches MLS databases for comparable sales that could support a higher property value for ROV submissions.

INPUT DATA:
- Subject Property Address
- Subject Property Details (sqft, beds, baths, year built, lot size)
- Appraisal Effective Date
- Current Appraised Value
- Target Value (desired/contract price)

SEARCH PARAMETERS:
{
  "radius_miles": [0.5, 1.0, 2.0],
  "sale_date_range": "before appraisal_effective_date",
  "sqft_variance": "+/- 20%",
  "year_built_variance": "+/- 10 years",
  "property_type": "match subject",
  "max_results": 15
}

RANKING ALGORITHM:
1. Proximity Score (30%): Distance from subject
2. Recency Score (25%): How close to appraisal date
3. Size Match Score (20%): Square footage similarity
4. Price Support Score (15%): Supports higher value
5. Feature Match Score (10%): Beds, baths, lot size

OUTPUT:
{
  "comparables": [
    {
      "address": "123 Oak St",
      "sale_price": 425000,
      "sale_date": "2024-09-15",
      "sqft": 2150,
      "price_per_sqft": 197.67,
      "distance_miles": 0.3,
      "ranking_score": 94,
      "justification": "More recent sale, closer proximity, similar size"
    }
  ],
  "top_5_recommended": [...],
  "mls_data_attached": true
}

COMPLIANCE:
- Only include sales closed BEFORE appraisal effective date
- Maximum 5 comparables for ROV form
- Include full MLS data sheets for each comp`,
                integration: `INTEGRATION POINTS:
1. MLS APIs
   - RETS/RESO Web API
   - Regional MLS feeds
   - CoreLogic/Black Knight

2. Property Data Services
   - Zillow API (supplemental)
   - Redfin API
   - County assessor records

3. BYTE LOS
   - Read subject property details
   - Auto-populate ROV form
   - Attach MLS printouts

4. Document Generation
   - Create comparison grid
   - Generate justification text
   - Format for ROV form

DEPLOYMENT:
- Triggered on ROV initiation
- Background processing (30-60 seconds)
- Manual approval before submission`
            },
            formvalidator: {
                name: 'ROV Form Validator',
                tags: ['Validation', 'Compliance', 'Low Complexity', 'High Priority'],
                purpose: `This agent validates ROV form completeness before submission to prevent "Incomplete Form" status. It checks that all required fields are filled, comparables meet date requirements, and explanations are provided for each comparable's superiority over those in the original appraisal.`,
                prompt: `You are building a Validation Agent for CMG Financial's ROV Submission process.

AGENT NAME: ROV Form Validator
TYPE: Validation / Compliance Check

OBJECTIVE:
Validate ROV form completeness and accuracy before submission to prevent rejection due to incomplete information.

VALIDATION RULES:

1. FORM SELECTION CHECK:
   - Verify correct form type (Retail/Wholesale OR JV)
   - Match to loan channel

2. COMPARABLE REQUIREMENTS:
   - Count: Maximum 5 comparables
   - Date Check: All sales closed BEFORE appraisal effective date
   - MLS Data: Complete listing information present

3. REQUIRED FIELDS:
   {
     "subject_property": "required",
     "appraisal_date": "required",
     "current_appraised_value": "required",
     "comparable_addresses": "at least 1 required",
     "comparable_sale_dates": "required for each comp",
     "comparable_sale_prices": "required for each comp",
     "mls_numbers": "required for each comp",
     "justification": "required for each comp"
   }

4. JUSTIFICATION QUALITY:
   - Each comparable must have explanation
   - Must reference: recency, proximity, similarity, or bracket
   - Minimum 20 characters per justification

OUTPUT:
{
  "validation_status": "PASS" | "FAIL",
  "errors": [
    { "field": "comparable_2_date", "error": "Sale date is after appraisal date" }
  ],
  "warnings": [
    { "field": "justification_3", "warning": "Justification is brief, consider expanding" }
  ],
  "completeness_score": 95
}

ERROR PREVENTION:
- Block submission if critical errors
- Highlight missing fields
- Suggest corrections`,
                integration: `INTEGRATION POINTS:
1. Form Parser
   - PDF form field extraction
   - Excel/Word document parsing
   - OCR for scanned documents

2. BYTE Integration
   - Pull appraisal effective date
   - Cross-reference property details
   - Validate against loan data

3. User Interface
   - Real-time validation as user types
   - Visual error indicators
   - Completion progress bar

4. Reporting
   - Pre-submission checklist
   - Validation history log
   - Quality metrics dashboard`
            },
            statustracker: {
                name: 'Status Tracker Agent',
                tags: ['Monitoring', 'Alerts', 'Low Complexity', 'High Priority'],
                purpose: `This agent monitors ROV status changes across all active submissions and sends proactive alerts to Sales Teams and Processors when status changes occur, ensuring timely response to requests for additional information or completion notifications.`,
                prompt: `You are building a Monitoring Agent for CMG Financial's ROV Submission process.

AGENT NAME: ROV Status Tracker
TYPE: Monitoring / Push Notifications

OBJECTIVE:
Monitor all active ROV submissions for status changes and alert relevant parties immediately when updates occur.

STATUS VALUES TO MONITOR:
- ROV - In Review
- ROV - Revisions Requested
- ROV - Incomplete Form
- ROV - Completed

MONITORING LOGIC:
1. Poll Appraisal Info Screen every 15 minutes
2. Compare current status to last known status
3. On change: Trigger appropriate alert
4. Log all status transitions

ALERT CONFIGURATION:
{
  "ROV - In Review": {
    "recipients": ["processor"],
    "channel": "email",
    "message": "ROV submitted and under review"
  },
  "ROV - Revisions Requested": {
    "recipients": ["processor", "sales"],
    "channel": ["email", "sms"],
    "message": "Appraiser reviewing - expect response within 48-72 hours"
  },
  "ROV - Incomplete Form": {
    "recipients": ["processor", "sales", "supervisor"],
    "channel": ["email", "teams"],
    "priority": "high",
    "message": "ROV rejected - additional information required"
  },
  "ROV - Completed": {
    "recipients": ["processor", "sales"],
    "channel": ["email"],
    "message": "ROV process complete - review updated appraisal"
  }
}

ALERT CONTENT:
- Loan number and borrower name
- Property address
- Previous status and new status
- Timestamp of change
- Action required (if any)
- Link to BYTE loan file

ESCALATION:
- "Incomplete Form" not addressed in 4 hours: Escalate to supervisor
- "In Review" for more than 5 days: Alert for follow-up`,
                integration: `INTEGRATION POINTS:
1. BYTE Database
   - Query Appraisal Info Screen
   - ROV Review Status field
   - Loan assignment data

2. Notification Services
   - Microsoft Outlook (email)
   - Microsoft Teams webhooks
   - Twilio SMS gateway

3. Tracking Database
   - Status change history
   - Alert delivery confirmation
   - Response time metrics

4. Dashboard
   - Real-time ROV pipeline view
   - Status distribution chart
   - SLA compliance tracking`
            },
            docorganizer: {
                name: 'Document Organizer Agent',
                tags: ['Document Processing', 'Classification', 'Low Complexity', 'Medium Priority'],
                purpose: `This agent automatically categorizes and labels ROV-related documents when uploaded to Stored Documents. It sets the correct Type (Appraisal Review Request), Category (PROP), and generates appropriate descriptions based on document content analysis.`,
                prompt: `You are building a Document Processing Agent for CMG Financial's ROV Submission process.

AGENT NAME: ROV Document Organizer
TYPE: Document Classification / Auto-Labeling

OBJECTIVE:
Automatically classify, label, and organize ROV-related documents when uploaded to BYTE Stored Documents.

DOCUMENT CLASSIFICATION:
{
  "ROV Request Form": {
    "indicators": ["reconsideration", "ROV form", "value request"],
    "type": "Appraisal Review Request",
    "category": "PROP",
    "description": "ROV Request Form"
  },
  "MLS Comparable": {
    "indicators": ["MLS#", "listing", "sold price", "comparable"],
    "type": "Appraisal Review Request",
    "category": "PROP",
    "description": "ROV Comparables"
  },
  "Market Analysis": {
    "indicators": ["market analysis", "CMA", "comp analysis"],
    "type": "Appraisal Review Request",
    "category": "PROP",
    "description": "ROV Market Analysis"
  },
  "Property Photos": {
    "indicators": ["photo", "image", "jpg", "png"],
    "type": "Appraisal Review Request",
    "category": "PROP",
    "description": "ROV Property Photos"
  }
}

PROCESSING STEPS:
1. Detect new document upload
2. Extract text via OCR if needed
3. Analyze content for classification indicators
4. Apply appropriate metadata
5. Confirm with user before save (optional)

METADATA ASSIGNMENT:
{
  "status": "Reviewed" (default),
  "type": "Appraisal Review Request",
  "category": "PROP",
  "description": "[Auto-generated based on content]",
  "expires": null,
  "needed_item": "[None]",
  "condition": "[None]"
}

OUTPUT:
{
  "document_id": "DOC-12345",
  "classification": "MLS Comparable",
  "confidence": 0.95,
  "metadata_applied": {
    "type": "Appraisal Review Request",
    "category": "PROP",
    "description": "ROV Comparables - 123 Oak St"
  }
}`,
                integration: `INTEGRATION POINTS:
1. BYTE Stored Documents
   - Monitor for new uploads
   - Apply metadata via API
   - Update document properties

2. OCR Service
   - Tesseract or AWS Textract
   - PDF text extraction
   - Image text recognition

3. Classification Engine
   - Keyword matching
   - ML document classifier (optional)
   - Confidence scoring

4. User Interface
   - Classification preview
   - Manual override option
   - Batch processing queue`
            }
        };

        // Show agent prompt modal
        let currentPromptContent = '';

        function showAgentPrompt(agentKey) {
            const agent = agentPrompts[agentKey];
            if (!agent) return;

            document.getElementById('promptModalTitle').textContent = agent.name + ' - Build Prompt';

            const tagsHtml = agent.tags.map(tag => '<span class="prompt-tag">' + tag + '</span>').join('');
            document.getElementById('promptTags').innerHTML = tagsHtml;

            document.getElementById('promptPurpose').textContent = agent.purpose;
            document.getElementById('promptContent').textContent = agent.prompt;
            document.getElementById('promptIntegration').textContent = agent.integration;

            currentPromptContent = '# ' + agent.name + '\n\n## Purpose\n' + agent.purpose + '\n\n## Build Prompt\n' + agent.prompt + '\n\n## Integration Points\n' + agent.integration;

            document.getElementById('promptModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closePromptModal() {
            document.getElementById('promptModal').classList.remove('show');
            document.body.style.overflow = '';
        }

        async function copyPromptToClipboard() {
            try {
                await navigator.clipboard.writeText(currentPromptContent);
                const success = document.getElementById('copySuccess');
                success.style.display = 'block';
                setTimeout(() => { success.style.display = 'none'; }, 2000);
            } catch (e) {
                alert('Failed to copy prompt.');
            }
        }

        document.getElementById('promptModal').addEventListener('click', (e) => {
            if (e.target.id === 'promptModal') closePromptModal();
        });
    </script>
</body>
</html>
