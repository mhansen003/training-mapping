<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>First-Time Homebuyer - New Homeowner Checklist Workflow</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0f1a;
            --bg-secondary: #111827;
            --bg-card: #1a2234;
            --accent-blue: #3b82f6;
            --accent-teal: #14b8a6;
            --accent-amber: #f59e0b;
            --accent-rose: #f43f5e;
            --accent-green: #22c55e;
            --accent-purple: #8b5cf6;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --border-subtle: rgba(255,255,255,0.08);
            --sidebar-width: 280px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
        }

        /* Breadcrumb */
        .breadcrumb {
            background: linear-gradient(90deg, #0d1525 0%, #1a2234 100%);
            padding: 14px 25px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 0.95rem;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1001;
            border-bottom: 1px solid var(--border-subtle);
        }

        .breadcrumb a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 600;
            padding: 8px 16px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
            transition: all 0.2s;
            border: 1px solid var(--border-subtle);
        }

        .breadcrumb a:hover {
            background: rgba(59, 130, 246, 0.15);
            color: var(--accent-blue);
            border-color: rgba(59, 130, 246, 0.3);
        }

        .breadcrumb .separator { color: var(--text-muted); font-size: 1.2rem; }
        .breadcrumb .current { color: var(--accent-amber); font-weight: 600; padding: 8px 16px; }

        /* Sidebar */
        .sidebar {
            position: fixed;
            top: 54px;
            left: 0;
            width: var(--sidebar-width);
            height: calc(100vh - 54px);
            background: var(--bg-secondary);
            overflow-y: auto;
            z-index: 1000;
            border-right: 1px solid var(--border-subtle);
            display: flex;
            flex-direction: column;
        }

        .sidebar-header {
            padding: 25px 20px;
            background: rgba(0,0,0,0.3);
            border-bottom: 1px solid var(--border-subtle);
        }

        .sidebar-header h2 { color: var(--text-primary); font-size: 1.2rem; font-weight: 700; margin-bottom: 5px; }
        .sidebar-header p { color: var(--text-muted); font-size: 0.85rem; }

        /* Tab Switch */
        .sidebar-tabs {
            display: flex;
            border-bottom: 1px solid var(--border-subtle);
        }

        .sidebar-tab {
            flex: 1;
            padding: 14px 10px;
            text-align: center;
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--text-muted);
            cursor: pointer;
            transition: all 0.2s;
            border-bottom: 3px solid transparent;
            background: none;
            border-left: none;
            border-right: none;
            border-top: none;
        }

        .sidebar-tab:hover { background: rgba(255,255,255,0.03); color: var(--text-secondary); }
        .sidebar-tab.active { color: var(--accent-blue); border-bottom-color: var(--accent-blue); background: rgba(59, 130, 246, 0.08); }
        .sidebar-tab.agent-tab.active { color: var(--accent-purple); border-bottom-color: var(--accent-purple); background: rgba(139, 92, 246, 0.08); }

        .sidebar-nav { padding: 15px 0; flex: 1; overflow-y: auto; }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 20px;
            color: var(--text-secondary);
            text-decoration: none;
            border-left: 3px solid transparent;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .nav-item:hover { background: rgba(255,255,255,0.03); color: var(--text-primary); }
        .nav-item.active { background: rgba(59, 130, 246, 0.1); border-left-color: var(--accent-blue); color: var(--text-primary); }

        .nav-number {
            background: rgba(255,255,255,0.1);
            color: var(--text-secondary);
            width: 28px;
            height: 28px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.85rem;
            flex-shrink: 0;
        }

        .nav-item.active .nav-number { background: var(--accent-blue); color: white; }
        .nav-label { font-size: 0.95rem; font-weight: 500; }

        .sidebar-footer {
            padding: 20px;
            border-top: 1px solid var(--border-subtle);
            background: rgba(0,0,0,0.2);
        }

        .doc-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
            padding: 14px 20px;
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            text-decoration: none;
            font-size: 0.95rem;
        }

        .doc-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3); }

        /* Main Content */
        .main-content { margin-left: var(--sidebar-width); padding: 80px 40px 40px 40px; }

        /* Tab Panels */
        .tab-panel { display: none; }
        .tab-panel.active { display: block; }

        .header {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            padding: 35px;
            border-radius: 16px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background:
                radial-gradient(ellipse at 20% 20%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(20, 184, 166, 0.08) 0%, transparent 50%);
            pointer-events: none;
        }

        .header h1 {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 10px;
            position: relative;
            background: linear-gradient(135deg, var(--text-primary) 0%, var(--accent-blue) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header .subtitle { color: var(--text-secondary); font-size: 1.1rem; position: relative; }

        .header .meta { display: flex; gap: 15px; margin-top: 20px; flex-wrap: wrap; position: relative; }

        .header .meta-item {
            background: rgba(255,255,255,0.05);
            border: 1px solid var(--border-subtle);
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Legend */
        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            padding: 18px 22px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            margin-bottom: 25px;
        }

        .legend-item { display: flex; align-items: center; gap: 8px; font-size: 0.85rem; color: var(--text-secondary); }
        .legend-color { width: 18px; height: 18px; border-radius: 4px; }

        /* Sections */
        .section {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            margin-bottom: 25px;
            overflow: hidden;
            scroll-margin-top: 75px;
        }

        .section-header {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, rgba(59, 130, 246, 0.1) 100%);
            border-bottom: 1px solid var(--border-subtle);
            padding: 22px 25px;
            display: flex;
            align-items: center;
            gap: 18px;
        }

        .section-number {
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 1.3rem;
            flex-shrink: 0;
        }

        .section-title h2 { font-size: 1.35rem; font-weight: 700; margin-bottom: 4px; color: var(--text-primary); }
        .section-title span { font-size: 0.9rem; color: var(--text-muted); }
        .section-content { padding: 28px; }

        /* Workflow Diagrams */
        .workflow-diagram {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 28px;
            margin-bottom: 22px;
        }

        .flow-row { display: flex; align-items: center; justify-content: center; flex-wrap: wrap; gap: 12px; margin: 15px 0; }

        .flow-node {
            padding: 14px 22px;
            border-radius: 10px;
            text-align: center;
            font-size: 0.9rem;
            font-weight: 600;
            min-width: 150px;
            border: 1px solid var(--border-subtle);
        }

        .flow-node.start { background: linear-gradient(135deg, var(--accent-green) 0%, #16a34a 100%); color: white; border-radius: 25px; border: none; }
        .flow-node.action { background: linear-gradient(135deg, var(--accent-blue) 0%, #2563eb 100%); color: white; border: none; }
        .flow-node.decision { background: linear-gradient(135deg, var(--accent-amber) 0%, #d97706 100%); color: var(--bg-primary); border: none; }
        .flow-node.input { background: var(--bg-secondary); border: 2px solid var(--accent-blue); color: var(--text-primary); }
        .flow-node.output { background: linear-gradient(135deg, var(--accent-teal) 0%, #0d9488 100%); color: white; border: none; }
        .flow-node.exception { background: linear-gradient(135deg, var(--accent-rose) 0%, #dc2626 100%); color: white; border: none; }

        .flow-arrow { color: var(--accent-blue); font-size: 1.5rem; }
        .flow-arrow.down { transform: rotate(90deg); }

        .decision-branch { display: flex; gap: 40px; justify-content: center; margin: 20px 0; flex-wrap: wrap; }
        .branch { display: flex; flex-direction: column; align-items: center; gap: 10px; }

        .branch-label {
            background: var(--bg-secondary);
            border: 1px solid var(--border-subtle);
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--text-secondary);
        }

        /* Tables */
        .field-table { width: 100%; border-collapse: collapse; margin: 18px 0; }

        .field-table th {
            background: rgba(59, 130, 246, 0.15);
            color: var(--accent-blue);
            padding: 14px 18px;
            text-align: left;
            font-weight: 600;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            border-bottom: 1px solid var(--border-subtle);
        }

        .field-table td { padding: 14px 18px; border-bottom: 1px solid var(--border-subtle); color: var(--text-secondary); }
        .field-table tr:hover { background: rgba(255,255,255,0.02); }

        .badge { display: inline-block; padding: 4px 12px; border-radius: 6px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; }
        .badge.required-badge { background: rgba(244, 63, 94, 0.15); color: var(--accent-rose); }
        .badge.optional-badge { background: rgba(34, 197, 94, 0.15); color: var(--accent-green); }
        .badge.calculated-badge { background: rgba(59, 130, 246, 0.15); color: var(--accent-blue); }

        /* Info Boxes */
        .exception-box, .tip-box, .info-box {
            padding: 18px 22px;
            margin: 18px 0;
            border-radius: 0 10px 10px 0;
            border-left-width: 4px;
            border-left-style: solid;
        }

        .exception-box { background: rgba(244, 63, 94, 0.08); border-color: var(--accent-rose); border: 1px solid rgba(244, 63, 94, 0.2); border-left: 4px solid var(--accent-rose); }
        .exception-box h4 { color: var(--accent-rose); margin-bottom: 10px; font-size: 1rem; }
        .exception-box p, .exception-box li { color: var(--text-secondary); }

        .tip-box { background: rgba(34, 197, 94, 0.08); border-color: var(--accent-green); border: 1px solid rgba(34, 197, 94, 0.2); border-left: 4px solid var(--accent-green); }
        .tip-box h4 { color: var(--accent-green); margin-bottom: 10px; font-size: 1rem; }
        .tip-box p, .tip-box li { color: var(--text-secondary); }

        .info-box { background: rgba(59, 130, 246, 0.08); border-color: var(--accent-blue); border: 1px solid rgba(59, 130, 246, 0.2); border-left: 4px solid var(--accent-blue); }
        .info-box h4 { color: var(--accent-blue); margin-bottom: 10px; font-size: 1rem; }
        .info-box p, .info-box li { color: var(--text-secondary); }

        /* Checklist Items */
        .checklist {
            list-style: none;
            padding: 0;
            margin: 18px 0;
        }

        .checklist li {
            padding: 14px 18px;
            border-left: 3px solid var(--accent-blue);
            background: rgba(0,0,0,0.2);
            margin-bottom: 10px;
            border-radius: 0 8px 8px 0;
            color: var(--text-secondary);
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }

        .checklist li strong { color: var(--text-primary); }

        .checklist-icon {
            width: 22px;
            height: 22px;
            border-radius: 4px;
            border: 2px solid var(--accent-blue);
            flex-shrink: 0;
            margin-top: 2px;
        }

        /* Step List */
        .step-list { list-style: none; padding: 0; margin: 18px 0; }
        .step-list li {
            padding: 14px 18px;
            border-left: 3px solid var(--accent-blue);
            background: rgba(0,0,0,0.2);
            margin-bottom: 10px;
            border-radius: 0 8px 8px 0;
            color: var(--text-secondary);
        }
        .step-list li strong { color: var(--text-primary); }

        /* Summary Grid */
        .summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 18px; margin: 22px 0; }

        .summary-card { background: rgba(0,0,0,0.3); border: 1px solid var(--border-subtle); border-radius: 12px; padding: 22px; text-align: center; }
        .summary-card h4 { color: var(--text-secondary); margin-bottom: 12px; font-size: 0.9rem; }
        .summary-card .value {
            font-size: 2.2rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .summary-card .label { font-size: 0.85rem; color: var(--text-muted); margin-top: 8px; }

        /* Quick Reference */
        .quick-ref {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-card) 100%);
            border: 1px solid var(--border-subtle);
            padding: 28px;
            border-radius: 16px;
            margin-top: 30px;
            font-family: 'JetBrains Mono', monospace;
            scroll-margin-top: 75px;
        }

        .quick-ref h3 { color: var(--accent-amber); margin-bottom: 18px; font-family: 'Plus Jakarta Sans', sans-serif; }
        .quick-ref pre { background: rgba(0,0,0,0.4); border: 1px solid var(--border-subtle); padding: 20px; border-radius: 10px; overflow-x: auto; font-size: 0.85rem; line-height: 1.7; color: var(--text-secondary); }

        /* ====== AGENT OPPORTUNITIES STYLES ====== */
        .agent-header {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            padding: 35px;
            border-radius: 16px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .agent-header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background:
                radial-gradient(ellipse at 20% 20%, rgba(139, 92, 246, 0.12) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(245, 158, 11, 0.1) 0%, transparent 50%);
            pointer-events: none;
        }

        .agent-header h1 {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 10px;
            position: relative;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-header .subtitle { color: var(--text-secondary); font-size: 1.1rem; position: relative; }

        /* Heat Map */
        .heat-map-container { margin-bottom: 35px; }
        .heat-map-title { font-size: 1.3rem; font-weight: 700; color: var(--text-primary); margin-bottom: 20px; display: flex; align-items: center; gap: 12px; }

        .heat-map-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .heat-item {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 20px;
            position: relative;
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
        }

        .heat-item:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .heat-item:active { transform: scale(0.98); }

        .heat-item::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; height: 4px;
        }

        .heat-item.critical::before { background: linear-gradient(90deg, #ef4444, #f97316); }
        .heat-item.high::before { background: linear-gradient(90deg, #f97316, #eab308); }
        .heat-item.medium::before { background: linear-gradient(90deg, #eab308, #22c55e); }
        .heat-item.low::before { background: linear-gradient(90deg, #22c55e, #14b8a6); }

        .heat-score {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.8rem;
            font-weight: 800;
        }

        .heat-item.critical .heat-score { color: #ef4444; }
        .heat-item.high .heat-score { color: #f97316; }
        .heat-item.medium .heat-score { color: #eab308; }
        .heat-item.low .heat-score { color: #22c55e; }

        .heat-name { font-size: 1rem; font-weight: 700; color: var(--text-primary); margin-bottom: 6px; padding-right: 50px; }
        .heat-desc { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px; }

        .heat-metrics { display: flex; gap: 15px; margin-top: 12px; }
        .heat-metric { font-size: 0.75rem; color: var(--text-muted); }
        .heat-metric span { color: var(--text-secondary); font-weight: 600; }

        /* Agent Cards */
        .agent-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)); gap: 25px; margin-bottom: 35px; }

        .agent-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .agent-card:hover { transform: translateY(-5px); box-shadow: 0 15px 50px rgba(0,0,0,0.3); }

        .agent-card.highlight {
            animation: highlightPulse 2s ease;
            box-shadow: 0 0 0 3px var(--accent-purple), 0 15px 50px rgba(139, 92, 246, 0.4);
        }

        @keyframes highlightPulse {
            0% { box-shadow: 0 0 0 3px var(--accent-purple), 0 15px 50px rgba(139, 92, 246, 0.6); }
            50% { box-shadow: 0 0 0 6px rgba(139, 92, 246, 0.5), 0 15px 50px rgba(139, 92, 246, 0.3); }
            100% { box-shadow: 0 0 0 0px transparent, 0 15px 50px rgba(0,0,0,0.3); }
        }

        .agent-card-header {
            padding: 22px;
            display: flex;
            align-items: flex-start;
            gap: 18px;
            border-bottom: 1px solid var(--border-subtle);
        }

        .agent-icon {
            width: 55px;
            height: 55px;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.6rem;
            flex-shrink: 0;
        }

        .agent-info { flex: 1; }
        .agent-name { font-size: 1.15rem; font-weight: 700; color: var(--text-primary); margin-bottom: 5px; }
        .agent-type { font-size: 0.8rem; color: var(--accent-purple); font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }

        .agent-priority {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
        }

        .agent-priority.critical { background: rgba(239, 68, 68, 0.15); color: #ef4444; }
        .agent-priority.high { background: rgba(249, 115, 22, 0.15); color: #f97316; }
        .agent-priority.medium { background: rgba(234, 179, 8, 0.15); color: #eab308; }
        .agent-priority.low { background: rgba(34, 197, 94, 0.15); color: #22c55e; }

        .agent-card-body { padding: 22px; }
        .agent-description { font-size: 0.95rem; color: var(--text-secondary); line-height: 1.6; margin-bottom: 20px; }

        .agent-flow {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            padding: 18px;
            margin-bottom: 20px;
        }

        .agent-flow-title { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }

        .agent-flow-diagram { display: flex; align-items: center; flex-wrap: wrap; gap: 8px; justify-content: center; }

        .agent-step {
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
            color: white;
            padding: 8px 14px;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 600;
            white-space: nowrap;
        }

        .agent-arrow { color: var(--accent-purple); font-size: 1.2rem; }

        .agent-stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }

        .agent-stat {
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            padding: 12px;
            text-align: center;
        }

        .agent-stat-value {
            font-size: 1.3rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-stat-label { font-size: 0.7rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.05em; margin-top: 4px; }

        /* View Prompt Button */
        .agent-prompt-btn {
            width: 100%;
            margin-top: 18px;
            padding: 14px 20px;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(59, 130, 246, 0.2) 100%);
            border: 1px solid rgba(139, 92, 246, 0.4);
            border-radius: 10px;
            color: var(--accent-purple);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-size: 0.9rem;
        }

        .agent-prompt-btn:hover {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.3) 0%, rgba(59, 130, 246, 0.3) 100%);
            border-color: var(--accent-purple);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.25);
        }

        /* Summary Stats */
        .agent-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 35px;
        }

        .agent-summary-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 14px;
            padding: 25px;
            text-align: center;
        }

        .agent-summary-value {
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-summary-label { font-size: 0.9rem; color: var(--text-muted); margin-top: 8px; }

        /* Heat Map Legend */
        .heat-legend {
            display: flex;
            gap: 25px;
            padding: 18px 22px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .heat-legend-item { display: flex; align-items: center; gap: 10px; font-size: 0.9rem; color: var(--text-secondary); }
        .heat-legend-color { width: 24px; height: 24px; border-radius: 6px; }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(10, 15, 26, 0.9);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            padding: 20px;
            backdrop-filter: blur(5px);
        }

        .modal-overlay.show { display: flex; }

        .modal {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            width: 100%;
            max-width: 950px;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
            box-shadow: 0 25px 80px rgba(0,0,0,0.5);
        }

        .modal-header {
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            padding: 22px 28px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 16px 16px 0 0;
        }

        .modal-header h3 { font-size: 1.25rem; font-weight: 700; }
        .modal-actions { display: flex; gap: 12px; }

        .modal-btn {
            padding: 10px 18px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 700;
            transition: transform 0.2s;
            font-size: 0.9rem;
        }

        .modal-btn:hover { transform: scale(1.05); }
        .modal-btn.copy { background: white; color: var(--accent-blue); }
        .modal-btn.close { background: rgba(255,255,255,0.2); color: white; }

        .modal-body { padding: 28px; overflow-y: auto; flex: 1; }

        .modal-body pre {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            padding: 22px;
            border-radius: 10px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            line-height: 1.7;
            white-space: pre-wrap;
            word-wrap: break-word;
            color: var(--text-secondary);
        }

        .copy-success {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--accent-green);
            color: white;
            padding: 18px 35px;
            border-radius: 10px;
            font-weight: 700;
            z-index: 3000;
            display: none;
            animation: fadeInOut 2s ease;
        }

        @keyframes fadeInOut { 0%, 100% { opacity: 0; } 10%, 90% { opacity: 1; } }

        /* Prompt Modal */
        .prompt-modal .modal { max-width: 800px; }
        .prompt-modal .modal-header { background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%); }

        .prompt-section { margin-bottom: 25px; }
        .prompt-section h4 { color: var(--accent-purple); font-size: 1rem; margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }

        .prompt-box {
            background: rgba(0,0,0,0.4);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            padding: 20px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            line-height: 1.7;
            color: var(--text-secondary);
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .prompt-tags { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 20px; }
        .prompt-tag { background: rgba(139, 92, 246, 0.15); color: var(--accent-purple); padding: 6px 14px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; }

        @media (max-width: 900px) {
            .sidebar { display: none; }
            .main-content { margin-left: 0; padding: 75px 20px 30px 20px; }
            .agent-grid { grid-template-columns: 1fr; }
        }
            .breadcrumb-logo-link { display: flex; align-items: center; padding: 4px 8px; background: rgba(255,255,255,0.08); border-radius: 8px; border: 1px solid rgba(255,255,255,0.12); transition: all 0.2s; }
        .breadcrumb-logo-link:hover { background: rgba(255,255,255,0.15); }
        .breadcrumb-logo { height: 28px; width: auto; }
    </style>
</head>
<body>
    <!-- Breadcrumb -->
    <nav class="breadcrumb">
        <a href="../../index.html" class="breadcrumb-logo-link"><img src="../../images/clear-ai-logo.png" alt="Clear AI" class="breadcrumb-logo"></a>
        <a href="../../index.html">Portal Home</a>
        <span class="separator">></span>
        <a href="./index.html">Mortgage Fundamentals</a>
        <span class="separator">></span>
        <span class="current">New Homeowner Checklist</span>
    </nav>

    <!-- Fixed Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <h2>New Homeowner Guide</h2>
            <p>First-Time Homebuyer Checklist</p>
        </div>

        <!-- Tab Switcher -->
        <div class="sidebar-tabs">
            <button class="sidebar-tab active" onclick="switchTab('workflow')">Workflow</button>
            <button class="sidebar-tab agent-tab" onclick="switchTab('agents')">AI Agents</button>
        </div>

        <!-- Workflow Navigation -->
        <nav class="sidebar-nav" id="workflow-nav">
            <a href="#section-1" class="nav-item active">
                <span class="nav-number">1</span>
                <span class="nav-label">Overview</span>
            </a>
            <a href="#section-2" class="nav-item">
                <span class="nav-number">2</span>
                <span class="nav-label">Key Address Updates</span>
            </a>
            <a href="#section-3" class="nav-item">
                <span class="nav-number">3</span>
                <span class="nav-label">Moving Essentials</span>
            </a>
            <a href="#section-4" class="nav-item">
                <span class="nav-number">4</span>
                <span class="nav-label">Financial Setup</span>
            </a>
            <a href="#section-5" class="nav-item">
                <span class="nav-number">5</span>
                <span class="nav-label">Home Preparation</span>
            </a>
            <a href="#section-6" class="nav-item">
                <span class="nav-number">6</span>
                <span class="nav-label">Community Integration</span>
            </a>
            <a href="#quick-ref" class="nav-item">
                <span class="nav-number">*</span>
                <span class="nav-label">Quick Reference</span>
            </a>
        </nav>

        <!-- Agent Navigation -->
        <nav class="sidebar-nav" id="agents-nav" style="display: none;">
            <a href="#agent-summary" class="nav-item active">
                <span class="nav-number">S</span>
                <span class="nav-label">Summary</span>
            </a>
            <a href="#agent-heatmap" class="nav-item">
                <span class="nav-number">H</span>
                <span class="nav-label">Heat Map</span>
            </a>
            <a href="#agent-details" class="nav-item">
                <span class="nav-number">A</span>
                <span class="nav-label">Agent Details</span>
            </a>
        </nav>

        <div class="sidebar-footer">
            <button class="doc-btn" onclick="openDocModal()">
                View Workflow Markdown
            </button>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">

        <!-- ==================== WORKFLOW TAB ==================== -->
        <div id="workflow-panel" class="tab-panel active">
            <!-- Header -->
            <div class="header">
                <h1>New Homeowner Checklist</h1>
                <p class="subtitle">Complete guide for first-time homebuyers to transition smoothly into their new home after closing</p>
                <div class="meta">
                    <span class="meta-item">Source: Enact Mortgage Insurance</span>
                    <span class="meta-item">Audience: First-Time Homebuyers</span>
                    <span class="meta-item">Timeline: Post-Closing</span>
                    <span class="meta-item">Categories: 2 Main Areas</span>
                </div>
            </div>

            <!-- Legend -->
            <div class="legend">
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #22c55e, #16a34a);"></div><span>Immediate Priority</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #3b82f6, #2563eb);"></div><span>Address Update</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #f59e0b, #d97706);"></div><span>Financial Task</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #14b8a6, #0d9488);"></div><span>Home Setup</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #8b5cf6, #7c3aed);"></div><span>Community</span></div>
            </div>

            <!-- Section 1: Overview -->
            <section id="section-1" class="section">
                <div class="section-header">
                    <div class="section-number">1</div>
                    <div class="section-title"><h2>Overview</h2><span>Understanding the post-closing homeowner journey</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node start">Close on House</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Update Addresses</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Complete Move</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Settle In</div>
                        </div>
                    </div>
                    <div class="info-box">
                        <h4>What This Checklist Covers</h4>
                        <p>Once you close on your house, you're not done yet! For starters, you'll still have to move, update your new address in various places, and make sure you're prepared to live in your new home. This checklist helps you navigate the small details so you can ease into your new home faster.</p>
                    </div>

                    <div class="summary-grid">
                        <div class="summary-card">
                            <h4>Address Updates</h4>
                            <div class="value">12</div>
                            <div class="label">Items to Update</div>
                        </div>
                        <div class="summary-card">
                            <h4>Moving Tasks</h4>
                            <div class="value">10</div>
                            <div class="label">Essentials</div>
                        </div>
                        <div class="summary-card">
                            <h4>Timeline</h4>
                            <div class="value">2-4</div>
                            <div class="label">Weeks to Complete</div>
                        </div>
                        <div class="summary-card">
                            <h4>Priority</h4>
                            <div class="value">High</div>
                            <div class="label">Utilities First</div>
                        </div>
                    </div>

                    <div class="tip-box">
                        <h4>Private Mortgage Insurance Tip</h4>
                        <p>Homeownership doesn't have to be a dream. Private mortgage insurance can get you into a house faster with less than a 20% down payment. Talk to your loan officer to learn more about the value of mortgage insurance from Enact.</p>
                    </div>
                </div>
            </section>

            <!-- Section 2: Key Address Updates -->
            <section id="section-2" class="section">
                <div class="section-header">
                    <div class="section-number">2</div>
                    <div class="section-title"><h2>Key Address Updates</h2><span>Essential address changes to make after closing</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node start">Start Address Updates</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Utilities & Mail</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Government IDs</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Financial Accounts</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Services & Medical</div>
                        </div>
                    </div>

                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Task</th>
                                <th>Description</th>
                                <th>Priority</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Utilities Setup</strong></td>
                                <td>Move over/set up utilities for new address (energy, water, gas, internet, cable, etc.)</td>
                                <td><span class="badge required-badge">Immediate</span></td>
                            </tr>
                            <tr>
                                <td><strong>USPS Address Change</strong></td>
                                <td>Update your mailing address with USPS (including forwarding address updates)</td>
                                <td><span class="badge required-badge">Immediate</span></td>
                            </tr>
                            <tr>
                                <td><strong>ID/Driver's License</strong></td>
                                <td>Update your ID or driver's license with new address</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Vehicle Registration</strong></td>
                                <td>Update your car registration and insurance with new address</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Voter Registration</strong></td>
                                <td>Update your voter registration for any needed address changes</td>
                                <td><span class="badge optional-badge">Important</span></td>
                            </tr>
                            <tr>
                                <td><strong>Bank Accounts</strong></td>
                                <td>Update your address on your bank and investment services accounts</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Credit Cards</strong></td>
                                <td>Update your address on your credit card accounts</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Employer</strong></td>
                                <td>Update new address for your employer (HR/payroll records)</td>
                                <td><span class="badge required-badge">Required</span></td>
                            </tr>
                            <tr>
                                <td><strong>Medical Providers</strong></td>
                                <td>Find doctors and reliable professionals around you or update your new address in your online medical portals</td>
                                <td><span class="badge optional-badge">Important</span></td>
                            </tr>
                            <tr>
                                <td><strong>Subscriptions</strong></td>
                                <td>Transfer subscription services to your new address (magazines, delivery services, etc.)</td>
                                <td><span class="badge optional-badge">Optional</span></td>
                            </tr>
                            <tr>
                                <td><strong>School Registration</strong></td>
                                <td>Register your child(ren) to a school within your area</td>
                                <td><span class="badge required-badge">If Applicable</span></td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="exception-box">
                        <h4>Time-Sensitive Updates</h4>
                        <p>Some address updates have legal deadlines. Most states require driver's license updates within 30-60 days of moving. Vehicle registration deadlines vary by state. Check your local DMV requirements to avoid penalties.</p>
                    </div>
                </div>
            </section>

            <!-- Section 3: Moving/Post-Moving Essentials -->
            <section id="section-3" class="section">
                <div class="section-header">
                    <div class="section-number">3</div>
                    <div class="section-title"><h2>Moving/Post-Moving Essentials</h2><span>Tasks to complete during and after your move</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node start">Moving Day</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Organize & Unpack</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Safety Setup</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Stock & Settle</div>
                        </div>
                    </div>

                    <ul class="checklist">
                        <li>
                            <div class="checklist-icon"></div>
                            <div><strong>Pet Sitter/Arrangements:</strong> Line up a pet sitter (or other arrangements) for moving day to reduce stress for your furry friends</div>
                        </li>
                        <li>
                            <div class="checklist-icon"></div>
                            <div><strong>Organized Unpacking:</strong> Organize and unpack your moving boxes by rooms - label boxes clearly and unpack essentials first</div>
                        </li>
                        <li>
                            <div class="checklist-icon"></div>
                            <div><strong>Child-Proof & Pet-Proof:</strong> Child-proof and pet-proof your new space to ensure safety for all family members</div>
                        </li>
                        <li>
                            <div class="checklist-icon"></div>
                            <div><strong>Security System:</strong> Purchase a security system that fits your home's needs for peace of mind</div>
                        </li>
                        <li>
                            <div class="checklist-icon"></div>
                            <div><strong>Cleaning Supplies:</strong> Purchase cleaning supplies that fit your new home's needs (different surfaces, sizes, etc.)</div>
                        </li>
                        <li>
                            <div class="checklist-icon"></div>
                            <div><strong>Stock Kitchen:</strong> Stock up your pantry, fridge, freezer, and cabinets with essentials</div>
                        </li>
                    </ul>

                    <div class="tip-box">
                        <h4>Moving Day Pro Tips</h4>
                        <ul style="margin-top: 10px; margin-left: 20px;">
                            <li>Pack an "essentials" box with items you'll need immediately (toiletries, phone chargers, snacks, medications)</li>
                            <li>Take photos of electronics setups before unplugging</li>
                            <li>Keep important documents with you, not in the moving truck</li>
                            <li>Label boxes on multiple sides for easy identification</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Section 4: Financial Setup -->
            <section id="section-4" class="section">
                <div class="section-header">
                    <div class="section-number">4</div>
                    <div class="section-title"><h2>Financial Setup</h2><span>Set up payments and financial management for homeownership</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node action">Review Monthly Expenses</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node decision">Autopay Setup?</div>
                        </div>
                        <div class="decision-branch">
                            <div class="branch">
                                <span class="branch-label">YES</span>
                                <div class="flow-node output">Set Up Autopay</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">NO</span>
                                <div class="flow-node action">Create Payment Calendar</div>
                            </div>
                        </div>
                    </div>

                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Expense Category</th>
                                <th>Description</th>
                                <th>Recommendation</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Mortgage Payment</strong></td>
                                <td>Monthly principal, interest, and escrow payment</td>
                                <td><span class="badge calculated-badge">Autopay Recommended</span></td>
                            </tr>
                            <tr>
                                <td><strong>HOA Fees</strong></td>
                                <td>Homeowners Association dues (if applicable)</td>
                                <td><span class="badge calculated-badge">Autopay Recommended</span></td>
                            </tr>
                            <tr>
                                <td><strong>Property Taxes</strong></td>
                                <td>May be escrowed or paid separately</td>
                                <td><span class="badge optional-badge">Check Escrow</span></td>
                            </tr>
                            <tr>
                                <td><strong>Homeowner's Insurance</strong></td>
                                <td>Annual premium for home protection</td>
                                <td><span class="badge optional-badge">Often Escrowed</span></td>
                            </tr>
                            <tr>
                                <td><strong>Utilities</strong></td>
                                <td>Electric, gas, water, sewer, trash</td>
                                <td><span class="badge calculated-badge">Autopay Recommended</span></td>
                            </tr>
                            <tr>
                                <td><strong>Internet/Cable</strong></td>
                                <td>Communication and entertainment services</td>
                                <td><span class="badge optional-badge">Optional Autopay</span></td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="info-box">
                        <h4>Autopay Benefits</h4>
                        <p>Consider autopay to stay on top of monthly home payments and expenses. Autopay helps ensure you never miss a payment, which protects your credit score and avoids late fees. Many servicers offer interest rate discounts for enrolling in autopay.</p>
                    </div>
                </div>
            </section>

            <!-- Section 5: Home Preparation -->
            <section id="section-5" class="section">
                <div class="section-header">
                    <div class="section-number">5</div>
                    <div class="section-title"><h2>Home Preparation</h2><span>Getting your new home ready for comfortable living</span></div>
                </div>
                <div class="section-content">
                    <ul class="step-list">
                        <li><strong>Security Assessment:</strong> Evaluate your home's security needs and purchase appropriate security system components (cameras, sensors, smart locks, monitoring service)</li>
                        <li><strong>Safety Proofing:</strong> Child-proof and pet-proof your new space including outlet covers, cabinet locks, baby gates, and removing hazardous items from reach</li>
                        <li><strong>Cleaning Supplies:</strong> Purchase cleaning supplies appropriate for your home's surfaces (hardwood floors, tile, carpet, stainless steel, etc.)</li>
                        <li><strong>Kitchen Setup:</strong> Stock up your pantry, fridge, freezer, and cabinets with groceries and cooking essentials</li>
                        <li><strong>Emergency Kit:</strong> Create a home emergency kit with flashlights, batteries, first aid supplies, and important documents</li>
                        <li><strong>Change Locks:</strong> Consider changing locks or re-keying for security (you don't know who has copies of existing keys)</li>
                    </ul>

                    <div class="tip-box">
                        <h4>First Week Priorities</h4>
                        <ul style="margin-top: 10px; margin-left: 20px;">
                            <li>Locate main water shut-off valve</li>
                            <li>Find electrical panel and label breakers</li>
                            <li>Test smoke detectors and replace batteries</li>
                            <li>Check carbon monoxide detectors</li>
                            <li>Locate gas shut-off (if applicable)</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Section 6: Community Integration -->
            <section id="section-6" class="section">
                <div class="section-header">
                    <div class="section-number">6</div>
                    <div class="section-title"><h2>Community Integration</h2><span>Building connections in your new neighborhood</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node start">Move In Complete</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Meet Neighbors</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Thank Your Team</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Celebrate!</div>
                        </div>
                    </div>

                    <ul class="checklist">
                        <li>
                            <div class="checklist-icon"></div>
                            <div><strong>Meet Your Neighbors:</strong> Introduce yourself to neighbors - they can be invaluable resources for local information, recommendations, and building community</div>
                        </li>
                        <li>
                            <div class="checklist-icon"></div>
                            <div><strong>Thank Your Realtor:</strong> Buy a gift for your Realtor or Real Estate Agent who helped make your homeownership dream come true</div>
                        </li>
                        <li>
                            <div class="checklist-icon"></div>
                            <div><strong>Housewarming Celebration:</strong> Invite family and friends over to celebrate once you're settled - you've earned it!</div>
                        </li>
                    </ul>

                    <div class="info-box">
                        <h4>Building Community Connections</h4>
                        <ul style="margin-top: 10px; margin-left: 20px;">
                            <li>Join neighborhood social media groups or apps (Nextdoor, Facebook groups)</li>
                            <li>Attend HOA meetings if applicable</li>
                            <li>Introduce yourself when you see neighbors outside</li>
                            <li>Find local service providers (plumbers, electricians, landscapers) through neighbor recommendations</li>
                            <li>Explore local parks, shops, and community centers</li>
                        </ul>
                    </div>

                    <div class="tip-box">
                        <h4>You Did It!</h4>
                        <p>Congratulations on your new home! Take time to celebrate this significant milestone. Homeownership is a major achievement and the beginning of an exciting new chapter.</p>
                    </div>
                </div>
            </section>

            <!-- Quick Reference -->
            <div id="quick-ref" class="quick-ref">
                <h3>New Homeowner Quick Reference</h3>
                <pre>
NEW HOMEOWNER CHECKLIST SUMMARY
===============================

KEY ADDRESS UPDATES (First 1-2 Weeks)
=====================================
[ ] Move over/set up utilities (energy, water, gas, internet, cable)
[ ] Update mailing address with USPS (set up forwarding)
[ ] Update ID or driver's license
[ ] Update car registration and insurance
[ ] Update voter registration
[ ] Update address on bank accounts
[ ] Update address on investment accounts
[ ] Update address on credit card accounts
[ ] Update address with employer
[ ] Find new doctors or update medical portals
[ ] Transfer subscription services
[ ] Register children at local schools (if applicable)

MOVING/POST-MOVING ESSENTIALS
=============================
[ ] Line up pet sitter for moving day
[ ] Organize and unpack boxes by room
[ ] Set up autopay for mortgage and recurring bills
[ ] Child-proof and pet-proof your space
[ ] Purchase security system
[ ] Purchase cleaning supplies for new home
[ ] Stock pantry, fridge, freezer, cabinets
[ ] Buy a gift for your Realtor/Agent
[ ] Meet your neighbors!
[ ] Invite family and friends to celebrate

FINANCIAL SETUP CHECKLIST
=========================
[ ] Mortgage payment - Set up autopay
[ ] HOA fees (if applicable) - Set up autopay
[ ] Property taxes - Verify if escrowed
[ ] Homeowner's insurance - Verify if escrowed
[ ] All utilities - Consider autopay
[ ] Create budget for home maintenance fund

FIRST WEEK HOME PRIORITIES
==========================
[ ] Locate main water shut-off valve
[ ] Find electrical panel, label breakers
[ ] Test smoke detectors
[ ] Test carbon monoxide detectors
[ ] Locate gas shut-off (if applicable)
[ ] Consider changing/re-keying locks
[ ] Create home emergency kit

ABOUT PRIVATE MORTGAGE INSURANCE
================================
Private mortgage insurance (PMI) can help you:
- Get into a house faster
- Purchase with less than 20% down payment
- Build equity while you own

Contact your loan officer to learn more about
the value of mortgage insurance from Enact.

Source: Enact Mortgage Insurance
Document: 01756.CB.0323
                </pre>
            </div>
        </div>

        <!-- ==================== AI AGENTS TAB ==================== -->
        <div id="agents-panel" class="tab-panel">
            <!-- Agent Header -->
            <div class="agent-header">
                <h1>AI Agent Opportunities</h1>
                <p class="subtitle">Automation opportunities identified for the New Homeowner Checklist process</p>
            </div>

            <!-- Summary Stats -->
            <div class="agent-summary" id="agent-summary">
                <div class="agent-summary-card">
                    <div class="agent-summary-value">4</div>
                    <div class="agent-summary-label">Agent Opportunities</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">65%</div>
                    <div class="agent-summary-label">Automation Potential</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">3 hrs</div>
                    <div class="agent-summary-label">Est. Time Saved</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">High</div>
                    <div class="agent-summary-label">Borrower Experience</div>
                </div>
            </div>

            <!-- Heat Map Legend -->
            <div class="heat-legend">
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(90deg, #ef4444, #f97316);"></div>
                    <span>Critical Priority (9-10)</span>
                </div>
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(90deg, #f97316, #eab308);"></div>
                    <span>High Priority (7-8)</span>
                </div>
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(90deg, #eab308, #22c55e);"></div>
                    <span>Medium Priority (5-6)</span>
                </div>
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(90deg, #22c55e, #14b8a6);"></div>
                    <span>Low Priority (1-4)</span>
                </div>
            </div>

            <!-- Heat Map Grid -->
            <div class="heat-map-container" id="agent-heatmap">
                <div class="heat-map-title">Priority Heat Map</div>
                <div class="heat-map-grid">
                    <div class="heat-item high" onclick="scrollToAgent('agent-addresschange')">
                        <div class="heat-score">8.5</div>
                        <div class="heat-name">Address Change Agent</div>
                        <div class="heat-desc">Automate multi-service address updates</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Time: <span>2 hrs</span></div>
                            <div class="heat-metric">Complexity: <span>Medium</span></div>
                        </div>
                    </div>
                    <div class="heat-item high" onclick="scrollToAgent('agent-utilitysetup')">
                        <div class="heat-score">8.0</div>
                        <div class="heat-name">Utility Setup Agent</div>
                        <div class="heat-desc">Coordinate utility transfers and setup</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Time: <span>45 min</span></div>
                            <div class="heat-metric">Complexity: <span>Medium</span></div>
                        </div>
                    </div>
                    <div class="heat-item medium" onclick="scrollToAgent('agent-checklisttracker')">
                        <div class="heat-score">6.5</div>
                        <div class="heat-name">Checklist Tracker</div>
                        <div class="heat-desc">Track and remind on checklist completion</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Time: <span>N/A</span></div>
                            <div class="heat-metric">Complexity: <span>Low</span></div>
                        </div>
                    </div>
                    <div class="heat-item low" onclick="scrollToAgent('agent-neighborhood')">
                        <div class="heat-score">4.0</div>
                        <div class="heat-name">Neighborhood Guide</div>
                        <div class="heat-desc">Generate local service recommendations</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Time: <span>30 min</span></div>
                            <div class="heat-metric">Complexity: <span>Low</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Agent Details -->
            <div id="agent-details">
                <h2 style="color: var(--text-primary); margin-bottom: 25px; font-size: 1.5rem;">Agent Details</h2>
                <div class="agent-grid">
                    <!-- Address Change Agent -->
                    <div class="agent-card" id="agent-addresschange">
                        <div class="agent-card-header">
                            <div class="agent-icon">A</div>
                            <div class="agent-info">
                                <div class="agent-name">Address Change Agent</div>
                                <div class="agent-type">Multi-Service Integration</div>
                            </div>
                            <span class="agent-priority high">High</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">Automatically initiates address change requests across multiple services including USPS, DMV, banks, credit cards, and subscription services. Uses verified APIs and secure connections to update addresses in batch, saving borrowers hours of manual updates.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Flow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">Closing Data</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Verify Address</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Update Services</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Confirm Changes</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">2 hrs</div>
                                    <div class="agent-stat-label">Time Saved</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">90%</div>
                                    <div class="agent-stat-label">Accuracy</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">Med</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('addresschange')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>

                    <!-- Utility Setup Agent -->
                    <div class="agent-card" id="agent-utilitysetup">
                        <div class="agent-card-header">
                            <div class="agent-icon">U</div>
                            <div class="agent-info">
                                <div class="agent-name">Utility Setup Agent</div>
                                <div class="agent-type">Service Coordination</div>
                            </div>
                            <span class="agent-priority high">High</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">Coordinates utility transfers and new service setup based on closing date and property address. Identifies local utility providers, initiates service requests, and schedules connection appointments to ensure utilities are ready on move-in day.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Flow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">Property Address</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Identify Providers</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Schedule Setup</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Confirm Active</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">45 min</div>
                                    <div class="agent-stat-label">Time Saved</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">95%</div>
                                    <div class="agent-stat-label">Accuracy</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">Med</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('utilitysetup')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>

                    <!-- Checklist Tracker Agent -->
                    <div class="agent-card" id="agent-checklisttracker">
                        <div class="agent-card-header">
                            <div class="agent-icon">T</div>
                            <div class="agent-info">
                                <div class="agent-name">Checklist Tracker</div>
                                <div class="agent-type">Progress Monitoring</div>
                            </div>
                            <span class="agent-priority medium">Medium</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">Sends personalized reminders to new homeowners for pending checklist items based on their closing date. Tracks completion progress, sends encouraging messages, and provides deadline alerts for time-sensitive tasks like DMV updates.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Flow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">Track Items</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Check Deadlines</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Send Reminders</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Log Progress</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">N/A</div>
                                    <div class="agent-stat-label">Time Saved</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">99%</div>
                                    <div class="agent-stat-label">Accuracy</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">Low</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('checklisttracker')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>

                    <!-- Neighborhood Guide Agent -->
                    <div class="agent-card" id="agent-neighborhood">
                        <div class="agent-card-header">
                            <div class="agent-icon">N</div>
                            <div class="agent-info">
                                <div class="agent-name">Neighborhood Guide</div>
                                <div class="agent-type">Local Discovery</div>
                            </div>
                            <span class="agent-priority low">Low</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">Generates personalized neighborhood guides including local services, healthcare providers, schools, shopping, and community resources based on the new property address. Helps homeowners quickly integrate into their new community.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Flow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">Property Location</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Search Services</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Compile Guide</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Deliver PDF</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">30 min</div>
                                    <div class="agent-stat-label">Time Saved</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">85%</div>
                                    <div class="agent-stat-label">Accuracy</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">Low</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('neighborhood')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Documentation Modal -->
    <div class="modal-overlay" id="docModal">
        <div class="modal">
            <div class="modal-header">
                <h3>New Homeowner Checklist Documentation</h3>
                <div class="modal-actions">
                    <button class="modal-btn copy" onclick="copyToClipboard()">Copy</button>
                    <button class="modal-btn close" onclick="closeDocModal()">Close</button>
                </div>
            </div>
            <div class="modal-body">
                <pre id="docContent"># New Homeowner Checklist - First-Time Homebuyer Guide

## Overview
Once you close on your house, you're not done yet! This checklist helps you navigate
the essential tasks for transitioning into your new home.

## Key Address Updates

### Immediate Priority
- Move over/set up utilities (energy, water, gas, internet, cable)
- Update mailing address with USPS (set up forwarding)

### Government/Legal
- Update ID or driver's license
- Update car registration and insurance
- Update voter registration

### Financial Accounts
- Bank accounts
- Investment accounts
- Credit card accounts
- Employer payroll records

### Services
- Medical providers/portals
- Subscription services
- School registration (if applicable)

## Moving/Post-Moving Essentials

### Moving Day
- Line up pet sitter for moving day
- Organize and unpack boxes by room

### Financial Setup
- Set up autopay for mortgage, HOA fees, utilities
- Verify property taxes and insurance escrow

### Home Preparation
- Child-proof and pet-proof your space
- Purchase security system
- Purchase appropriate cleaning supplies
- Stock pantry, fridge, freezer, cabinets

### Community
- Meet your neighbors
- Buy a gift for your Realtor/Agent
- Invite family and friends to celebrate

## About Private Mortgage Insurance
Private mortgage insurance can get you into a house faster with less than
a 20% down payment. Talk to your loan officer to learn more.

Source: Enact Mortgage Insurance (01756.CB.0323)</pre>
            </div>
        </div>
    </div>

    <!-- AI Prompt Modal -->
    <div class="modal-overlay prompt-modal" id="promptModal">
        <div class="modal">
            <div class="modal-header">
                <h3 id="promptModalTitle">AI Agent Build Prompt</h3>
                <div class="modal-actions">
                    <button class="modal-btn copy" onclick="copyPromptToClipboard()">Copy Prompt</button>
                    <button class="modal-btn close" onclick="closePromptModal()">Close</button>
                </div>
            </div>
            <div class="modal-body">
                <div class="prompt-tags" id="promptTags"></div>
                <div class="prompt-section">
                    <h4>Agent Purpose</h4>
                    <div class="prompt-box" id="promptPurpose"></div>
                </div>
                <div class="prompt-section">
                    <h4>Full Build Prompt</h4>
                    <div class="prompt-box" id="promptContent"></div>
                </div>
                <div class="prompt-section">
                    <h4>Integration Points</h4>
                    <div class="prompt-box" id="promptIntegration"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="copy-success" id="copySuccess">Copied to clipboard!</div>

    <script>
        // Tab switching
        function switchTab(tab) {
            document.querySelectorAll('.sidebar-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));

            if (tab === 'workflow') {
                document.querySelector('.sidebar-tab:not(.agent-tab)').classList.add('active');
                document.getElementById('workflow-panel').classList.add('active');
                document.getElementById('workflow-nav').style.display = 'block';
                document.getElementById('agents-nav').style.display = 'none';
            } else {
                document.querySelector('.sidebar-tab.agent-tab').classList.add('active');
                document.getElementById('agents-panel').classList.add('active');
                document.getElementById('workflow-nav').style.display = 'none';
                document.getElementById('agents-nav').style.display = 'block';
            }

            window.scrollTo(0, 0);
        }

        // Scroll spy with isScrolling flag and 1000ms timeout
        const sections = document.querySelectorAll('.section, .quick-ref');
        const navItems = document.querySelectorAll('#workflow-nav .nav-item');
        let isScrolling = false;
        let scrollTimeout;

        function updateActiveNav() {
            if (isScrolling) return;

            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100;
                if (window.scrollY >= sectionTop) current = section.getAttribute('id');
            });
            navItems.forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('href') === '#' + current) item.classList.add('active');
            });
        }

        // Handle nav click to temporarily disable scroll spy
        navItems.forEach(item => {
            item.addEventListener('click', function(e) {
                isScrolling = true;
                clearTimeout(scrollTimeout);

                // Remove active from all, add to clicked
                navItems.forEach(nav => nav.classList.remove('active'));
                this.classList.add('active');

                // Re-enable scroll spy after 1000ms
                scrollTimeout = setTimeout(() => {
                    isScrolling = false;
                }, 1000);
            });
        });

        window.addEventListener('scroll', updateActiveNav);

        // Modal
        function openDocModal() {
            document.getElementById('docModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closeDocModal() {
            document.getElementById('docModal').classList.remove('show');
            document.body.style.overflow = '';
        }

        async function copyToClipboard() {
            try {
                await navigator.clipboard.writeText(document.getElementById('docContent').textContent);
                const success = document.getElementById('copySuccess');
                success.style.display = 'block';
                setTimeout(() => { success.style.display = 'none'; }, 2000);
            } catch (e) { alert('Failed to copy.'); }
        }

        document.addEventListener('keydown', (e) => { if (e.key === 'Escape') { closeDocModal(); closePromptModal(); } });
        document.getElementById('docModal').addEventListener('click', (e) => { if (e.target.id === 'docModal') closeDocModal(); });

        document.addEventListener('DOMContentLoaded', () => { updateActiveNav(); });

        // Scroll to agent card and highlight
        function scrollToAgent(agentId) {
            const agentCard = document.getElementById(agentId);
            if (agentCard) {
                document.querySelectorAll('.agent-card.highlight').forEach(card => {
                    card.classList.remove('highlight');
                });

                agentCard.scrollIntoView({ behavior: 'smooth', block: 'center' });

                setTimeout(() => {
                    agentCard.classList.add('highlight');
                }, 300);

                setTimeout(() => {
                    agentCard.classList.remove('highlight');
                }, 2500);
            }
        }

        // Agent Prompt System
        const agentPrompts = {
            addresschange: {
                name: 'Address Change Agent',
                tags: ['Multi-Service Integration', 'API', 'Medium Complexity', 'High Priority'],
                purpose: `This agent automates the tedious process of updating addresses across multiple services after a home purchase. It uses verified APIs and secure connections to initiate address changes with USPS, financial institutions, DMV systems, and subscription services in a single batch operation.`,
                prompt: `You are building a Multi-Service Integration Agent for CMG Financial's post-closing borrower experience.

AGENT NAME: Address Change Agent
TYPE: Multi-Service Integration / Batch Processing

OBJECTIVE:
Automate address change requests across multiple services for new homeowners, reducing the manual effort from hours to minutes.

INPUT DATA:
- Borrower Name (from loan file)
- Old Address
- New Property Address (verified from closing docs)
- Email Address
- Phone Number
- List of services to update (user selected)

SERVICE INTEGRATIONS:

1. USPS Change of Address
   - API: USPS Web Tools Address API
   - Initiates official mail forwarding
   - Returns confirmation number

2. DMV Notification (varies by state)
   - Links to state-specific portals
   - Pre-fills forms where APIs available
   - Provides deadline reminders

3. Financial Institutions
   - Bank APIs (Plaid for account linking)
   - Credit card issuer portals
   - Investment account APIs

4. Subscription Services
   - Common subscription management APIs
   - Email-based notifications where no API

WORKFLOW:
1. Verify new address via USPS Address Verification API
2. Authenticate user identity (MFA)
3. Queue address update requests by service type
4. Execute batch updates with retry logic
5. Generate confirmation report with status per service
6. Send summary email to borrower

ERROR HANDLING:
- Service unavailable: Queue for retry, notify user
- Authentication required: Provide direct link with pre-filled data
- Partial success: Report which services succeeded/failed`,
                integration: `INTEGRATION POINTS:

1. Loan Origination System
   - Pull closing data (address, borrower info)
   - Trigger on funding date

2. USPS Web Tools
   - Address verification
   - Change of address initiation

3. Financial Data Aggregators
   - Plaid for bank account access
   - Secure credential handling

4. Email Service
   - Confirmation emails
   - Status updates
   - Service-specific instructions

5. State DMV APIs (where available)
   - Address update initiation
   - Document upload

SECURITY REQUIREMENTS:
- MFA for all financial updates
- Encrypted credential storage
- Audit logging for compliance
- User consent for each service`
            },
            utilitysetup: {
                name: 'Utility Setup Agent',
                tags: ['Service Coordination', 'Local Discovery', 'Medium Complexity', 'High Priority'],
                purpose: `This agent ensures utilities are ready on move-in day by automatically identifying local providers, initiating service requests, and coordinating setup appointments based on the closing date and property address.`,
                prompt: `You are building a Service Coordination Agent for CMG Financial's post-closing borrower experience.

AGENT NAME: Utility Setup Agent
TYPE: Service Coordination / Scheduling

OBJECTIVE:
Ensure all essential utilities are active and ready when the new homeowner receives keys, eliminating the stress of coordinating multiple providers.

INPUT DATA:
- Property Address (from closing docs)
- Closing Date
- Borrower Contact Info
- Previous Owner Info (for transfer, if available)

UTILITY TYPES:
1. Electric
2. Natural Gas
3. Water/Sewer
4. Trash/Recycling
5. Internet/Cable
6. Home Security (optional)

PROVIDER DISCOVERY:
1. Query utility service area databases
2. Match property address to provider territories
3. Identify municipal vs private providers
4. Return provider list with contact info

WORKFLOW:
1. Discover providers for property address
2. Present options to borrower (especially for internet)
3. Initiate service requests via API or web form
4. Schedule activation for closing date or day before
5. Confirm appointments with borrower
6. Send reminder notifications
7. Follow up to verify services are active

SCHEDULING LOGIC:
- Critical utilities (electric, water): Day before closing
- Gas: Per safety inspection requirements
- Internet: 1-2 days after closing (installer visits)
- Coordinate overlapping appointment windows

OUTPUT:
{
  "property_address": "123 Main St",
  "closing_date": "2026-02-15",
  "utilities": [
    {
      "type": "Electric",
      "provider": "City Power Co",
      "status": "Scheduled",
      "activation_date": "2026-02-14",
      "confirmation": "ELEC-123456"
    }
  ]
}`,
                integration: `INTEGRATION POINTS:

1. Property Data Services
   - Zillow/Realtor APIs for property details
   - County assessor data

2. Utility Provider APIs
   - Where available: Direct API integration
   - Fallback: Form submission automation

3. Calendar/Scheduling
   - Borrower calendar integration
   - Appointment booking

4. Notification Services
   - SMS for appointment reminders
   - Email confirmations
   - Push notifications

5. LOS Integration
   - Pull closing date
   - Update borrower record with utility info

FALLBACK HANDLING:
- No API available: Generate checklist with contact info
- Rural areas: Research local providers manually
- Multiple provider options: Present comparison`
            },
            checklisttracker: {
                name: 'Checklist Tracker Agent',
                tags: ['Progress Monitoring', 'Notifications', 'Low Complexity', 'Medium Priority'],
                purpose: `This agent provides personalized tracking and reminders for new homeowners to complete their post-closing checklist items. It sends timely notifications, tracks progress, and ensures time-sensitive tasks like DMV updates are completed before deadlines.`,
                prompt: `You are building a Progress Monitoring Agent for CMG Financial's post-closing borrower experience.

AGENT NAME: Checklist Tracker Agent
TYPE: Progress Monitoring / Push Notifications

OBJECTIVE:
Keep new homeowners on track with their post-closing tasks through personalized reminders, progress tracking, and deadline alerts.

INPUT DATA:
- Borrower Profile
- Closing Date
- Property State (for deadline rules)
- Notification Preferences

CHECKLIST ITEMS:
{
  "address_updates": {
    "usps": { "priority": "immediate", "deadline_days": 7 },
    "dmv": { "priority": "high", "deadline_days": 30 },
    "voter": { "priority": "medium", "deadline_days": 60 },
    "employer": { "priority": "high", "deadline_days": 14 }
  },
  "financial_setup": {
    "autopay_mortgage": { "priority": "high", "deadline_days": 30 },
    "autopay_utilities": { "priority": "medium", "deadline_days": 14 }
  },
  "home_setup": {
    "security_system": { "priority": "medium", "deadline_days": 30 },
    "change_locks": { "priority": "high", "deadline_days": 7 }
  }
}

NOTIFICATION SCHEDULE:
- Day 0 (Closing): Welcome message + full checklist
- Day 1: Immediate priority items reminder
- Day 3: Progress check-in
- Day 7: First week summary + upcoming deadlines
- Day 14: Two-week milestone
- Day 30: Final deadline reminders

MESSAGE PERSONALIZATION:
- Use borrower first name
- Reference specific property address
- Include encouraging milestone messages
- Provide direct links to complete tasks

TRACKING:
- Mark items complete via link click or manual toggle
- Calculate overall progress percentage
- Identify overdue items for escalation`,
                integration: `INTEGRATION POINTS:

1. CRM/Marketing Platform
   - Borrower contact data
   - Communication preferences
   - Engagement tracking

2. Notification Services
   - Email (SendGrid/SES)
   - SMS (Twilio)
   - Push notifications (mobile app)

3. Web Portal
   - Interactive checklist UI
   - Mark items complete
   - View progress dashboard

4. State Rules Engine
   - DMV deadline rules by state
   - Voter registration requirements
   - Tax filing deadlines

5. Analytics
   - Track open rates
   - Measure completion rates
   - Identify drop-off points

GAMIFICATION (Optional):
- Progress badges
- Completion certificates
- Referral program tie-in`
            },
            neighborhood: {
                name: 'Neighborhood Guide Agent',
                tags: ['Local Discovery', 'Content Generation', 'Low Complexity', 'Low Priority'],
                purpose: `This agent generates personalized neighborhood guides for new homeowners, compiling local services, healthcare providers, schools, shopping, dining, and community resources based on the property address to help them quickly integrate into their new community.`,
                prompt: `You are building a Local Discovery Agent for CMG Financial's post-closing borrower experience.

AGENT NAME: Neighborhood Guide Agent
TYPE: Local Discovery / Content Generation

OBJECTIVE:
Generate comprehensive, personalized neighborhood guides that help new homeowners discover and integrate into their community.

INPUT DATA:
- Property Address
- Borrower Profile (family size, interests if provided)
- Search Radius (default: 5 miles)

GUIDE SECTIONS:

1. Emergency Services
   - Police (non-emergency)
   - Fire department
   - Nearest hospital/ER
   - Urgent care facilities

2. Healthcare
   - Primary care physicians
   - Dentists
   - Pediatricians (if family)
   - Pharmacies

3. Schools (if applicable)
   - Elementary, middle, high schools
   - School district info
   - Ratings and reviews

4. Shopping
   - Grocery stores
   - Hardware stores
   - Department stores
   - Pharmacies

5. Dining & Entertainment
   - Restaurants by cuisine
   - Coffee shops
   - Movie theaters
   - Parks and recreation

6. Services
   - Banks/ATMs
   - Post office
   - Dry cleaners
   - Auto repair

7. Community
   - Community centers
   - Libraries
   - Places of worship
   - HOA info (if applicable)

DATA SOURCES:
- Google Places API
- Yelp Fusion API
- GreatSchools API
- Census data
- Local government APIs

OUTPUT FORMAT:
- PDF guide with maps
- Interactive web version
- Mobile-friendly format`,
                integration: `INTEGRATION POINTS:

1. Location Services
   - Google Maps/Places API
   - Mapbox for custom maps
   - OpenStreetMap data

2. Review Aggregators
   - Yelp API
   - Google Reviews
   - Healthgrades (medical)

3. Education Data
   - GreatSchools API
   - State DOE data
   - Private school databases

4. PDF Generation
   - Puppeteer for HTML to PDF
   - Custom templates with branding
   - Embedded maps

5. Delivery
   - Email attachment
   - Web portal download
   - Mobile app access

PERSONALIZATION:
- Family with kids: Emphasize schools, parks, pediatricians
- Remote workers: Include coworking spaces, coffee shops
- Pet owners: Dog parks, veterinarians, pet stores
- Seniors: Medical facilities, community centers`
            }
        };

        function showAgentPrompt(agentKey) {
            const agent = agentPrompts[agentKey];
            if (!agent) return;

            document.getElementById('promptModalTitle').textContent = agent.name + ' - Build Prompt';
            document.getElementById('promptTags').innerHTML = agent.tags.map(tag => `<span class="prompt-tag">${tag}</span>`).join('');
            document.getElementById('promptPurpose').textContent = agent.purpose;
            document.getElementById('promptContent').textContent = agent.prompt;
            document.getElementById('promptIntegration').textContent = agent.integration;

            document.getElementById('promptModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closePromptModal() {
            document.getElementById('promptModal').classList.remove('show');
            document.body.style.overflow = '';
        }

        async function copyPromptToClipboard() {
            const purpose = document.getElementById('promptPurpose').textContent;
            const prompt = document.getElementById('promptContent').textContent;
            const integration = document.getElementById('promptIntegration').textContent;
            const fullText = `PURPOSE:\n${purpose}\n\nBUILD PROMPT:\n${prompt}\n\nINTEGRATION:\n${integration}`;

            try {
                await navigator.clipboard.writeText(fullText);
                const success = document.getElementById('copySuccess');
                success.style.display = 'block';
                setTimeout(() => { success.style.display = 'none'; }, 2000);
            } catch (e) { alert('Failed to copy.'); }
        }

        document.getElementById('promptModal').addEventListener('click', (e) => {
            if (e.target.id === 'promptModal') closePromptModal();
        });
    </script>
</body>
</html>
