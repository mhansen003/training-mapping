<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Understanding Credit - First-Time Homebuyer Guide</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0f1a;
            --bg-secondary: #111827;
            --bg-card: #1a2234;
            --accent-blue: #3b82f6;
            --accent-teal: #14b8a6;
            --accent-amber: #f59e0b;
            --accent-rose: #f43f5e;
            --accent-green: #22c55e;
            --accent-purple: #8b5cf6;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --border-subtle: rgba(255,255,255,0.08);
            --sidebar-width: 280px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
        }

        /* Breadcrumb */
        .breadcrumb {
            background: linear-gradient(90deg, #0d1525 0%, #1a2234 100%);
            padding: 14px 25px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 0.95rem;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1001;
            border-bottom: 1px solid var(--border-subtle);
        }

        .breadcrumb a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 600;
            padding: 8px 16px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
            transition: all 0.2s;
            border: 1px solid var(--border-subtle);
        }

        .breadcrumb a:hover {
            background: rgba(59, 130, 246, 0.15);
            color: var(--accent-blue);
            border-color: rgba(59, 130, 246, 0.3);
        }

        .breadcrumb .separator { color: var(--text-muted); font-size: 1.2rem; }
        .breadcrumb .current { color: var(--accent-amber); font-weight: 600; padding: 8px 16px; }

        /* Sidebar */
        .sidebar {
            position: fixed;
            top: 54px;
            left: 0;
            width: var(--sidebar-width);
            height: calc(100vh - 54px);
            background: var(--bg-secondary);
            overflow-y: auto;
            z-index: 1000;
            border-right: 1px solid var(--border-subtle);
            display: flex;
            flex-direction: column;
        }

        .sidebar-header {
            padding: 25px 20px;
            background: rgba(0,0,0,0.3);
            border-bottom: 1px solid var(--border-subtle);
        }

        .sidebar-header h2 { color: var(--text-primary); font-size: 1.2rem; font-weight: 700; margin-bottom: 5px; }
        .sidebar-header p { color: var(--text-muted); font-size: 0.85rem; }

        /* Tab Switch */
        .sidebar-tabs {
            display: flex;
            border-bottom: 1px solid var(--border-subtle);
        }

        .sidebar-tab {
            flex: 1;
            padding: 14px 10px;
            text-align: center;
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--text-muted);
            cursor: pointer;
            transition: all 0.2s;
            border-bottom: 3px solid transparent;
            background: none;
            border-left: none;
            border-right: none;
            border-top: none;
        }

        .sidebar-tab:hover { background: rgba(255,255,255,0.03); color: var(--text-secondary); }
        .sidebar-tab.active { color: var(--accent-blue); border-bottom-color: var(--accent-blue); background: rgba(59, 130, 246, 0.08); }
        .sidebar-tab.agent-tab.active { color: var(--accent-purple); border-bottom-color: var(--accent-purple); background: rgba(139, 92, 246, 0.08); }

        .sidebar-nav { padding: 15px 0; flex: 1; overflow-y: auto; }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 20px;
            color: var(--text-secondary);
            text-decoration: none;
            border-left: 3px solid transparent;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .nav-item:hover { background: rgba(255,255,255,0.03); color: var(--text-primary); }
        .nav-item.active { background: rgba(59, 130, 246, 0.1); border-left-color: var(--accent-blue); color: var(--text-primary); }

        .nav-number {
            background: rgba(255,255,255,0.1);
            color: var(--text-secondary);
            width: 28px;
            height: 28px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.85rem;
            flex-shrink: 0;
        }

        .nav-item.active .nav-number { background: var(--accent-blue); color: white; }
        .nav-label { font-size: 0.95rem; font-weight: 500; }

        .sidebar-footer {
            padding: 20px;
            border-top: 1px solid var(--border-subtle);
            background: rgba(0,0,0,0.2);
        }

        .doc-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
            padding: 14px 20px;
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            text-decoration: none;
            font-size: 0.95rem;
        }

        .doc-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3); }

        /* Main Content */
        .main-content { margin-left: var(--sidebar-width); padding: 80px 40px 40px 40px; }

        /* Tab Panels */
        .tab-panel { display: none; }
        .tab-panel.active { display: block; }

        .header {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            padding: 35px;
            border-radius: 16px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background:
                radial-gradient(ellipse at 20% 20%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(20, 184, 166, 0.08) 0%, transparent 50%);
            pointer-events: none;
        }

        .header h1 {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 10px;
            position: relative;
            background: linear-gradient(135deg, var(--text-primary) 0%, var(--accent-blue) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header .subtitle { color: var(--text-secondary); font-size: 1.1rem; position: relative; }

        .header .meta { display: flex; gap: 15px; margin-top: 20px; flex-wrap: wrap; position: relative; }

        .header .meta-item {
            background: rgba(255,255,255,0.05);
            border: 1px solid var(--border-subtle);
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Legend */
        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            padding: 18px 22px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            margin-bottom: 25px;
        }

        .legend-item { display: flex; align-items: center; gap: 8px; font-size: 0.85rem; color: var(--text-secondary); }
        .legend-color { width: 18px; height: 18px; border-radius: 4px; }

        /* Sections */
        .section {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            margin-bottom: 25px;
            overflow: hidden;
            scroll-margin-top: 75px;
        }

        .section-header {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, rgba(59, 130, 246, 0.1) 100%);
            border-bottom: 1px solid var(--border-subtle);
            padding: 22px 25px;
            display: flex;
            align-items: center;
            gap: 18px;
        }

        .section-number {
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 1.3rem;
            flex-shrink: 0;
        }

        .section-title h2 { font-size: 1.35rem; font-weight: 700; margin-bottom: 4px; color: var(--text-primary); }
        .section-title span { font-size: 0.9rem; color: var(--text-muted); }
        .section-content { padding: 28px; }

        /* Workflow Diagrams */
        .workflow-diagram {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 28px;
            margin-bottom: 22px;
        }

        .flow-row { display: flex; align-items: center; justify-content: center; flex-wrap: wrap; gap: 12px; margin: 15px 0; }

        .flow-node {
            padding: 14px 22px;
            border-radius: 10px;
            text-align: center;
            font-size: 0.9rem;
            font-weight: 600;
            min-width: 150px;
            border: 1px solid var(--border-subtle);
        }

        .flow-node.start { background: linear-gradient(135deg, var(--accent-green) 0%, #16a34a 100%); color: white; border-radius: 25px; border: none; }
        .flow-node.action { background: linear-gradient(135deg, var(--accent-blue) 0%, #2563eb 100%); color: white; border: none; }
        .flow-node.decision { background: linear-gradient(135deg, var(--accent-amber) 0%, #d97706 100%); color: var(--bg-primary); border: none; }
        .flow-node.input { background: var(--bg-secondary); border: 2px solid var(--accent-blue); color: var(--text-primary); }
        .flow-node.output { background: linear-gradient(135deg, var(--accent-teal) 0%, #0d9488 100%); color: white; border: none; }
        .flow-node.exception { background: linear-gradient(135deg, var(--accent-rose) 0%, #dc2626 100%); color: white; border: none; }

        .flow-arrow { color: var(--accent-blue); font-size: 1.5rem; }
        .flow-arrow.down { transform: rotate(90deg); }

        .decision-branch { display: flex; gap: 40px; justify-content: center; margin: 20px 0; flex-wrap: wrap; }
        .branch { display: flex; flex-direction: column; align-items: center; gap: 10px; }

        .branch-label {
            background: var(--bg-secondary);
            border: 1px solid var(--border-subtle);
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--text-secondary);
        }

        /* Tables */
        .field-table { width: 100%; border-collapse: collapse; margin: 18px 0; }

        .field-table th {
            background: rgba(59, 130, 246, 0.15);
            color: var(--accent-blue);
            padding: 14px 18px;
            text-align: left;
            font-weight: 600;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            border-bottom: 1px solid var(--border-subtle);
        }

        .field-table td { padding: 14px 18px; border-bottom: 1px solid var(--border-subtle); color: var(--text-secondary); }
        .field-table tr:hover { background: rgba(255,255,255,0.02); }

        .badge { display: inline-block; padding: 4px 12px; border-radius: 6px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; }
        .badge.required-badge { background: rgba(244, 63, 94, 0.15); color: var(--accent-rose); }
        .badge.optional-badge { background: rgba(34, 197, 94, 0.15); color: var(--accent-green); }
        .badge.calculated-badge { background: rgba(59, 130, 246, 0.15); color: var(--accent-blue); }

        /* Info Boxes */
        .exception-box, .tip-box, .info-box {
            padding: 18px 22px;
            margin: 18px 0;
            border-radius: 0 10px 10px 0;
            border-left-width: 4px;
            border-left-style: solid;
        }

        .exception-box { background: rgba(244, 63, 94, 0.08); border-color: var(--accent-rose); border: 1px solid rgba(244, 63, 94, 0.2); border-left: 4px solid var(--accent-rose); }
        .exception-box h4 { color: var(--accent-rose); margin-bottom: 10px; font-size: 1rem; }
        .exception-box p, .exception-box li { color: var(--text-secondary); }

        .tip-box { background: rgba(34, 197, 94, 0.08); border-color: var(--accent-green); border: 1px solid rgba(34, 197, 94, 0.2); border-left: 4px solid var(--accent-green); }
        .tip-box h4 { color: var(--accent-green); margin-bottom: 10px; font-size: 1rem; }
        .tip-box p, .tip-box li { color: var(--text-secondary); }

        .info-box { background: rgba(59, 130, 246, 0.08); border-color: var(--accent-blue); border: 1px solid rgba(59, 130, 246, 0.2); border-left: 4px solid var(--accent-blue); }
        .info-box h4 { color: var(--accent-blue); margin-bottom: 10px; font-size: 1rem; }
        .info-box p, .info-box li { color: var(--text-secondary); }

        /* Decision Tree */
        .decision-tree {
            background: rgba(0,0,0,0.2);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 22px;
            margin: 22px 0;
        }

        .decision-tree h3 { color: var(--accent-blue); margin-bottom: 18px; padding-bottom: 12px; border-bottom: 1px solid var(--border-subtle); font-size: 1.1rem; }

        .tree-node { margin-left: 20px; padding: 12px; border-left: 2px solid var(--accent-teal); position: relative; color: var(--text-secondary); }
        .tree-node::before { content: ''; position: absolute; left: -2px; top: 22px; width: 15px; height: 2px; background: var(--accent-teal); }
        .tree-node.level-1 { margin-left: 0; border-left: none; }
        .tree-node.level-1::before { display: none; }

        .tree-label { background: var(--accent-amber); color: var(--bg-primary); padding: 6px 14px; border-radius: 6px; font-weight: 700; display: inline-block; margin-bottom: 6px; font-size: 0.9rem; }

        /* Summary Grid */
        .summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 18px; margin: 22px 0; }

        .summary-card { background: rgba(0,0,0,0.3); border: 1px solid var(--border-subtle); border-radius: 12px; padding: 22px; text-align: center; }
        .summary-card h4 { color: var(--text-secondary); margin-bottom: 12px; font-size: 0.9rem; }
        .summary-card .value {
            font-size: 2.2rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .summary-card .label { font-size: 0.85rem; color: var(--text-muted); margin-top: 8px; }

        /* Resource Cards */
        .resource-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin: 22px 0; }

        .resource-card { background: rgba(0,0,0,0.2); border: 1px solid var(--border-subtle); border-radius: 12px; overflow: hidden; }
        .resource-card-header { background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%); color: white; padding: 18px; text-align: center; }
        .resource-card-header h4 { font-size: 1.05rem; }
        .resource-card-body { padding: 22px; }
        .resource-card ul { list-style: none; padding: 0; }
        .resource-card li { padding: 10px 0; border-bottom: 1px solid var(--border-subtle); display: flex; align-items: center; gap: 12px; color: var(--text-secondary); font-size: 0.95rem; }
        .resource-card li:last-child { border-bottom: none; }
        .check-icon { color: var(--accent-green); font-weight: bold; }
        .x-icon { color: var(--accent-rose); font-weight: bold; }
        .link-icon { color: var(--accent-blue); font-weight: bold; }

        /* Quick Reference */
        .quick-ref {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-card) 100%);
            border: 1px solid var(--border-subtle);
            padding: 28px;
            border-radius: 16px;
            margin-top: 30px;
            font-family: 'JetBrains Mono', monospace;
            scroll-margin-top: 75px;
        }

        .quick-ref h3 { color: var(--accent-amber); margin-bottom: 18px; font-family: 'Plus Jakarta Sans', sans-serif; }
        .quick-ref pre { background: rgba(0,0,0,0.4); border: 1px solid var(--border-subtle); padding: 20px; border-radius: 10px; overflow-x: auto; font-size: 0.85rem; line-height: 1.7; color: var(--text-secondary); }

        /* ====== AGENT OPPORTUNITIES STYLES ====== */
        .agent-header {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            padding: 35px;
            border-radius: 16px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .agent-header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background:
                radial-gradient(ellipse at 20% 20%, rgba(139, 92, 246, 0.12) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(245, 158, 11, 0.1) 0%, transparent 50%);
            pointer-events: none;
        }

        .agent-header h1 {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 10px;
            position: relative;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-header .subtitle { color: var(--text-secondary); font-size: 1.1rem; position: relative; }

        /* Heat Map */
        .heat-map-container { margin-bottom: 35px; }
        .heat-map-title { font-size: 1.3rem; font-weight: 700; color: var(--text-primary); margin-bottom: 20px; display: flex; align-items: center; gap: 12px; }

        .heat-map-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .heat-item {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 20px;
            position: relative;
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
        }

        .heat-item:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .heat-item:active { transform: scale(0.98); }

        .heat-item::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; height: 4px;
        }

        .heat-item.critical::before { background: linear-gradient(90deg, #ef4444, #f97316); }
        .heat-item.high::before { background: linear-gradient(90deg, #f97316, #eab308); }
        .heat-item.medium::before { background: linear-gradient(90deg, #eab308, #22c55e); }
        .heat-item.low::before { background: linear-gradient(90deg, #22c55e, #14b8a6); }

        .heat-score {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.8rem;
            font-weight: 800;
        }

        .heat-item.critical .heat-score { color: #ef4444; }
        .heat-item.high .heat-score { color: #f97316; }
        .heat-item.medium .heat-score { color: #eab308; }
        .heat-item.low .heat-score { color: #22c55e; }

        .heat-name { font-size: 1rem; font-weight: 700; color: var(--text-primary); margin-bottom: 6px; padding-right: 50px; }
        .heat-desc { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px; }

        .heat-metrics { display: flex; gap: 15px; margin-top: 12px; }
        .heat-metric { font-size: 0.75rem; color: var(--text-muted); }
        .heat-metric span { color: var(--text-secondary); font-weight: 600; }

        /* Agent Cards */
        .agent-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)); gap: 25px; margin-bottom: 35px; }

        .agent-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .agent-card:hover { transform: translateY(-5px); box-shadow: 0 15px 50px rgba(0,0,0,0.3); }

        .agent-card.highlight {
            animation: highlightPulse 2s ease;
            box-shadow: 0 0 0 3px var(--accent-purple), 0 15px 50px rgba(139, 92, 246, 0.4);
        }

        @keyframes highlightPulse {
            0% { box-shadow: 0 0 0 3px var(--accent-purple), 0 15px 50px rgba(139, 92, 246, 0.6); }
            50% { box-shadow: 0 0 0 6px rgba(139, 92, 246, 0.5), 0 15px 50px rgba(139, 92, 246, 0.3); }
            100% { box-shadow: 0 0 0 0px transparent, 0 15px 50px rgba(0,0,0,0.3); }
        }

        .agent-card-header {
            padding: 22px;
            display: flex;
            align-items: flex-start;
            gap: 18px;
            border-bottom: 1px solid var(--border-subtle);
        }

        .agent-icon {
            width: 55px;
            height: 55px;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.6rem;
            flex-shrink: 0;
        }

        .agent-info { flex: 1; }
        .agent-name { font-size: 1.15rem; font-weight: 700; color: var(--text-primary); margin-bottom: 5px; }
        .agent-type { font-size: 0.8rem; color: var(--accent-purple); font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }

        .agent-priority {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
        }

        .agent-priority.critical { background: rgba(239, 68, 68, 0.15); color: #ef4444; }
        .agent-priority.high { background: rgba(249, 115, 22, 0.15); color: #f97316; }
        .agent-priority.medium { background: rgba(234, 179, 8, 0.15); color: #eab308; }
        .agent-priority.low { background: rgba(34, 197, 94, 0.15); color: #22c55e; }

        .agent-card-body { padding: 22px; }
        .agent-description { font-size: 0.95rem; color: var(--text-secondary); line-height: 1.6; margin-bottom: 20px; }

        .agent-flow {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            padding: 18px;
            margin-bottom: 20px;
        }

        .agent-flow-title { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; }

        .agent-flow-diagram { display: flex; align-items: center; flex-wrap: wrap; gap: 8px; justify-content: center; }

        .agent-step {
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
            color: white;
            padding: 8px 14px;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 600;
            white-space: nowrap;
        }

        .agent-arrow { color: var(--accent-purple); font-size: 1.2rem; }

        .agent-stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }

        .agent-stat {
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            padding: 12px;
            text-align: center;
        }

        .agent-stat-value {
            font-size: 1.3rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-stat-label { font-size: 0.7rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.05em; margin-top: 4px; }

        /* View Prompt Button */
        .agent-prompt-btn {
            width: 100%;
            margin-top: 18px;
            padding: 14px 20px;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(59, 130, 246, 0.2) 100%);
            border: 1px solid rgba(139, 92, 246, 0.4);
            border-radius: 10px;
            color: var(--accent-purple);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-size: 0.9rem;
        }

        .agent-prompt-btn:hover {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.3) 0%, rgba(59, 130, 246, 0.3) 100%);
            border-color: var(--accent-purple);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.25);
        }

        /* Summary Stats */
        .agent-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 35px;
        }

        .agent-summary-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 14px;
            padding: 25px;
            text-align: center;
        }

        .agent-summary-value {
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-amber) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .agent-summary-label { font-size: 0.9rem; color: var(--text-muted); margin-top: 8px; }

        /* Heat Map Legend */
        .heat-legend {
            display: flex;
            gap: 25px;
            padding: 18px 22px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .heat-legend-item { display: flex; align-items: center; gap: 10px; font-size: 0.9rem; color: var(--text-secondary); }
        .heat-legend-color { width: 24px; height: 24px; border-radius: 6px; }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(10, 15, 26, 0.9);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            padding: 20px;
            backdrop-filter: blur(5px);
        }

        .modal-overlay.show { display: flex; }

        .modal {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            width: 100%;
            max-width: 950px;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
            box-shadow: 0 25px 80px rgba(0,0,0,0.5);
        }

        .modal-header {
            background: linear-gradient(135deg, var(--accent-blue) 0%, var(--accent-teal) 100%);
            color: white;
            padding: 22px 28px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 16px 16px 0 0;
        }

        .modal-header h3 { font-size: 1.25rem; font-weight: 700; }
        .modal-actions { display: flex; gap: 12px; }

        .modal-btn {
            padding: 10px 18px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 700;
            transition: transform 0.2s;
            font-size: 0.9rem;
        }

        .modal-btn:hover { transform: scale(1.05); }
        .modal-btn.copy { background: white; color: var(--accent-blue); }
        .modal-btn.close { background: rgba(255,255,255,0.2); color: white; }

        .modal-body { padding: 28px; overflow-y: auto; flex: 1; }

        .modal-body pre {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-subtle);
            padding: 22px;
            border-radius: 10px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            line-height: 1.7;
            white-space: pre-wrap;
            word-wrap: break-word;
            color: var(--text-secondary);
        }

        .copy-success {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--accent-green);
            color: white;
            padding: 18px 35px;
            border-radius: 10px;
            font-weight: 700;
            z-index: 3000;
            display: none;
            animation: fadeInOut 2s ease;
        }

        @keyframes fadeInOut { 0%, 100% { opacity: 0; } 10%, 90% { opacity: 1; } }

        /* Prompt Modal */
        .prompt-modal .modal { max-width: 800px; }
        .prompt-modal .modal-header { background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%); }

        .prompt-section { margin-bottom: 25px; }
        .prompt-section h4 { color: var(--accent-purple); font-size: 1rem; margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }

        .prompt-box {
            background: rgba(0,0,0,0.4);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            padding: 20px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            line-height: 1.7;
            color: var(--text-secondary);
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .prompt-tags { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 20px; }
        .prompt-tag { background: rgba(139, 92, 246, 0.15); color: var(--accent-purple); padding: 6px 14px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; }

        .copy-prompt-btn {
            background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            margin-top: 15px;
        }

        .copy-prompt-btn:hover { transform: scale(1.05); box-shadow: 0 5px 20px rgba(139, 92, 246, 0.3); }

        /* Step List */
        .step-list { list-style: none; padding: 0; margin: 18px 0; }
        .step-list li {
            padding: 14px 18px;
            border-left: 3px solid var(--accent-blue);
            background: rgba(0,0,0,0.2);
            margin-bottom: 10px;
            border-radius: 0 8px 8px 0;
            color: var(--text-secondary);
        }
        .step-list li strong { color: var(--text-primary); }

        /* External Links */
        .external-link {
            color: var(--accent-blue);
            text-decoration: none;
            font-weight: 600;
            transition: color 0.2s;
        }
        .external-link:hover { color: var(--accent-teal); text-decoration: underline; }

        @media (max-width: 900px) {
            .sidebar { display: none; }
            .main-content { margin-left: 0; padding: 75px 20px 30px 20px; }
            .agent-grid { grid-template-columns: 1fr; }
        }
            .breadcrumb-logo-link { display: flex; align-items: center; padding: 4px 8px; background: rgba(255,255,255,0.08); border-radius: 8px; border: 1px solid rgba(255,255,255,0.12); transition: all 0.2s; }
        .breadcrumb-logo-link:hover { background: rgba(255,255,255,0.15); }
        .breadcrumb-logo { height: 28px; width: auto; }
    </style>
</head>
<body>
    <!-- Breadcrumb -->
    <nav class="breadcrumb">
        <a href="../../index.html" class="breadcrumb-logo-link"><img src="../../images/clear-ai-logo.png" alt="Clear AI" class="breadcrumb-logo"></a>
        <a href="../../index.html">Portal Home</a>
        <span class="separator">></span>
        <a href="./index.html">Mortgage Fundamentals</a>
        <span class="separator">></span>
        <span class="current">Understanding Credit</span>
    </nav>

    <!-- Fixed Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <h2>Understanding Credit</h2>
            <p>First-Time Homebuyer Guide</p>
        </div>

        <!-- Tab Switcher -->
        <div class="sidebar-tabs">
            <button class="sidebar-tab active" onclick="switchTab('workflow')">Workflow</button>
            <button class="sidebar-tab agent-tab" onclick="switchTab('agents')">AI Agents</button>
        </div>

        <!-- Workflow Navigation -->
        <nav class="sidebar-nav" id="workflow-nav">
            <a href="#section-1" class="nav-item active">
                <span class="nav-number">1</span>
                <span class="nav-label">Credit Importance</span>
            </a>
            <a href="#section-2" class="nav-item">
                <span class="nav-number">2</span>
                <span class="nav-label">Obtaining Free Report</span>
            </a>
            <a href="#section-3" class="nav-item">
                <span class="nav-number">3</span>
                <span class="nav-label">Credit Bureaus</span>
            </a>
            <a href="#section-4" class="nav-item">
                <span class="nav-number">4</span>
                <span class="nav-label">Disputing Errors</span>
            </a>
            <a href="#section-5" class="nav-item">
                <span class="nav-number">5</span>
                <span class="nav-label">Understanding Scores</span>
            </a>
            <a href="#section-6" class="nav-item">
                <span class="nav-number">6</span>
                <span class="nav-label">Avoiding Scams</span>
            </a>
            <a href="#section-7" class="nav-item">
                <span class="nav-number">7</span>
                <span class="nav-label">Additional Resources</span>
            </a>
            <a href="#quick-ref" class="nav-item">
                <span class="nav-number">*</span>
                <span class="nav-label">Quick Reference</span>
            </a>
        </nav>

        <!-- Agent Navigation -->
        <nav class="sidebar-nav" id="agents-nav" style="display: none;">
            <a href="#agent-summary" class="nav-item active">
                <span class="nav-number">S</span>
                <span class="nav-label">Summary</span>
            </a>
            <a href="#agent-heatmap" class="nav-item">
                <span class="nav-number">H</span>
                <span class="nav-label">Heat Map</span>
            </a>
            <a href="#agent-details" class="nav-item">
                <span class="nav-number">A</span>
                <span class="nav-label">Agent Details</span>
            </a>
        </nav>

        <div class="sidebar-footer">
            <button class="doc-btn" onclick="openDocModal()">
                View Workflow Markdown
            </button>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">

        <!-- ==================== WORKFLOW TAB ==================== -->
        <div id="workflow-panel" class="tab-panel active">
            <!-- Header -->
            <div class="header">
                <h1>Understanding Credit for First-Time Homebuyers</h1>
                <p class="subtitle">Complete guide to obtaining, understanding, and maintaining good credit for mortgage qualification</p>
                <div class="meta">
                    <span class="meta-item">Source: Enact MI</span>
                    <span class="meta-item">Audience: First-Time Homebuyers</span>
                    <span class="meta-item">Updated: March 2023</span>
                    <span class="meta-item">Duration: 15-20 min read</span>
                </div>
            </div>

            <!-- Legend -->
            <div class="legend">
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #22c55e, #16a34a);"></div><span>Start/End</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #3b82f6, #2563eb);"></div><span>Action Step</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #f59e0b, #d97706);"></div><span>Decision Point</span></div>
                <div class="legend-item"><div class="legend-color" style="background: #111827; border: 2px solid #3b82f6;"></div><span>User Input</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #f43f5e, #dc2626);"></div><span>Warning</span></div>
                <div class="legend-item"><div class="legend-color" style="background: linear-gradient(135deg, #14b8a6, #0d9488);"></div><span>Resource</span></div>
            </div>

            <!-- Section 1: Credit Importance -->
            <section id="section-1" class="section">
                <div class="section-header">
                    <div class="section-number">1</div>
                    <div class="section-title"><h2>Why Credit Matters for Homeownership</h2><span>Understanding the critical role of credit in mortgage qualification</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node start">Planning to Buy</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Check Credit Score</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node decision">Score High Enough?</div>
                        </div>
                        <div class="decision-branch">
                            <div class="branch">
                                <span class="branch-label">YES</span>
                                <div class="flow-node output">Better Loan Terms</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">NO</span>
                                <div class="flow-node action">Improve Credit</div>
                            </div>
                        </div>
                    </div>

                    <div class="info-box">
                        <h4>Credit Score Impact on Mortgage</h4>
                        <p>When it comes to owning a home or planning for your financial future, obtaining and maintaining good credit is <strong>critical</strong>. Typically, the higher your credit score, the more likely you are to qualify for a loan at a lower cost, usually in the form of <strong>lower interest rates and fees</strong>.</p>
                    </div>

                    <div class="summary-grid">
                        <div class="summary-card">
                            <h4>Higher Score</h4>
                            <div class="value">Lower</div>
                            <div class="label">Interest Rates</div>
                        </div>
                        <div class="summary-card">
                            <h4>Higher Score</h4>
                            <div class="value">Lower</div>
                            <div class="label">Fees & Costs</div>
                        </div>
                        <div class="summary-card">
                            <h4>Higher Score</h4>
                            <div class="value">Better</div>
                            <div class="label">Loan Approval Odds</div>
                        </div>
                        <div class="summary-card">
                            <h4>Higher Score</h4>
                            <div class="value">More</div>
                            <div class="label">Loan Options</div>
                        </div>
                    </div>

                    <div class="tip-box">
                        <h4>Private Mortgage Insurance (PMI)</h4>
                        <p>Homeownership doesn't have to be a dream. Private mortgage insurance can get you into a house faster with less than a 20% down payment. Talk to your loan officer to learn more about the value of mortgage insurance from Enact.</p>
                    </div>
                </div>
            </section>

            <!-- Section 2: Obtaining Free Credit Report -->
            <section id="section-2" class="section">
                <div class="section-header">
                    <div class="section-number">2</div>
                    <div class="section-title"><h2>Obtaining Your Free Credit Report</h2><span>How to access your legally entitled free annual credit reports</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node start">Ready to Check</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node action">Visit AnnualCreditReport.com</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node input">Verify Identity</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node output">Receive Reports</div>
                        </div>
                    </div>

                    <div class="info-box">
                        <h4>Fair Credit Reporting Act (FCRA)</h4>
                        <p>The Fair Credit Reporting Act (FCRA) entitles you to a <strong>free credit report every 12 months</strong> from each of the three major consumer reporting companies (Equifax, Experian, and TransUnion).</p>
                    </div>

                    <div class="decision-tree">
                        <h3>How to Request Your Free Report</h3>
                        <ul class="step-list">
                            <li><strong>Online:</strong> Visit <a href="https://www.AnnualCreditReport.com" class="external-link" target="_blank">AnnualCreditReport.com</a> - the only official source</li>
                            <li><strong>Phone:</strong> Call <strong>877-322-8228</strong></li>
                            <li><strong>Options:</strong> You may order reports from all three bureaus at once OR space them out throughout the year</li>
                        </ul>
                    </div>

                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Method</th>
                                <th>Details</th>
                                <th>Best For</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Online</strong></td>
                                <td>AnnualCreditReport.com</td>
                                <td><span class="badge calculated-badge">Fastest Option</span></td>
                            </tr>
                            <tr>
                                <td><strong>Phone</strong></td>
                                <td>877-322-8228</td>
                                <td><span class="badge optional-badge">No Internet</span></td>
                            </tr>
                            <tr>
                                <td><strong>All Three at Once</strong></td>
                                <td>Get comprehensive view</td>
                                <td><span class="badge required-badge">Before Applying</span></td>
                            </tr>
                            <tr>
                                <td><strong>Staggered</strong></td>
                                <td>One every 4 months</td>
                                <td><span class="badge optional-badge">Ongoing Monitoring</span></td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="tip-box">
                        <h4>Credit Score Not Affected</h4>
                        <p>Requesting your own credit report will <strong>NOT</strong> affect your credit score. This is considered a "soft inquiry" and has no negative impact. Review your reports regularly!</p>
                    </div>

                    <div class="exception-box">
                        <h4>Important: Do NOT Contact Bureaus Directly</h4>
                        <p>Do not contact the reporting companies directly to order your free report. Only use AnnualCreditReport.com or the toll-free number to ensure you receive your legally entitled free reports.</p>
                    </div>
                </div>
            </section>

            <!-- Section 3: Credit Bureaus -->
            <section id="section-3" class="section">
                <div class="section-header">
                    <div class="section-number">3</div>
                    <div class="section-title"><h2>The Three Major Credit Bureaus</h2><span>Understanding Equifax, Experian, and TransUnion</span></div>
                </div>
                <div class="section-content">
                    <div class="resource-grid">
                        <div class="resource-card">
                            <div class="resource-card-header">
                                <h4>Equifax</h4>
                            </div>
                            <div class="resource-card-body">
                                <ul>
                                    <li><span class="link-icon">></span> Credit Disputes: <a href="https://www.equifax.com/personal/credit-report-services/credit-dispute/" class="external-link" target="_blank">equifax.com/dispute</a></li>
                                    <li><span class="check-icon">+</span> One of the "Big Three" bureaus</li>
                                    <li><span class="check-icon">+</span> Founded in 1899</li>
                                    <li><span class="check-icon">+</span> Headquarters: Atlanta, GA</li>
                                </ul>
                            </div>
                        </div>

                        <div class="resource-card">
                            <div class="resource-card-header">
                                <h4>Experian</h4>
                            </div>
                            <div class="resource-card-body">
                                <ul>
                                    <li><span class="link-icon">></span> Credit Disputes: <a href="https://www.experian.com/disputes/main.html" class="external-link" target="_blank">experian.com/disputes</a></li>
                                    <li><span class="check-icon">+</span> One of the "Big Three" bureaus</li>
                                    <li><span class="check-icon">+</span> Offers free credit monitoring</li>
                                    <li><span class="check-icon">+</span> Headquarters: Costa Mesa, CA</li>
                                </ul>
                            </div>
                        </div>

                        <div class="resource-card">
                            <div class="resource-card-header">
                                <h4>TransUnion</h4>
                            </div>
                            <div class="resource-card-body">
                                <ul>
                                    <li><span class="link-icon">></span> Credit Disputes: <a href="https://dispute.transunion.com" class="external-link" target="_blank">dispute.transunion.com</a></li>
                                    <li><span class="check-icon">+</span> One of the "Big Three" bureaus</li>
                                    <li><span class="check-icon">+</span> Founded in 1968</li>
                                    <li><span class="check-icon">+</span> Headquarters: Chicago, IL</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="info-box">
                        <h4>Why Check All Three?</h4>
                        <p>Each credit bureau may have different information on file. Some creditors report to all three, while others may only report to one or two. Reviewing all three reports ensures you have a complete picture of your credit history.</p>
                    </div>
                </div>
            </section>

            <!-- Section 4: Disputing Errors -->
            <section id="section-4" class="section">
                <div class="section-header">
                    <div class="section-number">4</div>
                    <div class="section-title"><h2>Disputing Credit Report Errors</h2><span>Steps to correct inaccurate information on your credit report</span></div>
                </div>
                <div class="section-content">
                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node start">Review Report</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node decision">Found Error?</div>
                        </div>
                        <div class="decision-branch">
                            <div class="branch">
                                <span class="branch-label">YES</span>
                                <div class="flow-node action">File Dispute with Bureau</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">NO</span>
                                <div class="flow-node output">Report is Accurate</div>
                            </div>
                        </div>
                        <div class="flow-row" style="margin-top: 20px;">
                            <div class="flow-node action">Bureau Investigates</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node decision">Issue Resolved?</div>
                        </div>
                        <div class="decision-branch">
                            <div class="branch">
                                <span class="branch-label">YES</span>
                                <div class="flow-node output">Error Corrected</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">NO</span>
                                <div class="flow-node exception">File CFPB Complaint</div>
                            </div>
                        </div>
                    </div>

                    <div class="decision-tree">
                        <h3>Step-by-Step Dispute Process</h3>
                        <ul class="step-list">
                            <li><strong>Step 1:</strong> Order your free annual credit report and review ALL information carefully</li>
                            <li><strong>Step 2:</strong> If you find a discrepancy, gather supporting documentation</li>
                            <li><strong>Step 3:</strong> File a dispute with the appropriate Credit Reporting Company using their website or the phone number on your report</li>
                            <li><strong>Step 4:</strong> The bureau has 30 days to investigate and respond</li>
                            <li><strong>Step 5:</strong> If unresolved, submit a complaint to the Consumer Financial Protection Bureau (CFPB)</li>
                        </ul>
                    </div>

                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Bureau</th>
                                <th>Dispute Website</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Equifax</strong></td>
                                <td><a href="https://www.equifax.com/personal/credit-report-services/credit-dispute/" class="external-link" target="_blank">equifax.com/personal/credit-report-services/credit-dispute/</a></td>
                            </tr>
                            <tr>
                                <td><strong>Experian</strong></td>
                                <td><a href="https://www.experian.com/disputes/main.html" class="external-link" target="_blank">experian.com/disputes/main.html</a></td>
                            </tr>
                            <tr>
                                <td><strong>TransUnion</strong></td>
                                <td><a href="https://dispute.transunion.com" class="external-link" target="_blank">dispute.transunion.com</a></td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="exception-box">
                        <h4>CFPB Escalation</h4>
                        <p>If you have attempted to resolve credit report discrepancies and are having issues after working with the Credit Reporting Company, you can submit a complaint to the Consumer Financial Protection Bureau (CFPB) at <a href="https://www.consumerfinance.gov" class="external-link" target="_blank">consumerfinance.gov</a>.</p>
                    </div>
                </div>
            </section>

            <!-- Section 5: Understanding Credit Scores -->
            <section id="section-5" class="section">
                <div class="section-header">
                    <div class="section-number">5</div>
                    <div class="section-title"><h2>Understanding Varying Credit Scores</h2><span>Why your score may differ from what lenders see</span></div>
                </div>
                <div class="section-content">
                    <div class="info-box">
                        <h4>Multiple FICO Scores Exist</h4>
                        <p>There are multiple types of credit scores in the market, and <strong>16 different FICO scores alone!</strong> The scores you receive on your own may differ from the one your lender ultimately uses to qualify you for a loan.</p>
                    </div>

                    <div class="summary-grid">
                        <div class="summary-card">
                            <h4>FICO Score Versions</h4>
                            <div class="value">16+</div>
                            <div class="label">Different Models</div>
                        </div>
                        <div class="summary-card">
                            <h4>Score Range</h4>
                            <div class="value">300-850</div>
                            <div class="label">FICO Scale</div>
                        </div>
                        <div class="summary-card">
                            <h4>Bureaus</h4>
                            <div class="value">3</div>
                            <div class="label">Major Reporting Companies</div>
                        </div>
                        <div class="summary-card">
                            <h4>Free Reports</h4>
                            <div class="value">3/yr</div>
                            <div class="label">One Per Bureau Annually</div>
                        </div>
                    </div>

                    <div class="decision-tree">
                        <h3>Why Scores Vary</h3>
                        <div class="tree-node level-1">
                            <span class="tree-label">Different Scoring Models</span>
                            <p>FICO has multiple versions (FICO 2, 4, 5, 8, etc.) used for different purposes</p>
                        </div>
                        <div class="tree-node">
                            <span class="tree-label">Industry-Specific Scores</span>
                            <p>Mortgage lenders use specific FICO versions optimized for mortgage risk</p>
                        </div>
                        <div class="tree-node">
                            <span class="tree-label">Bureau Differences</span>
                            <p>Each bureau may have different data, leading to different scores</p>
                        </div>
                        <div class="tree-node">
                            <span class="tree-label">Consumer vs. Lender Scores</span>
                            <p>Free consumer scores may use different models than what lenders access</p>
                        </div>
                    </div>

                    <div class="tip-box">
                        <h4>Contact Your Lender</h4>
                        <p>To better understand which score is used for your mortgage application, <strong>contact your lender</strong>. They can explain which FICO version they use and what score you need to qualify.</p>
                    </div>

                    <div class="resource-grid">
                        <div class="resource-card">
                            <div class="resource-card-header">
                                <h4>Learn More About FICO Scores</h4>
                            </div>
                            <div class="resource-card-body">
                                <ul>
                                    <li><span class="link-icon">></span> <a href="https://www.creditstrong.com/which-fico-score-do-mortgage-lenders-use/" class="external-link" target="_blank">Which FICO Score Do Mortgage Lenders Use?</a></li>
                                    <li><span class="link-icon">></span> <a href="https://www.creditkarma.com/credit-cards/i/fico-score-vs-credit-score" class="external-link" target="_blank">FICO Score vs. Credit Score Explained</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section 6: Avoiding Scams -->
            <section id="section-6" class="section">
                <div class="section-header">
                    <div class="section-number">6</div>
                    <div class="section-title"><h2>Avoiding "Imposter" Websites</h2><span>Protect yourself from fraudulent credit report sites</span></div>
                </div>
                <div class="section-content">
                    <div class="exception-box">
                        <h4>Warning About "Imposter" Websites</h4>
                        <p>There are websites that claim to offer "free credit reports," "free credit scores," or "free credit monitoring." These sites are <strong>NOT associated</strong> with the free annual credit report program. In some cases, these "free" reports may come with strings attached or may try to collect your personal information.</p>
                    </div>

                    <div class="workflow-diagram">
                        <div class="flow-row">
                            <div class="flow-node start">Need Free Report</div>
                            <span class="flow-arrow">-></span>
                            <div class="flow-node decision">Is it AnnualCreditReport.com?</div>
                        </div>
                        <div class="decision-branch">
                            <div class="branch">
                                <span class="branch-label">YES</span>
                                <div class="flow-node output">Safe - Proceed</div>
                            </div>
                            <div class="branch">
                                <span class="branch-label">NO</span>
                                <div class="flow-node exception">Caution - May Be Scam</div>
                            </div>
                        </div>
                    </div>

                    <table class="field-table">
                        <thead>
                            <tr>
                                <th>Red Flag</th>
                                <th>What to Watch For</th>
                                <th>Risk Level</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Credit Card Required</strong></td>
                                <td>Site requires credit card for "free" report</td>
                                <td><span class="badge required-badge">High Risk</span></td>
                            </tr>
                            <tr>
                                <td><strong>Subscription Sign-up</strong></td>
                                <td>Must sign up for paid service to get report</td>
                                <td><span class="badge required-badge">High Risk</span></td>
                            </tr>
                            <tr>
                                <td><strong>Similar Domain Names</strong></td>
                                <td>Look-alike URLs (freecreditreport.com, etc.)</td>
                                <td><span class="badge required-badge">High Risk</span></td>
                            </tr>
                            <tr>
                                <td><strong>Unsolicited Offers</strong></td>
                                <td>Email/pop-up ads offering free reports</td>
                                <td><span class="badge required-badge">High Risk</span></td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="tip-box">
                        <h4>Only One Legitimate Source</h4>
                        <p>The ONLY official website for free annual credit reports is <strong>AnnualCreditReport.com</strong> or by calling <strong>877-322-8228</strong>. Bookmark this site and always access it directly - never through links in emails.</p>
                    </div>
                </div>
            </section>

            <!-- Section 7: Additional Resources -->
            <section id="section-7" class="section">
                <div class="section-header">
                    <div class="section-number">7</div>
                    <div class="section-title"><h2>Additional Resources</h2><span>Government and educational resources for credit management</span></div>
                </div>
                <div class="section-content">
                    <div class="resource-grid">
                        <div class="resource-card">
                            <div class="resource-card-header">
                                <h4>Consumer Financial Protection Bureau (CFPB)</h4>
                            </div>
                            <div class="resource-card-body">
                                <ul>
                                    <li><span class="link-icon">></span> <a href="https://www.consumerfinance.gov" class="external-link" target="_blank">consumerfinance.gov</a></li>
                                    <li><span class="check-icon">+</span> File complaints against credit bureaus</li>
                                    <li><span class="check-icon">+</span> Educational resources on credit</li>
                                    <li><span class="check-icon">+</span> Consumer protection tools</li>
                                </ul>
                            </div>
                        </div>

                        <div class="resource-card">
                            <div class="resource-card-header">
                                <h4>Federal Trade Commission (FTC)</h4>
                            </div>
                            <div class="resource-card-body">
                                <ul>
                                    <li><span class="link-icon">></span> <a href="https://www.consumer.ftc.gov" class="external-link" target="_blank">consumer.ftc.gov</a></li>
                                    <li><span class="check-icon">+</span> Identity theft resources</li>
                                    <li><span class="check-icon">+</span> Credit fraud protection</li>
                                    <li><span class="check-icon">+</span> Consumer rights information</li>
                                </ul>
                            </div>
                        </div>

                        <div class="resource-card">
                            <div class="resource-card-header">
                                <h4>MyFICO (Fair Isaac)</h4>
                            </div>
                            <div class="resource-card-body">
                                <ul>
                                    <li><span class="link-icon">></span> <a href="https://www.myfico.com" class="external-link" target="_blank">myfico.com</a></li>
                                    <li><span class="check-icon">+</span> Official FICO score provider</li>
                                    <li><span class="check-icon">+</span> Credit education center</li>
                                    <li><span class="check-icon">+</span> Score improvement tips</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="info-box">
                        <h4>About This Guide</h4>
                        <p>This guide is provided by Enact Mortgage Insurance (Enact Mortgage Insurance Corporation and Enact Mortgage Insurance Corporation of North Carolina). Enact Holdings, Inc. Document reference: 01753.CB.0323</p>
                    </div>
                </div>
            </section>

            <!-- Quick Reference -->
            <div id="quick-ref" class="quick-ref">
                <h3>Understanding Credit Quick Reference</h3>
                <pre>
CREDIT REPORT ESSENTIALS
========================

FREE ANNUAL CREDIT REPORT
-------------------------
Website: AnnualCreditReport.com (ONLY official source)
Phone:   877-322-8228
Note:    Do NOT contact bureaus directly for free report

CREDIT BUREAUS & DISPUTE LINKS
------------------------------
Equifax:     equifax.com/personal/credit-report-services/credit-dispute/
Experian:    experian.com/disputes/main.html
TransUnion:  dispute.transunion.com

DISPUTE PROCESS
---------------
1. Review report carefully
2. Identify discrepancies
3. File dispute with appropriate bureau
4. Wait for investigation (30 days)
5. If unresolved: File CFPB complaint at consumerfinance.gov

CREDIT SCORE FACTS
------------------
- 16+ different FICO score versions exist
- Mortgage lenders use specific FICO versions
- Consumer scores may differ from lender scores
- Contact your lender to understand which score they use

WARNING SIGNS OF SCAM SITES
---------------------------
[ ] Requires credit card for "free" report
[ ] Forces subscription sign-up
[ ] Uses look-alike domain names
[ ] Came via unsolicited email or pop-up

ADDITIONAL RESOURCES
--------------------
CFPB:    consumerfinance.gov
FTC:     consumer.ftc.gov
MyFICO:  myfico.com

KEY TAKEAWAY
------------
Higher credit score = Lower interest rates + Lower fees + Better loan approval odds
Review your credit reports regularly and dispute any errors promptly!

Source: Enact Mortgage Insurance | 01753.CB.0323
                </pre>
            </div>
        </div>

        <!-- ==================== AI AGENTS TAB ==================== -->
        <div id="agents-panel" class="tab-panel">
            <!-- Agent Header -->
            <div class="agent-header">
                <h1>AI Agent Opportunities</h1>
                <p class="subtitle">Automation opportunities identified for credit education and borrower engagement</p>
            </div>

            <!-- Summary Stats -->
            <div class="agent-summary" id="agent-summary">
                <div class="agent-summary-card">
                    <div class="agent-summary-value">3</div>
                    <div class="agent-summary-label">Agent Opportunities</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">65%</div>
                    <div class="agent-summary-label">Education Automation</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">15 min</div>
                    <div class="agent-summary-label">Est. Time Saved per Borrower</div>
                </div>
                <div class="agent-summary-card">
                    <div class="agent-summary-value">High</div>
                    <div class="agent-summary-label">Borrower Satisfaction Impact</div>
                </div>
            </div>

            <!-- Heat Map Legend -->
            <div class="heat-legend">
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(90deg, #ef4444, #f97316);"></div>
                    <span>Critical Priority (9-10)</span>
                </div>
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(90deg, #f97316, #eab308);"></div>
                    <span>High Priority (7-8)</span>
                </div>
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(90deg, #eab308, #22c55e);"></div>
                    <span>Medium Priority (5-6)</span>
                </div>
                <div class="heat-legend-item">
                    <div class="heat-legend-color" style="background: linear-gradient(90deg, #22c55e, #14b8a6);"></div>
                    <span>Low Priority (1-4)</span>
                </div>
            </div>

            <!-- Heat Map Grid -->
            <div class="heat-map-container" id="agent-heatmap">
                <div class="heat-map-title">Priority Heat Map</div>
                <div class="heat-map-grid">
                    <div class="heat-item high" onclick="scrollToAgent('agent-creditcoach')">
                        <div class="heat-score">8.5</div>
                        <div class="heat-name">Credit Coach Agent</div>
                        <div class="heat-desc">AI-powered credit education and improvement guidance</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Time: <span>10 min</span></div>
                            <div class="heat-metric">Complexity: <span>Medium</span></div>
                        </div>
                    </div>
                    <div class="heat-item high" onclick="scrollToAgent('agent-disputehelper')">
                        <div class="heat-score">7.8</div>
                        <div class="heat-name">Dispute Helper Agent</div>
                        <div class="heat-desc">Automate credit dispute letter generation</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Time: <span>15 min</span></div>
                            <div class="heat-metric">Complexity: <span>Low</span></div>
                        </div>
                    </div>
                    <div class="heat-item medium" onclick="scrollToAgent('agent-scoremonitor')">
                        <div class="heat-score">6.2</div>
                        <div class="heat-name">Score Monitor Agent</div>
                        <div class="heat-desc">Track and alert on credit score changes</div>
                        <div class="heat-metrics">
                            <div class="heat-metric">Time: <span>N/A</span></div>
                            <div class="heat-metric">Complexity: <span>Low</span></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Agent Details -->
            <div id="agent-details">
                <h2 style="color: var(--text-primary); margin-bottom: 25px; font-size: 1.5rem;">Agent Details</h2>
                <div class="agent-grid">
                    <!-- Credit Coach Agent -->
                    <div class="agent-card" id="agent-creditcoach">
                        <div class="agent-card-header">
                            <div class="agent-icon">C</div>
                            <div class="agent-info">
                                <div class="agent-name">Credit Coach Agent</div>
                                <div class="agent-type">Education / Conversational AI</div>
                            </div>
                            <span class="agent-priority high">High</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">An AI-powered conversational agent that provides personalized credit education to first-time homebuyers. Answers questions about credit reports, scores, and improvement strategies based on the borrower's specific situation.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Flow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">Borrower Query</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Context Analysis</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Generate Response</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Provide Resources</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">10 min</div>
                                    <div class="agent-stat-label">Time Saved</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">90%</div>
                                    <div class="agent-stat-label">Accuracy</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">Med</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('creditcoach')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>

                    <!-- Dispute Helper Agent -->
                    <div class="agent-card" id="agent-disputehelper">
                        <div class="agent-card-header">
                            <div class="agent-icon">D</div>
                            <div class="agent-info">
                                <div class="agent-name">Dispute Helper Agent</div>
                                <div class="agent-type">Document Generation</div>
                            </div>
                            <span class="agent-priority high">High</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">Automates the creation of credit dispute letters by gathering error details from borrowers and generating compliant, effective dispute correspondence for submission to credit bureaus.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Flow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">Identify Error</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Gather Details</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Generate Letter</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Provide Instructions</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">15 min</div>
                                    <div class="agent-stat-label">Time Saved</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">95%</div>
                                    <div class="agent-stat-label">Accuracy</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">Low</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('disputehelper')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>

                    <!-- Score Monitor Agent -->
                    <div class="agent-card" id="agent-scoremonitor">
                        <div class="agent-card-header">
                            <div class="agent-icon">M</div>
                            <div class="agent-info">
                                <div class="agent-name">Score Monitor Agent</div>
                                <div class="agent-type">Monitoring / Alerts</div>
                            </div>
                            <span class="agent-priority medium">Medium</span>
                        </div>
                        <div class="agent-card-body">
                            <p class="agent-description">Monitors borrower credit scores throughout the loan process and sends proactive alerts when significant changes occur, helping loan officers stay ahead of potential qualification issues.</p>
                            <div class="agent-flow">
                                <div class="agent-flow-title">Agent Flow</div>
                                <div class="agent-flow-diagram">
                                    <span class="agent-step">Monitor Score</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Detect Change</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Analyze Impact</span>
                                    <span class="agent-arrow">-></span>
                                    <span class="agent-step">Alert Team</span>
                                </div>
                            </div>
                            <div class="agent-stats">
                                <div class="agent-stat">
                                    <div class="agent-stat-value">N/A</div>
                                    <div class="agent-stat-label">Time Saved</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">99%</div>
                                    <div class="agent-stat-label">Accuracy</div>
                                </div>
                                <div class="agent-stat">
                                    <div class="agent-stat-value">Low</div>
                                    <div class="agent-stat-label">Complexity</div>
                                </div>
                            </div>
                            <button class="agent-prompt-btn" onclick="showAgentPrompt('scoremonitor')">
                                View Build Prompt
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Documentation Modal -->
    <div class="modal-overlay" id="docModal">
        <div class="modal">
            <div class="modal-header">
                <h3>Understanding Credit Workflow Documentation</h3>
                <div class="modal-actions">
                    <button class="modal-btn copy" onclick="copyToClipboard()">Copy</button>
                    <button class="modal-btn close" onclick="closeDocModal()">Close</button>
                </div>
            </div>
            <div class="modal-body">
                <pre id="docContent"># Understanding Credit for First-Time Homebuyers

## Overview
A comprehensive guide to obtaining, understanding, and maintaining good credit for mortgage qualification. Source: Enact Mortgage Insurance.

## Why Credit Matters
- Higher credit score = Lower interest rates and fees
- Better chance of loan approval
- More loan product options available

## Obtaining Free Credit Reports

### Fair Credit Reporting Act (FCRA)
Entitles you to one free credit report every 12 months from each of the three major bureaus.

### How to Request
- Online: AnnualCreditReport.com (ONLY official source)
- Phone: 877-322-8228
- Do NOT contact bureaus directly for free report

## The Three Credit Bureaus

### Equifax
- Dispute URL: equifax.com/personal/credit-report-services/credit-dispute/

### Experian
- Dispute URL: experian.com/disputes/main.html

### TransUnion
- Dispute URL: dispute.transunion.com

## Disputing Errors
1. Review report carefully
2. Identify discrepancies
3. File dispute with appropriate bureau
4. Wait for investigation (30 days)
5. If unresolved: File CFPB complaint at consumerfinance.gov

## Credit Score Variations
- 16+ different FICO score versions exist
- Mortgage lenders use specific FICO versions
- Consumer scores may differ from lender scores
- Contact your lender to understand their scoring

## Avoiding Scams
Watch out for:
- Sites requiring credit cards for "free" reports
- Forced subscription sign-ups
- Look-alike domain names
- Unsolicited email offers

## Additional Resources
- CFPB: consumerfinance.gov
- FTC: consumer.ftc.gov
- MyFICO: myfico.com

Source: Enact Mortgage Insurance | 01753.CB.0323</pre>
            </div>
        </div>
    </div>

    <!-- AI Prompt Modal -->
    <div class="modal-overlay prompt-modal" id="promptModal">
        <div class="modal">
            <div class="modal-header">
                <h3 id="promptModalTitle">AI Agent Build Prompt</h3>
                <div class="modal-actions">
                    <button class="modal-btn copy" onclick="copyPromptToClipboard()">Copy Prompt</button>
                    <button class="modal-btn close" onclick="closePromptModal()">Close</button>
                </div>
            </div>
            <div class="modal-body">
                <div class="prompt-tags" id="promptTags"></div>
                <div class="prompt-section">
                    <h4>Agent Purpose</h4>
                    <div class="prompt-box" id="promptPurpose"></div>
                </div>
                <div class="prompt-section">
                    <h4>Full Build Prompt</h4>
                    <div class="prompt-box" id="promptContent"></div>
                </div>
                <div class="prompt-section">
                    <h4>Integration Points</h4>
                    <div class="prompt-box" id="promptIntegration"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="copy-success" id="copySuccess">Copied to clipboard!</div>

    <script>
        // Tab switching
        function switchTab(tab) {
            document.querySelectorAll('.sidebar-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));

            if (tab === 'workflow') {
                document.querySelector('.sidebar-tab:not(.agent-tab)').classList.add('active');
                document.getElementById('workflow-panel').classList.add('active');
                document.getElementById('workflow-nav').style.display = 'block';
                document.getElementById('agents-nav').style.display = 'none';
            } else {
                document.querySelector('.sidebar-tab.agent-tab').classList.add('active');
                document.getElementById('agents-panel').classList.add('active');
                document.getElementById('workflow-nav').style.display = 'none';
                document.getElementById('agents-nav').style.display = 'block';
            }

            window.scrollTo(0, 0);
        }

        // Scroll spy with isScrolling flag and 1000ms timeout
        const sections = document.querySelectorAll('.section, .quick-ref');
        const navItems = document.querySelectorAll('#workflow-nav .nav-item');
        let isScrolling = false;
        let scrollTimeout;

        function updateActiveNav() {
            if (isScrolling) return;

            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100;
                if (window.scrollY >= sectionTop) current = section.getAttribute('id');
            });
            navItems.forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('href') === '#' + current) item.classList.add('active');
            });
        }

        // Handle nav click to temporarily disable scroll spy
        navItems.forEach(item => {
            item.addEventListener('click', function(e) {
                isScrolling = true;
                clearTimeout(scrollTimeout);

                // Remove active from all, add to clicked
                navItems.forEach(nav => nav.classList.remove('active'));
                this.classList.add('active');

                // Re-enable scroll spy after 1000ms
                scrollTimeout = setTimeout(() => {
                    isScrolling = false;
                }, 1000);
            });
        });

        window.addEventListener('scroll', updateActiveNav);

        // Modal
        function openDocModal() {
            document.getElementById('docModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closeDocModal() {
            document.getElementById('docModal').classList.remove('show');
            document.body.style.overflow = '';
        }

        async function copyToClipboard() {
            try {
                await navigator.clipboard.writeText(document.getElementById('docContent').textContent);
                const success = document.getElementById('copySuccess');
                success.style.display = 'block';
                setTimeout(() => { success.style.display = 'none'; }, 2000);
            } catch (e) { alert('Failed to copy.'); }
        }

        document.addEventListener('keydown', (e) => { if (e.key === 'Escape') { closeDocModal(); closePromptModal(); } });
        document.getElementById('docModal').addEventListener('click', (e) => { if (e.target.id === 'docModal') closeDocModal(); });

        document.addEventListener('DOMContentLoaded', () => { updateActiveNav(); });

        // Scroll to agent card and highlight
        function scrollToAgent(agentId) {
            const agentCard = document.getElementById(agentId);
            if (agentCard) {
                document.querySelectorAll('.agent-card.highlight').forEach(card => {
                    card.classList.remove('highlight');
                });

                agentCard.scrollIntoView({ behavior: 'smooth', block: 'center' });

                setTimeout(() => {
                    agentCard.classList.add('highlight');
                }, 300);

                setTimeout(() => {
                    agentCard.classList.remove('highlight');
                }, 2500);
            }
        }

        // Agent Prompt System
        const agentPrompts = {
            creditcoach: {
                name: 'Credit Coach Agent',
                tags: ['Education', 'Conversational AI', 'Medium Complexity', 'High Priority'],
                purpose: `This agent provides personalized credit education to first-time homebuyers through an AI-powered conversational interface. It answers questions about credit reports, scores, improvement strategies, and the impact of credit on mortgage qualification, saving loan officers significant time while improving borrower preparedness.`,
                prompt: `You are building a Credit Education Agent for CMG Financial's First-Time Homebuyer program.

AGENT NAME: Credit Coach Agent
TYPE: Conversational AI / Education

OBJECTIVE:
Create an AI agent that provides personalized credit education to first-time homebuyers, answering their questions and providing actionable guidance for credit improvement.

KNOWLEDGE BASE:
1. Credit Report Fundamentals
   - Three major bureaus (Equifax, Experian, TransUnion)
   - FCRA rights and free annual reports
   - How to read a credit report

2. Credit Score Education
   - FICO score ranges and meanings
   - 16+ FICO score versions
   - Mortgage-specific scoring models
   - Factors affecting credit scores

3. Credit Improvement Strategies
   - Payment history optimization
   - Credit utilization management
   - Length of credit history
   - New credit inquiries impact
   - Credit mix recommendations

4. Dispute Process
   - How to identify errors
   - Bureau dispute procedures
   - CFPB escalation process
   - Timeline expectations

CONVERSATION FLOW:
1. Greet borrower and assess knowledge level
2. Answer specific questions with clear, jargon-free language
3. Provide relevant resources and next steps
4. Offer to escalate to loan officer if needed

RESPONSE GUIDELINES:
- Use simple, non-technical language
- Provide specific, actionable advice
- Include relevant links and resources
- Never provide specific financial advice
- Refer complex situations to loan officer`,
                integration: `INTEGRATION POINTS:
1. Borrower Portal
   - Embedded chat widget
   - FAQ integration
   - Session persistence

2. CRM System
   - Log conversations
   - Track topics discussed
   - Update borrower profile

3. LO Dashboard
   - Alert on complex questions
   - Provide conversation summary
   - Enable warm handoff

4. Knowledge Base
   - Regular content updates
   - Compliance review
   - Regulatory changes`
            },
            disputehelper: {
                name: 'Dispute Helper Agent',
                tags: ['Document Generation', 'Automation', 'Low Complexity', 'High Priority'],
                purpose: `This agent automates the creation of credit dispute letters by gathering error details from borrowers through a guided interview and generating compliant, effective dispute correspondence ready for submission to credit bureaus.`,
                prompt: `You are building a Dispute Letter Generation Agent for CMG Financial.

AGENT NAME: Dispute Helper Agent
TYPE: Document Generation / Guided Interview

OBJECTIVE:
Automate the creation of credit dispute letters by gathering error details from borrowers and generating compliant, professional correspondence.

GUIDED INTERVIEW FLOW:
1. Which credit bureau has the error?
   - Equifax
   - Experian
   - TransUnion
   - Multiple bureaus

2. What type of error did you find?
   - Account doesn't belong to me
   - Incorrect account status
   - Wrong balance/payment history
   - Duplicate account
   - Outdated information
   - Identity error

3. Account details:
   - Creditor name
   - Account number (last 4 digits)
   - Approximate balance

4. What is the correct information?
   - Gather supporting documentation

LETTER TEMPLATE STRUCTURE:
{
  "date": "auto-generated",
  "bureau_address": "based on selection",
  "borrower_info": {
    "name": "from profile",
    "address": "from profile",
    "ssn_last_4": "from profile",
    "dob": "from profile"
  },
  "dispute_details": {
    "account_info": "gathered",
    "error_type": "selected",
    "explanation": "generated",
    "requested_action": "correction/removal"
  },
  "enclosures": "list of supporting docs"
}

OUTPUT:
- Professional dispute letter (PDF)
- Bureau-specific mailing address
- Checklist of supporting documents
- Timeline expectations
- Tracking instructions`,
                integration: `INTEGRATION POINTS:
1. Borrower Portal
   - Guided form interface
   - Document upload
   - Letter preview/download

2. Document Management
   - Store generated letters
   - Track dispute status
   - Archive correspondence

3. CRM/LOS
   - Update borrower notes
   - Alert loan officer
   - Track resolution

4. Notification System
   - Remind to follow up
   - Alert on 30-day deadline
   - Confirm receipt instructions`
            },
            scoremonitor: {
                name: 'Score Monitor Agent',
                tags: ['Monitoring', 'Alerts', 'Low Complexity', 'Medium Priority'],
                purpose: `This agent continuously monitors borrower credit scores throughout the loan process and sends proactive alerts when significant changes occur, helping loan officers stay ahead of potential qualification issues before they impact closing.`,
                prompt: `You are building a Credit Score Monitoring Agent for CMG Financial.

AGENT NAME: Score Monitor Agent
TYPE: Monitoring / Alert System

OBJECTIVE:
Monitor borrower credit scores throughout the loan process and alert the loan team of significant changes that could impact qualification.

MONITORING TRIGGERS:
1. Score Changes
   - Drop > 20 points: WARNING
   - Drop > 40 points: CRITICAL
   - Any drop below qualification threshold: CRITICAL
   - Score improvement > 20 points: INFO (positive)

2. New Activity
   - New credit inquiry detected
   - New account opened
   - Late payment reported
   - Collection account added
   - High utilization increase

3. Timeline-Based
   - 7 days before closing: Verify score stable
   - 14 days before closing: Pre-closing check
   - 30 days in process: Routine check

ALERT STRUCTURE:
{
  "loan_number": "2026-001234",
  "borrower_name": "John Smith",
  "previous_score": 720,
  "current_score": 695,
  "change": -25,
  "alert_level": "WARNING",
  "detected_change": "New credit inquiry + increased utilization",
  "qualification_impact": "Still qualified but rate may change",
  "recommended_action": "Contact borrower to discuss credit activity"
}

ALERT ROUTING:
- INFO: LO dashboard only
- WARNING: LO + email notification
- CRITICAL: LO + Supervisor + SMS alert

BORROWER COMMUNICATION:
- Auto-generate explanation of impact
- Provide credit preservation tips
- Schedule follow-up call if needed`,
                integration: `INTEGRATION POINTS:
1. Credit Monitoring Service
   - Soft pull monitoring
   - Daily score checks
   - Change detection

2. LOS Integration
   - Update loan file
   - Track score history
   - Document changes

3. Notification Services
   - Email alerts
   - SMS for critical
   - Dashboard notifications

4. Borrower Portal
   - Credit tips section
   - Activity warnings
   - Do's and Don'ts guide`
            }
        };

        // Show agent prompt modal
        let currentPromptContent = '';

        function showAgentPrompt(agentKey) {
            const agent = agentPrompts[agentKey];
            if (!agent) return;

            document.getElementById('promptModalTitle').textContent = agent.name + ' - Build Prompt';

            const tagsHtml = agent.tags.map(tag => '<span class="prompt-tag">' + tag + '</span>').join('');
            document.getElementById('promptTags').innerHTML = tagsHtml;

            document.getElementById('promptPurpose').textContent = agent.purpose;
            document.getElementById('promptContent').textContent = agent.prompt;
            document.getElementById('promptIntegration').textContent = agent.integration;

            currentPromptContent = '# ' + agent.name + '\n\n## Purpose\n' + agent.purpose + '\n\n## Build Prompt\n' + agent.prompt + '\n\n## Integration Points\n' + agent.integration;

            document.getElementById('promptModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closePromptModal() {
            document.getElementById('promptModal').classList.remove('show');
            document.body.style.overflow = '';
        }

        async function copyPromptToClipboard() {
            try {
                await navigator.clipboard.writeText(currentPromptContent);
                const success = document.getElementById('copySuccess');
                success.style.display = 'block';
                setTimeout(() => { success.style.display = 'none'; }, 2000);
            } catch (e) {
                alert('Failed to copy prompt.');
            }
        }

        document.getElementById('promptModal').addEventListener('click', (e) => {
            if (e.target.id === 'promptModal') closePromptModal();
        });
    </script>
</body>
</html>
