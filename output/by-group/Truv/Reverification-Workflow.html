<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Truv Reverification - Workflow | CMG Training Portal</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0f1a;
            --bg-secondary: #111827;
            --bg-card: #1a2234;
            --accent-blue: #3b82f6;
            --accent-teal: #14b8a6;
            --accent-amber: #f59e0b;
            --accent-green: #22c55e;
            --accent-purple: #8b5cf6;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --border-subtle: rgba(255,255,255,0.08);
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Plus Jakarta Sans', sans-serif; background: var(--bg-primary); color: var(--text-primary); min-height: 100vh; }
        .breadcrumb { background: linear-gradient(90deg, #0d1525 0%, #1a2234 100%); padding: 14px 25px; display: flex; align-items: center; gap: 12px; font-size: 0.9rem; position: fixed; top: 0; left: 0; right: 0; z-index: 1001; border-bottom: 1px solid var(--border-subtle); }
        .breadcrumb a { color: var(--text-secondary); text-decoration: none; font-weight: 600; padding: 6px 12px; background: rgba(255,255,255,0.05); border-radius: 6px; border: 1px solid var(--border-subtle); transition: all 0.2s; }
        .breadcrumb a:hover { background: rgba(139, 92, 246, 0.15); color: var(--accent-purple); }
        .breadcrumb .separator { color: var(--text-muted); }
        .breadcrumb .current { color: var(--accent-amber); font-weight: 600; }
        .layout { display: flex; padding-top: 54px; }
        .sidebar { width: 280px; background: var(--bg-secondary); border-right: 1px solid var(--border-subtle); height: calc(100vh - 54px); position: fixed; top: 54px; left: 0; overflow-y: auto; padding: 20px 0; }
        .sidebar-header { padding: 0 20px 20px; border-bottom: 1px solid var(--border-subtle); margin-bottom: 15px; }
        .sidebar-title { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.1em; color: var(--text-muted); margin-bottom: 8px; }
        .workflow-name { font-size: 1.1rem; font-weight: 700; }
        .nav-section { padding: 0 12px; margin-bottom: 20px; }
        .nav-section-title { font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.1em; color: var(--text-muted); padding: 8px 12px; }
        .nav-item { display: flex; align-items: center; gap: 10px; padding: 10px 12px; color: var(--text-secondary); text-decoration: none; border-radius: 8px; font-size: 0.85rem; font-weight: 500; transition: all 0.2s; cursor: pointer; }
        .nav-item:hover { background: rgba(139, 92, 246, 0.1); color: var(--text-primary); }
        .nav-item.active { background: rgba(139, 92, 246, 0.15); color: var(--accent-purple); }
        .nav-item .step-num { width: 22px; height: 22px; background: var(--bg-card); border-radius: 6px; display: flex; align-items: center; justify-content: center; font-size: 0.75rem; font-weight: 700; }
        .nav-item.active .step-num { background: var(--accent-purple); color: white; }
        .main-content { flex: 1; margin-left: 280px; padding: 30px 40px; max-width: calc(100% - 280px); }
        .tab-container { display: flex; gap: 8px; margin-bottom: 30px; border-bottom: 1px solid var(--border-subtle); padding-bottom: 15px; }
        .tab-btn { padding: 10px 20px; background: transparent; border: 1px solid var(--border-subtle); border-radius: 8px; color: var(--text-secondary); font-weight: 600; cursor: pointer; transition: all 0.2s; font-family: inherit; font-size: 0.9rem; }
        .tab-btn:hover { background: rgba(139, 92, 246, 0.1); }
        .tab-btn.active { background: var(--accent-purple); border-color: var(--accent-purple); color: white; }
        .tab-panel { display: none; }
        .tab-panel.active { display: block; }
        .workflow-header { margin-bottom: 35px; }
        .workflow-header h1 { font-size: 2rem; font-weight: 800; margin-bottom: 10px; background: linear-gradient(135deg, var(--text-primary) 0%, var(--accent-purple) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .workflow-meta { display: flex; gap: 20px; color: var(--text-muted); font-size: 0.9rem; }
        .workflow-meta span { display: flex; align-items: center; gap: 6px; }
        .workflow-section { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 16px; padding: 30px; margin-bottom: 25px; }
        .workflow-section h2 { font-size: 1.3rem; font-weight: 700; margin-bottom: 20px; display: flex; align-items: center; gap: 12px; }
        .section-icon { width: 36px; height: 36px; background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-teal) 100%); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 1.1rem; }
        .step-list { display: flex; flex-direction: column; gap: 16px; }
        .step-item { display: flex; gap: 16px; padding: 18px; background: rgba(0,0,0,0.2); border-radius: 12px; border: 1px solid var(--border-subtle); }
        .step-number { width: 32px; height: 32px; background: var(--accent-purple); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.9rem; flex-shrink: 0; }
        .step-content h3 { font-size: 1rem; font-weight: 700; margin-bottom: 6px; }
        .step-content p { font-size: 0.9rem; color: var(--text-secondary); line-height: 1.6; }
        .callout { background: rgba(139, 92, 246, 0.1); border: 1px solid rgba(139, 92, 246, 0.3); border-radius: 12px; padding: 18px 22px; margin-top: 20px; }
        .callout-title { font-weight: 700; color: var(--accent-purple); margin-bottom: 8px; display: flex; align-items: center; gap: 8px; }
        .callout p { font-size: 0.9rem; color: var(--text-secondary); line-height: 1.6; }
        .warning-callout { background: rgba(245, 158, 11, 0.1); border-color: rgba(245, 158, 11, 0.3); }
        .warning-callout .callout-title { color: var(--accent-amber); }
        .success-callout { background: rgba(34, 197, 94, 0.1); border-color: rgba(34, 197, 94, 0.3); }
        .success-callout .callout-title { color: var(--accent-green); }
        .timeline-box { background: rgba(0,0,0,0.2); border: 1px solid var(--border-subtle); border-radius: 10px; padding: 15px; margin-top: 15px; }
        .timeline-item { display: flex; align-items: center; gap: 12px; padding: 8px 0; border-bottom: 1px solid var(--border-subtle); }
        .timeline-item:last-child { border-bottom: none; }
        .timeline-dot { width: 10px; height: 10px; border-radius: 50%; background: var(--accent-purple); }
        .timeline-text { font-size: 0.85rem; color: var(--text-secondary); }
        /* Heat Map & Agents */
        .heat-map-container { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 16px; padding: 25px; margin-bottom: 30px; }
        .heat-map-title { font-size: 1.1rem; font-weight: 700; margin-bottom: 20px; display: flex; align-items: center; gap: 10px; }
        .heat-map-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 12px; }
        .heat-map-item { background: rgba(0,0,0,0.3); border: 1px solid var(--border-subtle); border-radius: 10px; padding: 15px; cursor: pointer; transition: all 0.2s; }
        .heat-map-item:hover { transform: translateY(-2px); border-color: var(--accent-purple); }
        .heat-map-item .agent-name { font-size: 0.85rem; font-weight: 600; margin-bottom: 8px; }
        .heat-map-item .score-bar { height: 6px; background: rgba(255,255,255,0.1); border-radius: 3px; overflow: hidden; margin-bottom: 6px; }
        .heat-map-item .score-fill { height: 100%; border-radius: 3px; }
        .heat-map-item .score-label { font-size: 0.75rem; color: var(--text-muted); }
        .agent-card { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 16px; padding: 25px; margin-bottom: 20px; transition: all 0.3s; }
        .agent-card.highlight { animation: highlightPulse 2s ease-out; }
        @keyframes highlightPulse { 0% { box-shadow: 0 0 0 0 rgba(139, 92, 246, 0.5); } 50% { box-shadow: 0 0 20px 10px rgba(139, 92, 246, 0.2); } 100% { box-shadow: 0 0 0 0 rgba(139, 92, 246, 0); } }
        .agent-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 18px; }
        .agent-title { font-size: 1.2rem; font-weight: 700; }
        .agent-score { background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-teal) 100%); padding: 6px 14px; border-radius: 20px; font-weight: 700; font-size: 0.9rem; }
        .agent-description { color: var(--text-secondary); font-size: 0.95rem; line-height: 1.6; margin-bottom: 20px; }
        .agent-details { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; }
        .detail-box { background: rgba(0,0,0,0.2); border-radius: 10px; padding: 15px; }
        .detail-label { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.05em; color: var(--text-muted); margin-bottom: 6px; }
        .detail-value { font-size: 0.9rem; font-weight: 600; }
        .view-prompt-btn { margin-top: 18px; padding: 12px 20px; background: rgba(139, 92, 246, 0.15); border: 1px solid rgba(139, 92, 246, 0.3); border-radius: 8px; color: var(--accent-purple); font-weight: 600; cursor: pointer; font-family: inherit; font-size: 0.9rem; }
        .view-prompt-btn:hover { background: rgba(139, 92, 246, 0.25); }
        .modal-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(10, 15, 26, 0.9); display: none; justify-content: center; align-items: center; z-index: 2000; padding: 20px; backdrop-filter: blur(5px); }
        .modal-overlay.active { display: flex; }
        .modal { background: var(--bg-card); border: 1px solid var(--border-subtle); border-radius: 16px; width: 100%; max-width: 700px; max-height: 85vh; display: flex; flex-direction: column; }
        .modal-header { padding: 20px 25px; border-bottom: 1px solid var(--border-subtle); display: flex; justify-content: space-between; align-items: center; }
        .modal-header h3 { font-size: 1.2rem; font-weight: 700; }
        .modal-close { background: rgba(255,255,255,0.1); border: none; width: 32px; height: 32px; border-radius: 8px; color: var(--text-secondary); cursor: pointer; font-size: 1.2rem; }
        .modal-body { padding: 25px; overflow-y: auto; }
        .prompt-section { margin-bottom: 25px; }
        .prompt-section:last-child { margin-bottom: 0; }
        .prompt-section h4 { font-size: 0.9rem; font-weight: 700; color: var(--accent-purple); margin-bottom: 12px; }
        .prompt-content { background: rgba(0,0,0,0.3); border: 1px solid var(--border-subtle); border-radius: 10px; padding: 18px; font-family: 'JetBrains Mono', monospace; font-size: 0.85rem; line-height: 1.7; color: var(--text-secondary); white-space: pre-wrap; }
    </style>
</head>
<body>
    <nav class="breadcrumb">
        <a href="../../index.html">üè† Portal</a>
        <span class="separator">‚Ä∫</span>
        <a href="./index.html">‚úÖ Truv</a>
        <span class="separator">‚Ä∫</span>
        <span class="current">Reverification</span>
    </nav>

    <div class="layout">
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-title">Workflow</div>
                <div class="workflow-name">Truv Reverification</div>
            </div>
            <nav class="nav-section">
                <div class="nav-section-title">Sections</div>
                <a class="nav-item active" href="#when"><span class="step-num">1</span> When to Reverify</a>
                <a class="nav-item" href="#byte-method"><span class="step-num">2</span> Reverify in Byte</a>
                <a class="nav-item" href="#sso-method"><span class="step-num">3</span> Reverify via SSO</a>
                <a class="nav-item" href="#review"><span class="step-num">4</span> Review Report</a>
            </nav>
        </aside>

        <main class="main-content">
            <div class="tab-container">
                <button class="tab-btn active" onclick="switchTab('workflow')">üìã Workflow</button>
                <button class="tab-btn" onclick="switchTab('agents')">ü§ñ AI Agents</button>
            </div>

            <div id="workflow-panel" class="tab-panel active">
                <div class="workflow-header">
                    <h1>Truv Reverification</h1>
                    <div class="workflow-meta">
                        <span>üìÖ Updated: July 2025</span>
                        <span>‚è±Ô∏è ~3 min to complete</span>
                        <span>üë§ Processor / P3</span>
                    </div>
                </div>

                <section class="workflow-section" id="when">
                    <h2><span class="section-icon">üìÖ</span> When to Reverify</h2>
                    <p style="color: var(--text-secondary); margin-bottom: 20px;">Reverification (VVOE) confirms current employment status before closing. Truv will automatically send the borrower an email as the loan approaches closing.</p>

                    <div class="callout success-callout">
                        <div class="callout-title">‚úÖ Reverifications are FREE within 90 days</div>
                        <p>As long as the borrower does not change their password with their payroll provider. Advise borrowers not to change any credentials until after the loan closes.</p>
                    </div>

                    <div class="callout warning-callout" style="margin-top: 15px;">
                        <div class="callout-title">‚ö†Ô∏è Validity Periods</div>
                        <p><strong>Report Date:</strong> Valid for 10 business days (or per program guidelines)<br>
                        <strong>"Current as of" Date:</strong> Valid for 30 days (Conventional) or 35 days (Gov) - this is when the employer last reported data.</p>
                    </div>
                </section>

                <section class="workflow-section" id="byte-method">
                    <h2><span class="section-icon">üíª</span> Reverify in Byte (Recommended)</h2>
                    <div class="step-list">
                        <div class="step-item">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h3>Access VOE Truv Screen</h3>
                                <p>Go to Verifications ‚Üí VOE Truv in Byte.</p>
                            </div>
                        </div>
                        <div class="step-item">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h3>Locate Employer & Click Reverify</h3>
                                <p>Find the current employer requiring reverification in the Order Log. Click the <strong>Reverify</strong> button.</p>
                            </div>
                        </div>
                        <div class="step-item">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h3>Monitor Status</h3>
                                <p>The Status column shows reverification progress. Click "View Timeline" to track status in Truv Dashboard if not instant.</p>
                            </div>
                        </div>
                        <div class="step-item">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <h3>Click Retrieve Reverify</h3>
                                <p>Once completed, click <strong>Retrieve Reverify</strong> button. This automatically adds the VVOE report to Stored Documents and updates the AUS Reference ID.</p>
                            </div>
                        </div>
                    </div>
                    <div class="callout">
                        <div class="callout-title">üí° Instant vs. Re-connect</div>
                        <p>If employer allows cached credentials, reverification is instant. If employer requires sign-in for each connection, the borrower will receive an email to re-connect. Either way, loan team receives "Order Complete" email when done.</p>
                    </div>
                </section>

                <section class="workflow-section" id="sso-method">
                    <h2><span class="section-icon">üåê</span> Reverify via SSO Website</h2>
                    <div class="step-list">
                        <div class="step-item">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h3>Launch Truv from SSO</h3>
                                <p>Open Single Sign-On Dashboard ‚Üí Sales and Marketing ‚Üí Truv</p>
                            </div>
                        </div>
                        <div class="step-item">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h3>Find Order in Dashboard</h3>
                                <p>Navigate to Orders dashboard. Locate and double-click the order to reverify.</p>
                            </div>
                        </div>
                        <div class="step-item">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h3>Click Refresh Data</h3>
                                <p>Select <strong>Refresh Data</strong> in top right. Choose "Employment" and click Continue.</p>
                            </div>
                        </div>
                        <div class="step-item">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <h3>Download Borrower Report</h3>
                                <p>Once refreshed, click <strong>Download borrower report</strong> (top right). Do NOT use the download option under employer name.</p>
                            </div>
                        </div>
                        <div class="step-item">
                            <div class="step-number">5</div>
                            <div class="step-content">
                                <h3>Manual AUS Update Required</h3>
                                <p>Add report to Stored Documents. Manually add the new Report ID to AUS Verification Services in format: <code>SSN:ReportID</code></p>
                            </div>
                        </div>
                    </div>
                    <div class="callout warning-callout">
                        <div class="callout-title">‚ö†Ô∏è Borrower Notification</div>
                        <p>Always notify the borrower BEFORE ordering a Refresh in case they need to re-connect: "Congratulations! Your file has been submitted for Clear to Close. At this point, we must reverify your employment. You may get an email from Truv asking you to reconnect. This is not spam."</p>
                    </div>
                </section>

                <section class="workflow-section" id="review">
                    <h2><span class="section-icon">üìÑ</span> Review Refresh Report</h2>
                    <div class="step-list">
                        <div class="step-item">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <h3>Check Report Date</h3>
                                <p>The Report Date is the date of the reverification - valid for 10 business days or per program VVOE guidelines.</p>
                            </div>
                        </div>
                        <div class="step-item">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <h3>Check "Current as of" Date</h3>
                                <p>This is when the employer last reported data. Valid for 30 days (Conventional) or 35 days (Government).</p>
                            </div>
                        </div>
                        <div class="step-item">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <h3>Verify Employment Status</h3>
                                <p>Confirm status shows "Active" and employment dates align with URLA. Attach report to VVOE condition.</p>
                            </div>
                        </div>
                    </div>
                    <div class="callout">
                        <div class="callout-title">üîó AUS Reference Format</div>
                        <p>The Refresh report has a DIFFERENT Report ID than the original verification. If pulled via SSO, manually add the new reference to AUS: <code>SSN:ReportID</code> (9 digits, no dashes, colon, then 32-character alphanumeric ID)</p>
                    </div>
                </section>
            </div>

            <div id="agents-panel" class="tab-panel">
                <div class="workflow-header">
                    <h1>AI Agent Opportunities</h1>
                    <div class="workflow-meta">
                        <span>ü§ñ 2 Identified Agents</span>
                        <span>üìä Avg Score: 86</span>
                    </div>
                </div>

                <div class="heat-map-container">
                    <div class="heat-map-title">üéØ Agent Impact Heat Map</div>
                    <div class="heat-map-grid">
                        <div class="heat-map-item" onclick="scrollToAgent('agent-1')">
                            <div class="agent-name">VVOE Deadline Tracker</div>
                            <div class="score-bar"><div class="score-fill" style="width: 89%; background: linear-gradient(90deg, #22c55e, #14b8a6);"></div></div>
                            <div class="score-label">Score: 89</div>
                        </div>
                        <div class="heat-map-item" onclick="scrollToAgent('agent-2')">
                            <div class="agent-name">Reverify Auto-Initiator</div>
                            <div class="score-bar"><div class="score-fill" style="width: 83%; background: linear-gradient(90deg, #eab308, #22c55e);"></div></div>
                            <div class="score-label">Score: 83</div>
                        </div>
                    </div>
                </div>

                <div class="agent-card" id="agent-1">
                    <div class="agent-header">
                        <div class="agent-title">üìÖ VVOE Deadline Tracker</div>
                        <div class="agent-score">89</div>
                    </div>
                    <p class="agent-description">Monitors loan closing dates and Truv VVOE validity periods to proactively alert when reverification is needed. Prevents stale VVOE conditions from delaying closing.</p>
                    <div class="agent-details">
                        <div class="detail-box">
                            <div class="detail-label">Trigger</div>
                            <div class="detail-value">Daily Pipeline Scan</div>
                        </div>
                        <div class="detail-box">
                            <div class="detail-label">Integration</div>
                            <div class="detail-value">Closing Calendar</div>
                        </div>
                        <div class="detail-box">
                            <div class="detail-label">ROI Impact</div>
                            <div class="detail-value">High - Prevents delays</div>
                        </div>
                    </div>
                    <button class="view-prompt-btn" onclick="openModal('agent-1-modal')">View Full Agent Prompt</button>
                </div>

                <div class="agent-card" id="agent-2">
                    <div class="agent-header">
                        <div class="agent-title">üîÑ Reverify Auto-Initiator</div>
                        <div class="agent-score">83</div>
                    </div>
                    <p class="agent-description">Automatically initiates Truv reverification when loans reach Clear-to-Close status and VVOE is due. Sends borrower notification and tracks completion.</p>
                    <div class="agent-details">
                        <div class="detail-box">
                            <div class="detail-label">Trigger</div>
                            <div class="detail-value">CTC Status</div>
                        </div>
                        <div class="detail-box">
                            <div class="detail-label">Integration</div>
                            <div class="detail-value">Truv API</div>
                        </div>
                        <div class="detail-box">
                            <div class="detail-label">ROI Impact</div>
                            <div class="detail-value">Medium - Time savings</div>
                        </div>
                    </div>
                    <button class="view-prompt-btn" onclick="openModal('agent-2-modal')">View Full Agent Prompt</button>
                </div>
            </div>
        </main>
    </div>

    <div class="modal-overlay" id="agent-1-modal">
        <div class="modal">
            <div class="modal-header">
                <h3>üìÖ VVOE Deadline Tracker</h3>
                <button class="modal-close" onclick="closeModal('agent-1-modal')">√ó</button>
            </div>
            <div class="modal-body">
                <div class="prompt-section">
                    <h4>üìã Purpose</h4>
                    <div class="prompt-content">Track VVOE validity dates against closing schedules to prevent last-minute reverification delays and ensure timely funding.</div>
                </div>
                <div class="prompt-section">
                    <h4>ü§ñ Full Prompt</h4>
                    <div class="prompt-content">You are a VVOE Deadline Tracker for Truv reverifications.

Daily scan all loans in CTC or Docs Out status:
1. Extract Truv VOIE "Current as of" date
2. Calculate validity expiration (Conv: 30 days, Gov: 35 days)
3. Compare against scheduled closing date
4. Factor in 3-day buffer for reverification completion

Alert levels:
- GREEN: VVOE valid through closing + 5 days
- YELLOW: VVOE expires within 7 days of closing
- RED: VVOE will expire before closing

Generate prioritized action list with:
- Loan number and borrower name
- Current VVOE expiration date
- Closing date
- Days until expiration
- Recommended action</div>
                </div>
                <div class="prompt-section">
                    <h4>üîå Integration Points</h4>
                    <div class="prompt-content">‚Ä¢ Trigger: Daily at 6 AM and on closing date change
‚Ä¢ Input: Pipeline loans in CTC/Docs Out, Truv VOIE dates, closing calendar
‚Ä¢ Output: Alert dashboard, email notifications to processors
‚Ä¢ Action: Flag loans needing immediate reverification</div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="agent-2-modal">
        <div class="modal">
            <div class="modal-header">
                <h3>üîÑ Reverify Auto-Initiator</h3>
                <button class="modal-close" onclick="closeModal('agent-2-modal')">√ó</button>
            </div>
            <div class="modal-body">
                <div class="prompt-section">
                    <h4>üìã Purpose</h4>
                    <div class="prompt-content">Automate Truv reverification initiation when loans reach CTC status, reducing manual processor work and ensuring timely VVOE completion.</div>
                </div>
                <div class="prompt-section">
                    <h4>ü§ñ Full Prompt</h4>
                    <div class="prompt-content">You are a Reverify Auto-Initiator for Truv VVOE.

When loan status changes to Clear-to-Close:
1. Check if Truv VOIE exists for all income sources
2. Verify VVOE is needed (original VOIE > 10 business days old)
3. Send borrower pre-notification email
4. Wait 2 hours then initiate Truv refresh via API
5. Monitor completion status

Borrower notification template:
"Congratulations [Name]! Your file has been submitted
to underwriting for Clear to Close. At this point, we
must reverify your employment. You may receive an
email from Truv asking you to reconnect to your
payroll provider. This is not spam - please watch
for this email and reconnect if prompted."

Track and escalate if not completed within 24 hours.</div>
                </div>
                <div class="prompt-section">
                    <h4>üîå Integration Points</h4>
                    <div class="prompt-content">‚Ä¢ Trigger: Loan status change to CTC
‚Ä¢ Input: Loan status, existing Truv orders, borrower contact info
‚Ä¢ Output: Borrower notification, Truv refresh request
‚Ä¢ Action: Initiate reverification, track completion, escalate if needed</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function switchTab(tab) {
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-panel').forEach(panel => panel.classList.remove('active'));
            if (tab === 'workflow') {
                document.querySelector('.tab-btn:nth-child(1)').classList.add('active');
                document.getElementById('workflow-panel').classList.add('active');
            } else {
                document.querySelector('.tab-btn:nth-child(2)').classList.add('active');
                document.getElementById('agents-panel').classList.add('active');
            }
        }
        function scrollToAgent(agentId) {
            const agent = document.getElementById(agentId);
            agent.scrollIntoView({ behavior: 'smooth', block: 'center' });
            agent.classList.add('highlight');
            setTimeout(() => agent.classList.remove('highlight'), 2000);
        }
        function openModal(modalId) {
            document.getElementById(modalId).classList.add('active');
            document.body.style.overflow = 'hidden';
        }
        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
            document.body.style.overflow = '';
        }
        document.querySelectorAll('.modal-overlay').forEach(overlay => {
            overlay.addEventListener('click', (e) => { if (e.target === overlay) closeModal(overlay.id); });
        });
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') document.querySelectorAll('.modal-overlay.active').forEach(m => closeModal(m.id));
        });
    </script>
</body>
</html>
